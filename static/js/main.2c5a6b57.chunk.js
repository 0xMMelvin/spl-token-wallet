(this["webpackJsonpspl-token-wallet"]=this["webpackJsonpspl-token-wallet"]||[]).push([[1],{114:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return E}));var r=n(55),a=n(6),c=n.n(a),o=n(16),s=n(18),i=n(44),u=n(56),l=n(20),d=n.n(l);function b(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.c)(n),e.next=3,t._rpcRequest("getProgramAccounts",[i.a.toBase58(),{commitment:t.commitment,filters:r}]);case 3:if(!(a=e.sent).error){e.next=6;break}throw new Error("failed to get token accounts owned by "+n.toBase58()+": "+a.error.message);case 6:return e.abrupt("return",a.result.map((function(e){var t=e.pubkey,n=e.account,r=n.data,a=n.executable,c=n.owner,o=n.lamports;return{publicKey:new s.e(t),accountInfo:{data:d.a.decode(r),executable:a,owner:new s.e(c),lamports:o}}})).filter((function(e){var t=e.accountInfo;return r.every((function(e){if(e.dataSize)return t.data.length===e.dataSize;if(e.memcmp){var n=d.a.decode(e.memcmp.bytes);return t.data.slice(e.memcmp.offset,e.memcmp.offset+n.length).equals(n)}return!1}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(c.a.mark((function e(t,n,a,o){var s,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRecentBlockhash("max");case 2:return n.recentBlockhash=e.sent.blockhash,(s=n).setSigners.apply(s,[a.publicKey].concat(Object(r.a)(o.map((function(e){return e.publicKey}))))),o.length>0&&(i=n).partialSign.apply(i,Object(r.a)(o)),e.next=7,a.signTransaction(n);case 7:return n=e.sent,u=n.serialize(),e.next=11,t.sendRawTransaction(u,{preflightCommitment:"single"});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(c.a.mark((function e(t,n,r,a){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(new s.i).add(s.h.transfer({fromPubkey:n.publicKey,toPubkey:r,lamports:a})),e.next=3,f(t,o,n,[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,l,d,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.owner,a=t.mint,o=t.amount,l=t.decimals,d=t.initialAccount,b=new s.i,e.t0=b,e.t1=s.h,e.t2=r.publicKey,e.t3=a.publicKey,e.next=8,n.getMinimumBalanceForRentExemption(u.b.span);case 8:if(e.t4=e.sent,e.t5=u.b.span,e.t6=i.a,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.add.call(e.t0,e.t8),b.add(Object(i.f)({mint:a.publicKey,decimals:l,mintAuthority:r.publicKey})),p=[a],!(o>0)){e.next=32;break}return e.t9=b,e.t10=s.h,e.t11=r.publicKey,e.t12=d.publicKey,e.next=23,n.getMinimumBalanceForRentExemption(u.a.span);case 23:e.t13=e.sent,e.t14=u.a.span,e.t15=i.a,e.t16={fromPubkey:e.t11,newAccountPubkey:e.t12,lamports:e.t13,space:e.t14,programId:e.t15},e.t17=e.t10.createAccount.call(e.t10,e.t16),e.t9.add.call(e.t9,e.t17),p.push(d),b.add(Object(i.e)({account:d.publicKey,mint:a.publicKey,owner:r.publicKey})),b.add(Object(i.h)({mint:a.publicKey,destination:d.publicKey,amount:o,mintAuthority:r.publicKey}));case 32:return e.next=34,f(n,b,r,p);case 34:return e.abrupt("return",e.sent);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.payer,a=t.mintPublicKey,o=t.newAccount,l=new s.i,e.t0=l,e.t1=s.h,e.t2=r.publicKey,e.t3=o.publicKey,e.next=8,n.getMinimumBalanceForRentExemption(u.a.span);case 8:return e.t4=e.sent,e.t5=u.a.span,e.t6=i.a,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.add.call(e.t0,e.t8),l.add(Object(i.e)({account:o.publicKey,mint:a,owner:r.publicKey})),d=[o],e.next=18,f(n,l,r,d);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,s,l,d,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.owner,a=t.sourcePublicKey,o=t.destinationPublicKey,s=t.amount,l=t.memo,d=t.mint,e.next=3,n.getAccountInfo(o);case 3:if(!(p=e.sent)||!p.owner.equals(i.a)){e.next=8;break}return e.next=7,S({connection:n,owner:r,sourcePublicKey:a,destinationPublicKey:o,amount:s,memo:l});case 7:return e.abrupt("return",e.sent);case 8:if(p&&0!==p.lamports){e.next=10;break}throw new Error("Cannot send to address with zero SOL balances");case 10:return e.next=12,b(n,o);case 12:if(!(f=e.sent.map((function(e){var t=e.publicKey,n=e.accountInfo;return{publicKey:t,parsed:Object(u.e)(n.data)}})).filter((function(e){return e.parsed.mint.equals(d)})).sort((function(e,t){return t.parsed.amount-e.parsed.amount}))[0])){e.next=17;break}return e.next=16,S({connection:n,owner:r,sourcePublicKey:a,destinationPublicKey:f.publicKey,amount:s,memo:l});case 16:return e.abrupt("return",e.sent);case 17:return e.next=19,A({connection:n,owner:r,sourcePublicKey:a,destinationPublicKey:o,amount:s,memo:l,mint:d});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=e.ownerPublicKey,n=e.sourcePublicKey,r=e.destinationPublicKey,a=e.amount,c=e.memo,o=(new s.i).add(Object(i.i)({source:n,destination:r,owner:t,amount:a}));return c&&o.add(Object(i.g)(c)),o}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,s,i,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.owner,a=t.sourcePublicKey,o=t.destinationPublicKey,s=t.amount,i=t.memo,u=k({ownerPublicKey:r.publicKey,sourcePublicKey:a,destinationPublicKey:o,amount:s,memo:i}),l=[],e.next=5,f(n,u,r,l);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,l,d,b,p,j,m,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.owner,a=t.sourcePublicKey,o=t.destinationPublicKey,l=t.amount,d=t.memo,b=t.mint,p=new s.a,(j=new s.i).add(Object(i.c)({account:o,owner:s.h.programId})),e.t0=j,e.t1=s.h,e.t2=r.publicKey,e.t3=p.publicKey,e.next=10,n.getMinimumBalanceForRentExemption(u.a.span);case 10:return e.t4=e.sent,e.t5=u.a.span,e.t6=i.a,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.add.call(e.t0,e.t8),j.add(Object(i.e)({account:p.publicKey,mint:b,owner:o})),m=k({ownerPublicKey:r.publicKey,sourcePublicKey:a,destinationPublicKey:p.publicKey,amount:l,memo:d}),j.add(m),h=[p],e.next=22,f(n,j,r,h);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.owner,a=t.sourcePublicKey,o=(new s.i).add(Object(i.d)({source:a,destination:r.publicKey,owner:r.publicKey})),u=[],e.next=5,f(n,o,r,u);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},145:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return x}));var r=n(6),a=n.n(r),c=n(16),o=n(18),s=n(20),i=255,u=224;function l(e,t,n,r){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark((function e(t,n,r,c){var o,s,l,d,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0,s=0,!(c.length>i)){e.next=15;break}case 3:if(!(c.length-s>i)){e.next=15;break}return l=c.slice(s,s+i),s+=i,console.log("send",(2|o).toString(16),l.length.toString(16),l),e.next=9,t.send(u,n,r,2|o,l);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("solana_send: Received unexpected reply payload","UnexpectedReplyPayload");case 12:o|=1,e.next=3;break;case 15:return d=c.slice(s),console.log("send",o.toString(16),d.length.toString(16),d),e.next=19,t.send(u,n,r,o,d);case 19:return b=e.sent,e.abrupt("return",b.slice(0,b.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return(2147483648|e)>>>0}function p(t,n){var r=t||0,a=n||0,c=e.alloc(17),o=0;return o=c.writeUInt8(4,o),o=c.writeUInt32BE(b(44),o),o=c.writeUInt32BE(b(501),o),o=c.writeUInt32BE(b(r),o),c.writeUInt32BE(b(a),o),c}function f(e,t){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,5,0,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark((function e(t,n,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.serializeMessage(),e.abrupt("return",O(t,n,c));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(a.a.mark((function t(n,r,c){var o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=e.alloc(1)).writeUInt8(1),s=e.concat([o,r,c]),t.abrupt("return",l(n,6,1,s));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(e,t){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(a.a.mark((function e(t,n){var r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||p(),e.next=3,f(t,r);case 3:return c=e.sent,i=s.encode(c),e.abrupt("return",new o.e(i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(17).Buffer)},162:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var r=n(55),a=n(6),c=n.n(a),o=n(16),s=n(19),i=n(21),u=n(67),l=n(184),d=n(41),b=n.n(d),p=n(18),f=n(20),j=n.n(f);function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=l.fromSeed(e).derivePath("m/501'/".concat(t,"'/0/").concat(n)).privateKey;return new p.a(b.a.sign.keyPair.fromSeed(r).secretKey)}var h=function(){function t(n){var a=this;Object(s.a)(this,t),this.init=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a);case 1:case"end":return e.stop()}}),e)}))),this.signTransaction=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.partialSign(a.account),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSignature=function(e){return j.a.encode(b.a.sign.detached(e,a.account.secretKey))};var i=Object(u.c)().seed;this.account=n.account,this.listAddresses=function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.from(i,"hex"),t.abrupt("return",Object(r.a)(Array(n).keys()).map((function(e){return{index:e,address:m(a,e).publicKey,name:localStorage.getItem("name".concat(e))}})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}return Object(i.a)(t,[{key:"publicKey",get:function(){return this.account.publicKey}}]),t}()}).call(this,n(17).Buffer)},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n.n(r),c=n(16),o=n(19),s=n(21),i=n(368),u=n(145),l=n(20),d=n.n(l),b=function(){function e(t){var n=this;Object(o.a)(this,e),this.init=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.create();case 2:return n.transport=e.sent,e.next=5,Object(u.a)(n.transport);case 5:return n.pubKey=e.sent,n.transport.on("disconnect",n.onDisconnect),n.listAddresses=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[n.pubKey]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),this.signTransaction=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.b)(),e.next=3,Object(u.d)(n.transport,r,t);case 3:return c=e.sent,t.addSignature(n.publicKey,c),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSignature=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.b)(),e.next=3,Object(u.c)(n.transport,r,t);case 3:return c=e.sent,e.abrupt("return",d.a.encode(c));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onDisconnect=t&&t.onDisconnect||function(){}}return Object(s.a)(e,[{key:"publicKey",get:function(){return this.pubKey}}]),e}()},203:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"signature","type":"bytes"}],"name":"NonceUsed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"string","name":"recipient","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"string","name":"recipient","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"swapErc20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipient","type":"string"}],"name":"swapEth","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"withdrawErc20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"withdrawEth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerWithdrawErc20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerWithdrawEth","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},254:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return x})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return w}));var r=n(6),a=n.n(r),c=n(16),o=n(1),s=n(13),i=n(0),u=n.n(i),l=n(18),d=n(37),b=n(54),p=n(112),f=u.a.createContext(null),j="https://solana-api.projectserum.com";function m(e){var t=e.children,n=Object(d.f)("connectionEndpoint",j),r=Object(s.a)(n,2),a=r[0],c=r[1],u=Object(i.useMemo)((function(){return new l.b(a,"recent")}),[a]);return Object(o.jsx)(f.Provider,{value:{endpoint:a,setEndpoint:c,connection:u},children:t})}function h(){var e=Object(i.useContext)(f);if(!e)throw new Error("Missing connection context");return e.connection}function O(){var e=Object(i.useContext)(f);if(!e)throw new Error("Missing connection context");return{endpoint:e.endpoint,setEndpoint:e.setEndpoint}}function v(){var e=Object(i.useContext)(f);if(!e)throw new Error("Missing connection context");return e.endpoint===j}function x(){var e=Object(i.useContext)(f);if(!e)throw new Error("Missing connection context");var t=e.endpoint;return t===Object(l.k)("devnet")?"?cluster=devnet":t===Object(l.k)("testnet")?"?cluster=testnet":""}function y(e){var t,n=h(),r=Object(p.a)(n,null===e||void 0===e?void 0:e.toBase58()),o=Object(b.c)(Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e?n.getAccountInfo(e):null);case 1:case"end":return t.stop()}}),t)}))),r),u=Object(s.a)(o,2),l=u[0],f=u[1];return Object(i.useEffect)((function(){if(e){var t=null,a=n.onAccountChange(e,(function(e){t&&t.data.equals(e.data)&&t.lamports===e.lamports||(t=e,Object(b.b)(r,e))}));return function(){n.removeAccountChangeListener(a)}}}),[n,null!==(t=null===e||void 0===e?void 0:e.toBase58())&&void 0!==t?t:"",r]),[Object(d.g)(l,(function(e,t){return!!e&&!!t&&e.data.equals(t.data)&&e.lamports===t.lamports})),f]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(p.a)(e,t.toBase58());Object(b.a)(r,n)}function w(e,t,n){var r=Object(p.a)(e,t.toBase58());Object(b.b)(r,n,{initializeOnly:!0})}},30:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return B})),n.d(t,"f",(function(){return K})),n.d(t,"h",(function(){return W})),n.d(t,"b",(function(){return M})),n.d(t,"e",(function(){return D})),n.d(t,"c",(function(){return F})),n.d(t,"g",(function(){return R}));var r=n(1),a=n(55),c=n(33),o=n(13),s=n(6),i=n.n(s),u=n(16),l=n(19),d=n(21),b=n(0),p=n.n(b),f=n(20),j=n(18),m=n(41),h=n.n(m),O=n(28),v=n(114),x=n(44),y=n(56),g=n(37),w=n(81),k=n(54),S=n(67),C=n(367),A=n(162),T=n(80),E={walletIndex:0,importedPubkey:void 0,ledger:!1},I=function(){function e(t,n,r){var a=this;Object(l.a)(this,e),this.getTokenAccountInfo=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(a.connection,a.publicKey);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){var t=e.publicKey,n=e.accountInfo;return Object(O.d)(a.connection,t,n),{publicKey:t,parsed:Object(y.e)(n.data)}})).sort((function(e,t){return e.parsed.mint.toBase58().localeCompare(t.parsed.mint.toBase58())})));case 4:case"end":return e.stop()}}),e)}))),this.createTokenAccount=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)({connection:a.connection,payer:a,mintPublicKey:t,newAccount:new j.a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.tokenAccountCost=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.connection.getMinimumBalanceForRentExemption(y.a.span));case 1:case"end":return e.stop()}}),e)}))),this.transferToken=function(){var e=Object(u.a)(i.a.mark((function e(t,n,r,c){var o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=s.length>4&&void 0!==s[4]?s[4]:null,!t.equals(a.publicKey)){e.next=5;break}if(!o){e.next=4;break}throw new Error("Memo not implemented");case 4:return e.abrupt("return",a.transferSol(n,r));case 5:return e.next=7,Object(v.f)({connection:a.connection,owner:a,sourcePublicKey:t,destinationPublicKey:n,amount:r,memo:o,mint:c});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),this.transferSol=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.e)(a.connection,a,t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.closeTokenAccount=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)({connection:a.connection,owner:a,sourcePublicKey:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.signTransaction=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.provider.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSignature=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.provider.createSignature(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.connection=t,this.type=n,this.provider=C.a.getProvider(n,r)}return Object(d.a)(e,[{key:"publicKey",get:function(){return this.provider.publicKey}},{key:"allowsExport",get:function(){return"local"===this.type}}]),e}();I.create=function(){var e=Object(u.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new I(t,n,r),e.next=3,a.provider.init();case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var N=p.a.createContext(null);function P(t){var n=t.children;Object(g.e)(S.h,"change");var s=Object(S.c)(),l=s.mnemonic,d=s.seed,p=s.importsEncryptionKey,m=Object(T.b)().enqueueSnackbar,v=Object(O.f)(),x=Object(b.useState)(),y=Object(o.a)(x,2),w=y[0],k=y[1],C=Object(g.f)("walletPrivateKeyImports",{}),P=Object(o.a)(C,2),B=P[0],K=P[1],W=Object(g.f)("walletSelector",E),M=Object(o.a)(W,2),D=M[0],F=M[1],R=Object(b.useState)(D.ledger?D.importedPubkey:void 0),L=Object(o.a)(R,2),z=L[0],U=L[1],q=Object(g.f)("walletCount",1),_=Object(o.a)(q,2),X=_[0],G=_[1];Object(b.useEffect)((function(){Object(u.a)(i.a.mark((function t(){var n,r,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=2;break}return t.abrupt("return",null);case 2:if(!D.ledger){t.next=19;break}return t.prev=3,r=function(){F(E),U(void 0)},t.next=7,I.create(v,"ledger",{onDisconnect:r});case 7:n=t.sent,t.next=19;break;case 10:return t.prev=10,t.t0=t.catch(3),console.log("received error using ledger wallet: ".concat(t.t0)),a="Received error unlocking ledger",t.t0.statusCode&&(a+=": ".concat(t.t0.statusCode)),m(a,{variant:"error"}),F(E),U(void 0),t.abrupt("return");case 19:if(n){t.next=24;break}return c=void 0!==D.walletIndex?Object(A.b)(e.from(d,"hex"),D.walletIndex):new j.a(function(){var e=B[D.importedPubkey],t=e.nonce,n=e.ciphertext;return h.a.secretbox.open(f.decode(n),f.decode(t),p)}()),t.next=23,I.create(v,"local",{account:c});case 23:n=t.sent;case 24:k(n);case 25:case"end":return t.stop()}}),t,null,[[3,10]])})))()}),[v,d,D,B,p,F,m]);var H=function(){return JSON.stringify(Object(a.a)(Array(X).keys()).map((function(e){return localStorage.getItem("name".concat(e))})))},J=Object(b.useState)(H()),V=Object(o.a)(J,2),Y=V[0],Z=V[1];var Q=Object(b.useMemo)((function(){if(!d)return[];var t=e.from(d,"hex"),n=Object(a.a)(Array(X).keys()).map((function(e){var n=Object(A.b)(t,e).publicKey,r=localStorage.getItem("name".concat(e));return{selector:{walletIndex:e,importedPubkey:void 0,ledger:!1},isSelected:D.walletIndex===e,address:n,name:0===e?"Main account":r||"Account ".concat(e)}})),r=Object.keys(B).map((function(e){var t=B[e].name;return{selector:{walletIndex:void 0,importedPubkey:e,ledger:!1},address:new j.e(f.decode(e)),name:"".concat(t," (imported)"),isSelected:D.importedPubkey===e}}));return z&&n.push({selector:{walletIndex:void 0,importedPubkey:z,ledger:!0},address:new j.e(z),name:"Hardware wallet",isSelected:D.ledger}),n.concat(r)}),[d,X,D,B,Y,z]);return Object(r.jsx)(N.Provider,{value:{wallet:w,seed:d,mnemonic:l,importsEncryptionKey:p,walletSelector:D,setWalletSelector:F,privateKeyImports:B,setPrivateKeyImports:K,accounts:Q,addAccount:function(e){var t=e.name,n=e.importedAccount;if(e.ledger)U(n);else if(void 0===n)t&&localStorage.setItem("name".concat(X),t),G(X+1);else{var r=h.a.randomBytes(h.a.secretbox.nonceLength),a=n.secretKey,o=h.a.secretbox(a,r,p),s=Object(c.a)({},B);s[n.publicKey.toString()]={name:t,ciphertext:f.encode(o),nonce:f.encode(r)},K(s)}},setAccountName:function(e,t){if(e.importedPubkey&&!e.ledger){var n=Object(c.a)({},B);n[e.importedPubkey.toString()].name=t,K(n)}else localStorage.setItem("name".concat(e.walletIndex),t),Z(H())}},children:n})}function B(){return Object(b.useContext)(N).wallet}function K(){var e=B(),t=Object(k.c)(e.getTokenAccountInfo,e.getTokenAccountInfo),n=Object(o.a)(t,2),r=n[0],c=n[1],s=[e.publicKey].concat(Object(a.a)(r?r.map((function(e){return e.publicKey})):[]));return[s=Object(g.g)(s,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e.equals(t[n])}))})),c]}function W(){var e=B();return Object(k.c)(e.getTokenAccountInfo,e.getTokenAccountInfo)}function M(e){Object(k.a)(e.getTokenAccountInfo)}function D(e){var t=W(),n=Object(o.a)(t,1)[0];return Object(b.useMemo)((function(){var t;return e?null===n||void 0===n||null===(t=n.find((function(t){var n,r;return null===(n=t.parsed)||void 0===n||null===(r=n.mint)||void 0===r?void 0:r.equals(e)})))||void 0===t?void 0:t.publicKey.toBase58():null}),[n,e])}function F(e){var t,n=Object(O.e)(e),r=Object(o.a)(n,2),a=r[0],c=r[1],s=(null===a||void 0===a?void 0:a.owner.equals(x.a))?Object(y.e)(a.data):{},i=s.mint,u=s.owner,l=s.amount,d=Object(O.e)(i),b=Object(o.a)(d,2),p=b[0],f=b[1],j=Object(w.b)(i),m=j.name,h=j.symbol;if(!c)return null;if(i&&i.equals(x.b))return{amount:l,decimals:9,mint:i,owner:u,tokenName:"Wrapped SOL",tokenSymbol:"SOL",valid:!0};if(i&&f)try{return{amount:l,decimals:Object(y.d)(p.data).decimals,mint:i,owner:u,tokenName:m,tokenSymbol:h,valid:!0}}catch(v){return{amount:l,decimals:0,mint:i,owner:u,tokenName:"Invalid",tokenSymbol:"INVALID",valid:!1}}return i?null:{amount:null!==(t=null===a||void 0===a?void 0:a.lamports)&&void 0!==t?t:0,decimals:9,mint:null,owner:e,tokenName:"SOL",tokenSymbol:"SOL",valid:!0}}function R(){var e=Object(b.useContext)(N),t=e.accounts,n=e.addAccount;return{accounts:t,setWalletSelector:e.setWalletSelector,addAccount:n,setAccountName:e.setAccountName}}}).call(this,n(17).Buffer)},367:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(19),a=n(21),c=n(162),o=n(185),s=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"getProvider",value:function(e,t){return"local"===e?new c.a(t):"ledger"===e?new o.a(t):void 0}}]),e}()},37:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j}));var r=n(6),a=n.n(r),c=n(13),o=n(16),s=n(0);function i(e){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){var n=Object(s.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),r=Object(c.a)(n,2),a=r[0],o=r[1],i=Object(s.useCallback)((function(t){a!==t&&(o(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[a,e]);return[a,i]}function d(e,t){Object(s.useEffect)((function(){var n=setTimeout(e,t);return function(){return clearTimeout(n)}}))}function b(e,t){var n=Object(s.useState)(0),r=Object(c.a)(n,2)[1];Object(s.useEffect)((function(){var n=function(){return r((function(e){return e+1}))};return e.on(t,n),function(){return e.removeListener(t,n)}}),[e,t])}function p(e,t){var n=Object(s.useRef)(e);return n.current===e||t(n.current,e)||(n.current=e),n.current}function f(e){var t=e.toBase58();return t.slice(0,4)+"\u2026"+t.slice(t.length-4)}function j(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,t.confirmTransaction(n,"recent");case 3:if(!(c=e.sent).value.err){e.next=6;break}throw new Error("Error confirming transaction: "+JSON.stringify(c.value.err));case 6:return console.log("Transaction confirmed after %sms",(new Date).getTime()-r.getTime()),e.abrupt("return",c.value);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},429:function(e,t,n){},432:function(e,t){},433:function(e,t){},44:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return g}));var r=n(55),a=n(4),c=n(18),o=n(120),s=new c.e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i=new c.e("So11111111111111111111111111111111111111112"),u=new c.e("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),l=a.union(a.u8("instruction"));l.addVariant(0,a.struct([a.u8("decimals"),a.blob(32,"mintAuthority"),a.u8("freezeAuthorityOption"),a.blob(32,"freezeAuthority")]),"initializeMint"),l.addVariant(1,a.struct([]),"initializeAccount"),l.addVariant(3,a.struct([a.nu64("amount")]),"transfer"),l.addVariant(7,a.struct([a.nu64("amount")]),"mintTo"),l.addVariant(8,a.struct([a.nu64("amount")]),"burn"),l.addVariant(9,a.struct([]),"closeAccount");var d=Math.max.apply(Math,Object(r.a)(Object.values(l.registry).map((function(e){return e.span}))));function b(t){var n=e.alloc(d),r=l.encode(t,n);return n.slice(0,r)}function p(e){var t=e.mint,n=e.decimals,r=e.mintAuthority,a=e.freezeAuthority,o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:c.f,isSigner:!1,isWritable:!1}];return new c.j({keys:o,data:b({initializeMint:{decimals:n,mintAuthority:r.toBuffer(),freezeAuthorityOption:!!a,freezeAuthority:(a||new c.e).toBuffer()}}),programId:s})}function f(e){var t=[{pubkey:e.account,isSigner:!1,isWritable:!0},{pubkey:e.mint,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!1,isWritable:!1},{pubkey:c.f,isSigner:!1,isWritable:!1}];return new c.j({keys:t,data:b({initializeAccount:{}}),programId:s})}function j(e){var t=e.source,n=e.destination,r=e.amount,a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new c.j({keys:a,data:b({transfer:{amount:r}}),programId:s})}function m(e){var t=e.mint,n=e.destination,r=e.amount,a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.mintAuthority,isSigner:!0,isWritable:!1}];return new c.j({keys:a,data:b({mintTo:{amount:r}}),programId:s})}function h(e){var t=[{pubkey:e.source,isSigner:!1,isWritable:!0},{pubkey:e.destination,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new c.j({keys:t,data:b({closeAccount:{}}),programId:s})}function O(t){return new c.j({keys:[],data:e.from(t,"utf-8"),programId:u})}var v=new c.e("4MNPdKu9wFMvEeZBMt3Eipfs5ovVWTJb31pEXDJAAxX5"),x=a.struct([Object(o.publicKeyLayout)("account")]);function y(t){var n=e.alloc(x.span),r=x.encode(t,n);return n.slice(0,r)}function g(e){var t=e.account,n=e.owner,r=[{pubkey:t,isSigner:!1,isWritable:!1}];return new c.j({keys:r,data:y({account:n}),programId:v})}}).call(this,n(17).Buffer)},457:function(e,t){},459:function(e,t){},467:function(e,t){},468:function(e,t){},501:function(e,t){},503:function(e,t){},531:function(e,t){},533:function(e,t){},538:function(e,t){},54:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return y}));var r=n(13),a=n(6),c=n.n(a),o=n(16),s=n(55),i=n(19),u=n(21),l=n(9),d=n.n(l),b=n(0),p=n(112),f=new Date,j=new Map,m=new(function(){function e(){Object(i.a)(this,e),this.loops=new Map}return Object(u.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new O(e.cacheKey,e.fn)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&this.loops.delete(e.cacheKey)}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(s.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}()),h=function e(t,n,r,a){Object(i.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.refreshInterval=void 0,this.callback=void 0,this.cacheKey=t,this.fn=n,this.refreshInterval=r,this.callback=a},O=function(){function e(t,n){var r=this;Object(i.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.timeoutId=void 0,this.listeners=void 0,this.errors=void 0,this.refresh=Object(o.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.timeoutId&&(clearTimeout(r.timeoutId),r.timeoutId=null),!r.stopped){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.fn();case 6:return t=e.sent,j.set(r.cacheKey,t),r.errors=0,r.notifyListeners(),e.abrupt("return",t);case 13:e.prev=13,e.t0=e.catch(3),++r.errors,console.warn(e.t0);case 17:return e.prev=17,r.timeoutId||r.stopped||(n=r.refreshInterval,r.errors>0&&(n=Math.min(1e3*Math.pow(2,r.errors-1),6e4)),(a=+new Date-+f)<5e3&&(n+=5e3-a/2),"hidden"===document.visibilityState?n=6e4:document.hasFocus()||(n*=1.5),n*=.8+.4*Math.random(),r.timeoutId=setTimeout(r.refresh,n)),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0}return Object(u.a)(e,[{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){d()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}},{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(s.a)(Object(s.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"stopped",get:function(){return 0===this.listeners.size}}]),e}();function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.refreshInterval,c=void 0===a?6e4:a,o=Object(b.useReducer)((function(e){return e+1}),0),s=Object(r.a)(o,2),i=s[1];if(t=g(t),Object(b.useEffect)((function(){if(t){var n=new h(t,e,c,i);return m.addListener(n),function(){return m.removeListener(n)}}}),[t,c]),!t)return[null,!1];var u=j.has(t),l=u?j.get(t):void 0;return[l,u]}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=g(e),t&&j.delete(e);var n=m.loops.get(e);n&&(n.refresh(),t&&n.notifyListeners())}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initializeOnly,a=void 0!==r&&r;if(e=g(e),!a||!j.has(e)){j.set(e,t);var c=m.loops.get(e);c&&c.notifyListeners()}}function g(e){return Array.isArray(e)?p.a.apply(void 0,Object(s.a)(e)):e}},540:function(e,t){},547:function(e,t){},549:function(e,t){},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(4),a=n(18),c=r.struct([r.blob(32,"mint"),r.blob(32,"owner"),r.nu64("amount"),r.blob(93)]),o=r.struct([r.blob(44),r.u8("decimals"),r.blob(37)]);function s(e){var t=c.decode(e),n=t.mint,r=t.owner,o=t.amount;return{mint:new a.e(n),owner:new a.e(r),amount:o}}function i(e){return{decimals:o.decode(e).decimals}}function u(e){return[{memcmp:{offset:c.offsetOf("owner"),bytes:e.toBase58()}},{dataSize:c.span}]}},561:function(e,t){},564:function(e,t){},572:function(e,t){},594:function(e,t){},602:function(e,t){},623:function(e,t){},624:function(e,t){},67:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return E}));var r=n(6),a=n.n(r),c=n(33),o=n(16),s=n(136),i=n(41),u=n(184),l=n(20),d=n.n(l),b=n(69);function p(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function t(){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(0).then(n.t.bind(null,396,7));case 2:return r=t.sent,c=r.generateMnemonic(128),t.next=6,r.mnemonicToSeed(c);case 6:return o=t.sent,t.abrupt("return",{mnemonic:c,seed:e.from(o).toString("hex")});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function t(r){var c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(0).then(n.t.bind(null,396,7));case 2:if((c=t.sent).validateMnemonic(r)){t.next=5;break}throw new Error("Invalid seed words");case 5:return t.next=7,c.mnemonicToSeed(r);case 7:return o=t.sent,t.abrupt("return",e.from(o).toString("hex"));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=function(){var e=JSON.parse(sessionStorage.getItem("unlocked")||localStorage.getItem("unlocked")||"null");return null===e?{mnemonic:null,seed:null,importsEncryptionKey:null}:Object(c.a)({importsEncryptionKey:T(e.seed)},e)}(),O=new b.EventEmitter;function v(){return h}function x(){return!!localStorage.getItem("locked")}function y(e,t,n){h={mnemonic:e,seed:t,importsEncryptionKey:n},O.emit("change",h)}function g(e,t,n){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark((function t(n,r,c){var o,s,u,l,b,p,f,j,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=JSON.stringify({mnemonic:n,seed:r}),!c){t.next=16;break}return s=Object(i.randomBytes)(16),u="pbkdf2",l=1e5,b="sha256",t.next=8,C(c,s,l,b);case 8:p=t.sent,f=Object(i.randomBytes)(i.secretbox.nonceLength),j=Object(i.secretbox)(e.from(o),f,p),localStorage.setItem("locked",JSON.stringify({encrypted:d.a.encode(j),nonce:d.a.encode(f),kdf:u,salt:d.a.encode(s),iterations:l,digest:b})),localStorage.removeItem("unlocked"),sessionStorage.removeItem("unlocked"),t.next=19;break;case 16:localStorage.setItem("unlocked",o),localStorage.removeItem("locked"),sessionStorage.removeItem("unlocked");case 19:m=T(r),y(n,r,m);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(e,t){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(a.a.mark((function t(n,r){var c,o,s,u,l,b,p,f,j,m,h,O,v,x,g,w;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=JSON.parse(localStorage.getItem("locked")),o=c.encrypted,s=c.nonce,u=c.salt,l=c.iterations,b=c.digest,p=d.a.decode(o),f=d.a.decode(s),j=d.a.decode(u),t.next=6,C(n,j,l,b);case 6:if(m=t.sent,h=i.secretbox.open(p,f,m)){t.next=10;break}throw new Error("Incorrect password");case 10:return O=e.from(h).toString(),v=JSON.parse(O),x=v.mnemonic,g=v.seed,r&&sessionStorage.setItem("unlocked",O),w=T(g),y(x,g,w),t.abrupt("return",{mnemonic:x,seed:g});case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(e,t,n,r){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){return Object(s.pbkdf2)(t,n,r,i.secretbox.keyLength,c,(function(t,n){return t?a(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(t){return u.fromSeed(e.from(t,"hex")).derivePath("m/10016'/0").privateKey}function E(){localStorage.clear(),sessionStorage.removeItem("unlocked"),h={mnemonic:null,seed:null,importsEncryptionKey:null},O.emit("change",h),window.location.reload()}}).call(this,n(17).Buffer)},675:function(e,t){},684:function(e,t){},687:function(e,t){},737:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),o=n(34),s=n.n(o),i=(n(429),n(809)),u=n(778),l=n(807),d=n(808),b=n(390),p=n.n(b),f=n(111),j=n(13),m=n(792),h=n(791),O=n(96),v=n(777),x=n(28),y=n(788),g=n(391),w=n(793),k=n(18),S=n(30),C=n(794),A=n(252),T=n.n(A),E=n(197),I=n.n(E),N=n(377),P=n.n(N),B=n(375),K=n.n(B),W=n(376),M=n.n(W),D=n(795),F=n(814),R=n(740),L=n(194);function z(){return Object(r.jsxs)(L.a,{viewBox:"0 0 450 450",children:[Object(r.jsx)("path",{d:"m374.393945,136.203008c-2.518,2.519 -5.934,3.934 -9.496,3.934l-336.443,0c-11.891,0 -17.914,-14.315 -9.601,-22.817l55.186,-56.441c2.527,-2.584 5.988,-4.041 9.602,-4.041l337.697,0c11.964,0 17.955,14.465 9.496,22.925l-56.441,56.44z"}),Object(r.jsx)("path",{d:"m374.393945,392.628008c-2.518,2.518 -5.934,3.933 -9.496,3.933l-336.443,0c-11.891,0 -17.914,-14.315 -9.601,-22.817l55.186,-56.441c2.527,-2.584 5.988,-4.041 9.602,-4.041l337.697,0c11.964,0 17.955,14.465 9.496,22.925l-56.441,56.441z"}),Object(r.jsx)("path",{d:"m374.393945,188.933008c-2.518,-2.518 -5.934,-3.933 -9.496,-3.933l-336.443,0c-11.891,0 -17.914,14.315 -9.601,22.817l55.186,56.441c2.527,2.584 5.988,4.04 9.602,4.04l337.697,0c11.964,0 17.955,-14.464 9.496,-22.924l-56.441,-56.441z"})]})}var U=n(378),q=n.n(U),_=n(818),X=n(787),G=n(780),H=n(781),J=n(810),V=n(785),Y=n(784),Z=n(786),Q=n(20),$=n.n(Q),ee=n(33),te=n(201),ne=n(817),re=n(45);function ae(e){var t=e.open,n=e.onClose,a=e.onSubmit,c=e.children,o=Object(te.a)(e,["open","onClose","onSubmit","children"]),s=Object(re.a)(),i=Object(u.a)(s.breakpoints.down("xs"));return Object(r.jsx)(ne.a,Object(ee.a)(Object(ee.a)({open:t,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault(),a&&a()}},onClose:n,fullScreen:i},o),{},{children:c}))}function ce(e){var t=e.open,n=e.onAdd,c=e.onClose,o=Object(a.useState)(""),s=Object(j.a)(o,2),i=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],p=d[1],f=Object(a.useState)(""),m=Object(j.a)(f,2),h=m[0],O=m[1],v=b?function(e){try{return new k.a(Q.decode(e))}catch(t){return}}(h):void 0,x=b?i&&void 0!==v:i;return Object(r.jsxs)(ae,{open:t,onEnter:function(){u(""),p(!1),O("")},onClose:c,onSubmit:function(){return n({name:i,importedAccount:v})},fullWidth:!0,children:[Object(r.jsx)(G.a,{children:"Add account"}),Object(r.jsx)(H.a,{style:{paddingTop:16},children:Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(r.jsx)(J.a,{label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",value:i,onChange:function(e){return u(e.target.value.trim())}}),Object(r.jsx)(Y.a,{children:Object(r.jsx)(V.a,{control:Object(r.jsx)(Z.a,{checked:b,onChange:function(){return p(!b)}}),label:"Import private key"})}),b&&Object(r.jsx)(J.a,{label:"Paste your private key here",fullWidth:!0,type:"password",value:h,variant:"outlined",margin:"normal",onChange:function(e){return O(e.target.value.trim())}})]})}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:c,children:"Close"}),Object(r.jsx)(y.a,{type:"submit",color:"primary",disabled:!x,children:"Add"})]})]})}var oe=n(67),se=n(789);function ie(e){var t=e.open,n=e.onClose,a=e.isDeleteAccountEnabled;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(ae,{open:t,onClose:n,onSubmit:function(){Object(oe.a)(),n()},fullWidth:!0,children:[Object(r.jsx)(G.a,{children:"Delete Account"}),Object(r.jsx)(se.a,{style:{margin:20},children:Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:["You will not be able to recover the current accounts without the seed phrase, and the account private key. This action will delete all current accounts from your browser.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("strong",{style:{textAlign:"center"},children:"To prevent loss of funds, please ensure you have the seed phrase and the private key for all current accounts."})]})}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:n,children:"Close"}),Object(r.jsx)(y.a,{type:"submit",color:"secondary",disabled:!a,children:"Delete Account"})]})]})})}var ue=n(6),le=n.n(ue),de=n(16),be=n(185),pe=n(790),fe=n(80);function je(e){var t=e.open,n=e.onAdd,c=e.onClose,o=Object(a.useState)(),s=Object(j.a)(o,2),i=s[0],u=s[1],l=Object(fe.b)().enqueueSnackbar;return Object(a.useEffect)((function(){Object(de.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return e.prev=1,n=new be.a,e.next=5,n.init();case 5:u(n.publicKey),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("received error when attempting to connect ledger: ".concat(e.t0)),26628===e.t0.statusCode&&l("Unlock ledger device",{variant:"error"}),u(void 0),c();case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[t,c,l]),Object(r.jsxs)(ae,{open:t,onEnter:function(){},onClose:function(){u(void 0),c()},onSubmit:function(){u(void 0),n(i),c()},fullWidth:!0,children:[Object(r.jsx)(G.a,{children:"Add hardware wallet"}),Object(r.jsx)(H.a,{style:{paddingTop:16},children:Object(r.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("b",{children:"Hardware wallet detected:"}),Object(r.jsx)("div",{children:i.toString()})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("b",{children:"Connect your ledger and open the Solana application"}),Object(r.jsx)(pe.a,{})]})})}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:function(){u(void 0),c()},children:"Close"}),Object(r.jsx)(y.a,{type:"submit",color:"primary",disabled:!i,children:"Add"})]})]})}var me=Object(v.a)((function(e){return{content:{flexGrow:1,paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},title:{flexGrow:1},button:{marginLeft:e.spacing(1)},menuItemIcon:{minWidth:32}}}));function he(e){var t=e.children,n=me();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{position:"static",children:Object(r.jsxs)(m.a,{children:[Object(r.jsx)(O.a,{variant:"h6",className:n.title,component:"h1",children:"Solana SPL Token Wallet"}),Object(r.jsx)(ve,{}),Object(r.jsx)(Oe,{})]})}),Object(r.jsx)("main",{className:n.content,children:t}),Object(r.jsx)(ye,{})]})}function Oe(){var e,t,n=Object(x.g)(),c=n.endpoint,o=n.setEndpoint,s=Object(a.useState)(null),i=Object(j.a)(s,2),u=i[0],l=i[1],d=me(),b=[x.b,Object(k.k)("devnet"),Object(k.k)("testnet"),"http://localhost:8899"],p=(e={},Object(f.a)(e,x.b,"Mainnet Beta"),Object(f.a)(e,Object(k.k)("devnet"),"Devnet"),Object(f.a)(e,Object(k.k)("testnet"),"Testnet"),e);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F.a,{xsDown:!0,children:Object(r.jsx)(y.a,{color:"inherit",onClick:function(e){return l(e.target)},className:d.button,children:null!==(t=p[c])&&void 0!==t?t:"Network"})}),Object(r.jsx)(F.a,{smUp:!0,children:Object(r.jsx)(_.a,{title:"Select Network",arrow:!0,children:Object(r.jsx)(R.a,{color:"inherit",onClick:function(e){return l(e.target)},children:Object(r.jsx)(z,{})})})}),Object(r.jsx)(g.a,{anchorEl:u,open:!!u,onClose:function(){return l(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},getContentAnchorEl:null,children:b.map((function(e){return Object(r.jsxs)(w.a,{onClick:function(){l(null),o(e)},selected:e===c,children:[Object(r.jsx)(C.a,{className:d.menuItemIcon,children:e===c?Object(r.jsx)(T.a,{fontSize:"small"}):null}),e]},e)}))})]})}function ve(){var e=Object(S.g)(),t=e.accounts,n=e.setWalletSelector,c=e.addAccount,o=Object(a.useState)(null),s=Object(j.a)(o,2),i=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],p=d[1],f=Object(a.useState)(!1),m=Object(j.a)(f,2),h=m[0],v=m[1],x=Object(a.useState)(!1),k=Object(j.a)(x,2),A=k[0],E=k[1],N=Object(a.useState)(!1),B=Object(j.a)(N,2),W=B[0],L=B[1],z=me();return 0===t.length?null:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(je,{open:h,onClose:function(){return v(!1)},onAdd:function(e){c({name:"Hardware wallet",importedAccount:e.toString(),ledger:!0}),n({walletIndex:void 0,importedPubkey:e.toString(),ledger:!0})}}),Object(r.jsx)(ce,{open:b,onClose:function(){return p(!1)},onAdd:function(e){var r=e.name,a=e.importedAccount;c({name:r,importedAccount:a}),n({walletIndex:a?void 0:t.length,importedPubkey:a?a.publicKey.toString():void 0,ledger:!1}),p(!1)}}),Object(r.jsx)(ie,{open:A,onClose:function(){return E(!1)},isDeleteAccountEnabled:W}),Object(r.jsx)(F.a,{xsDown:!0,children:Object(r.jsx)(y.a,{color:"inherit",onClick:function(e){return u(e.target)},className:z.button,children:"Account"})}),Object(r.jsx)(F.a,{smUp:!0,children:Object(r.jsx)(_.a,{title:"Select Account",arrow:!0,children:Object(r.jsx)(R.a,{color:"inherit",onClick:function(e){return u(e.target)},children:Object(r.jsx)(K.a,{})})})}),Object(r.jsxs)(g.a,{anchorEl:i,open:!!i,onClose:function(){return u(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},getContentAnchorEl:null,children:[t.map((function(e){var t=e.isSelected,a=e.selector,c=e.address,o=e.name;e.label;return Object(r.jsxs)(w.a,{onClick:function(){u(null),n(a)},selected:t,component:"div",children:[Object(r.jsx)(C.a,{className:z.menuItemIcon,children:t?Object(r.jsx)(T.a,{fontSize:"small"}):null}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(r.jsx)(O.a,{children:o}),Object(r.jsx)(O.a,{color:"textSecondary",children:c.toBase58()})]})]},c.toBase58())})),Object(r.jsx)(D.a,{}),Object(r.jsxs)(w.a,{onClick:function(){return v(!0)},children:[Object(r.jsx)(C.a,{className:z.menuItemIcon,children:Object(r.jsx)(M.a,{fontSize:"small"})}),"Import Hardware Wallet"]}),Object(r.jsxs)(w.a,{onClick:function(){u(null),p(!0)},children:[Object(r.jsx)(C.a,{className:z.menuItemIcon,children:Object(r.jsx)(I.a,{fontSize:"small"})}),"Add Account"]}),Object(r.jsxs)(w.a,{onClick:function(){u(null),L(!1),E(!0),setTimeout((function(){L(!0)}),3e3)},children:[Object(r.jsx)(C.a,{className:z.menuItemIcon,children:Object(r.jsx)(P.a,{fontSize:"small"})}),"Delete Account"]})]})]})}var xe=Object(v.a)((function(e){return{footer:{display:"flex",justifyContent:"flex-end",margin:e.spacing(2)}}}));function ye(){var e=xe();return Object(r.jsx)("footer",{className:e.footer,children:Object(r.jsx)(y.a,{variant:"outlined",color:"primary",component:"a",target:"_blank",rel:"noopener",href:"https://github.com/serum-foundation/spl-token-wallet",startIcon:Object(r.jsx)(q.a,{}),children:"View Source"})})}var ge=n(801),we=n(783),ke=n(741),Se=n(798),Ce=n(257),Ae=n(37),Te=Object(v.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",padding:e.spacing(2)}}}));function Ee(e){var t=e.height,n=void 0===t?null:t,c=e.delay,o=void 0===c?500:c,s=Object(te.a)(e,["height","delay"]),i=Te(),u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1];Object(Ae.d)((function(){return b(!0)}),o);var p={};return n&&(p.height=n),d?Object(r.jsx)("div",Object(ee.a)(Object(ee.a)({className:i.root,style:p},s),{},{children:Object(r.jsx)(pe.a,{})})):n?Object(r.jsx)("div",{style:p}):null}var Ie=n(776),Ne=n(796),Pe=n(380),Be=n.n(Pe),Ke=n(381),We=n.n(Ke),Me=n(379),De=n.n(Me),Fe=Object(v.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(1),marginBottom:e.spacing(1),alignItems:"baseline"}}}));function Re(e){var t=e.value,n=e.label,c=e.autoFocus,o=e.qrCode,s=e.helperText,i=Object(fe.b)().enqueueSnackbar,u=Object(a.useRef)(),l=Fe();return Object(r.jsxs)("div",{className:l.root,children:[Object(r.jsx)(J.a,{inputRef:function(e){return u.current=e},multiline:!0,autoFocus:c,value:t,readOnly:!0,onFocus:function(e){return e.currentTarget.select()},className:l.textArea,fullWidth:!0,helperText:s,label:n,spellCheck:!1}),Object(r.jsx)(R.a,{onClick:function(){var e=u.current;e&&(e.select(),document.execCommand("copy"),i("Copied ".concat(n),{variant:"info",autoHideDuration:2500}))},children:Object(r.jsx)(Be.a,{})}),o?Object(r.jsx)(ze,{value:!0===o?t:o}):null]})}var Le=Object(v.a)((function(e){return{qrcodeContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(2)}}}));function ze(e){var t=e.value,n=c.a.useState(!1),a=Object(j.a)(n,2),o=a[0],s=a[1],i=Le();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R.a,{onClick:function(){return s(!0)},children:Object(r.jsx)(We.a,{})}),Object(r.jsx)(ne.a,{open:o,onClose:function(){return s(!1)},children:Object(r.jsx)(H.a,{className:i.qrcodeContainer,children:Object(r.jsx)(De.a,{value:t,size:256,includeMargin:!0})})})]})}var Ue=Object(v.a)((function(e){return{explorerLink:{marginBottom:e.spacing(2)},warning:{marginBottom:e.spacing(2)},container:{minWidth:600}}}));function qe(e){var t=e.open,n=e.onClose,a=e.publicKey,c=e.balanceInfo,o=c.mint,s=c.tokenName,i=c.tokenSymbol,u=Object(x.i)(),l=Ue();return Object(r.jsxs)(ae,{open:t,onClose:n,children:[Object(r.jsxs)(G.a,{children:[null!==s&&void 0!==s?s:Object(Ae.a)(o),i?" (".concat(i,")"):null]}),Object(r.jsxs)(H.a,{className:l.container,children:[Object(r.jsxs)(O.a,{className:l.warning,children:["Information about ",null!==s&&void 0!==s?s:Object(Ae.a)(o)]}),Object(r.jsx)(O.a,{variant:"body2",className:l.explorerLink,children:Object(r.jsx)(Ne.a,{href:"https://explorer.solana.com/account/".concat(a.toBase58())+u,target:"_blank",rel:"noopener",children:"View on Solana Explorer"})}),!!o&&Object(r.jsx)(Re,{value:o.toBase58(),label:"Token Mint Address",autoFocus:!0,helperText:Object(r.jsxs)(r.Fragment,{children:["This is ",Object(r.jsx)("strong",{children:"not"})," your deposit address"]})}),!!s&&Object(r.jsx)(Re,{value:s,label:"Token Name"}),!!i&&Object(r.jsx)(Re,{value:i,label:"Token Symbol"})]})]})}var _e=n(198),Xe=n.n(_e),Ge=n(199),He=n.n(Ge),Je=n(387),Ve=n.n(Je),Ye=n(386),Ze=n.n(Ye),Qe=n(388),$e=n.n(Qe),et=n(384),tt=n.n(et),nt=n(385),rt=n.n(nt),at=n(383),ct=n.n(at),ot=n(81),st=n(54),it=n(812),ut=n(797);function lt(){var e=Object(x.f)(),t=Object(fe.b)(),n=t.enqueueSnackbar,c=t.closeSnackbar,o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],u=s[1];function l(){return(l=Object(de.a)(le.a.mark((function t(a){var o,s,i,l,d,b=arguments;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=b.length>1&&void 0!==b[1]?b[1]:{},s=o.onSuccess,i=o.onError,l=n("Sending transaction...",{variant:"info",persist:!0}),u(!0),t.prev=3,t.next=6,a;case 6:return d=t.sent,c(l),l=n("Confirming transaction...",{variant:"info",persist:!0,action:Object(r.jsx)(dt,{signature:d})}),t.next=11,Object(Ae.b)(e,d);case 11:c(l),u(!1),n("Transaction confirmed",{variant:"success",autoHideDuration:15e3,action:Object(r.jsx)(dt,{signature:d})}),s&&s(d),t.next=24;break;case 17:t.prev=17,t.t0=t.catch(3),c(l),u(!1),console.warn(t.t0.message),n(t.t0.message,{variant:"error"}),i&&i(t.t0);case 24:case"end":return t.stop()}}),t,null,[[3,17]])})))).apply(this,arguments)}return[function(e){return l.apply(this,arguments)},i]}function dt(e){var t=e.signature,n=Object(x.i)();return Object(r.jsx)(y.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(t)+n,children:"View on Solana Explorer"})}function bt(){var e=Object(fe.b)(),t=e.enqueueSnackbar,n=e.closeSnackbar;return function(){var e=Object(de.a)(le.a.mark((function e(r){var a,c,o,s,i,u,l,d,b,p=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:{},c=a.progressMessage,o=void 0===c?"Submitting...":c,s=a.successMessage,i=void 0===s?"Success":s,u=a.onSuccess,l=a.onError,d=t(o,{variant:"info",persist:!0}),e.prev=2,e.next=5,r;case 5:b=e.sent,n(d),i&&t(i,{variant:"success"}),u&&u(b),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.warn(e.t0),n(d),t(e.t0.message,{variant:"error"}),l&&l(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}var pt=!!localStorage.getItem("showTokenInfoDialog"),ft=n(19),jt=n(35),mt=n(36),ht=n(392),Ot=function(e){Object(jt.a)(n,e);var t=Object(mt.a)(n);function n(e,r){var a;return Object(ft.a)(this,n),(a=t.call(this,e)).name="SwapApiError",a.status=r,a}return n}(Object(ht.a)(Error));function vt(e,t,n){return xt.apply(this,arguments)}function xt(){return(xt=Object(de.a)(le.a.mark((function e(t,n,r){var a,c,o,s,i,u,l=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:{},c=a.ignoreUserErrors,o=void 0!==c&&c,i={headers:s={},method:t},"GET"===t?i.cache="no-cache":r&&(s["Content-Type"]="application/json",i.body=JSON.stringify(r)),e.next=6,fetch("https://swap.sollet.io/api/".concat(n),i);case 6:return u=e.sent,e.next=9,yt(u,o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(de.a)(le.a.mark((function e(t,n){var r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if((r=e.sent).success){e.next=7;break}if(!(n&&t.status>=400&&t.status<500)){e.next=6;break}return e.abrupt("return",null);case 6:throw new Ot(r.error,t.status);case 7:return e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){return Object(st.c)(Object(de.a)(le.a.mark((function t(){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,vt("GET",e,void 0,{ignoreUserErrors:!0});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),["swapApiGet",e],t)}function kt(e){var t,n,c=e.mint,o=e.url,s=e.tokenName,i=e.size,u=void 0===i?20:i,l=Object(x.g)().endpoint,d=Object(a.useState)(!1),b=Object(j.a)(d,2),p=b[0],f=b[1];o||(o=null===c?"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png":null===ot.a||void 0===ot.a||null===(t=ot.a[l])||void 0===t||null===(n=t.find((function(e){return e.mintAddress===(null===c||void 0===c?void 0:c.toBase58())})))||void 0===n?void 0:n.icon);return p||!o?null:Object(r.jsx)("img",{src:o,title:s,alt:s,style:{width:u,height:u,backgroundColor:"white",borderRadius:u/2},onError:function(){return f(!0)}})}var St=new Intl.NumberFormat(void 0,{minimumFractionDigits:6,maximumFractionDigits:6}),Ct=Object(v.a)((function(e){return{tabs:{marginBottom:e.spacing(1),borderBottom:"1px solid ".concat(e.palette.background.paper)}}}));function At(e){var t=e.open,n=e.onClose,o=Object(S.d)(),s=Object(st.c)(o.tokenAccountCost,o.tokenAccountCost),i=Object(j.a)(s,1)[0],u=Ct(),l=Object(ot.c)(),d=lt(),b=Object(j.a)(d,2),p=b[0],f=b[1],m=Object(x.g)().endpoint,h=ot.a[m],O=Object(S.h)(),v=Object(j.a)(O,1)[0],g=Object(a.useState)(h?"popular":"manual"),w=Object(j.a)(g,2),C=w[0],A=w[1],T=Object(a.useState)(""),E=Object(j.a)(T,2),I=E[0],N=E[1],P=Object(a.useState)(""),B=Object(j.a)(P,2),K=B[0],W=B[1],M=Object(a.useState)(""),D=Object(j.a)(M,2),F=D[0],R=D[1],L=Object(a.useState)(""),z=Object(j.a)(L,2),U=z[0],q=z[1];function _(e){"manual"===C?e={mintAddress:I,tokenName:K,tokenSymbol:F}:"erc20"===C&&(e={erc20Address:U}),p(function(e){return V.apply(this,arguments)}(e),{onSuccess:function(){Object(S.b)(o),n()}})}function V(){return(V=Object(de.a)(le.a.mark((function e(t){var n,r,a,c,s,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mintAddress,r=t.tokenName,a=t.tokenSymbol,!(c=t.erc20Address)){e.next=9;break}return e.next=4,vt("POST","coins/eth/".concat(c));case 4:s=e.sent,n=s.splMint,r=s.name,a=s.ticker,"sol"!==s.blockchain&&(r="Wrapped "+r);case 9:return i=new k.e(n),l(i,r,a),e.next=13,o.createTokenAccount(i);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){h||A("manual")}),[h]);var Y=!0;return"erc20"===C&&(Y=42===U.length&&U.startsWith("0x")),Object(r.jsxs)(ae,{open:t,onClose:n,children:[Object(r.jsx)(G.a,{children:"Add Token"}),Object(r.jsxs)(H.a,{children:[i?Object(r.jsxs)(se.a,{children:["Add a token to your wallet. This will cost"," ",St.format(i/k.c)," SOL."]}):Object(r.jsx)(Ee,{}),!!h&&Object(r.jsxs)(it.a,{value:C,textColor:"primary",indicatorColor:"primary",className:u.tabs,onChange:function(e,t){return A(t)},children:[Object(r.jsx)(ut.a,{label:"Popular Tokens",value:"popular"}),Object(r.jsx)(ut.a,{label:"ERC20 Token",value:"erc20"}),Object(r.jsx)(ut.a,{label:"Manual Input",value:"manual"})]}),"manual"!==C&&h?"popular"===C?Object(r.jsx)(we.a,{disablePadding:!0,children:h.filter((function(e){return!e.deprecated})).map((function(e){return Object(r.jsx)(Tt,Object(ee.a)(Object(ee.a)({},e),{},{existingAccount:(v||[]).find((function(t){return t.parsed.mint.toBase58()===e.mintAddress})),onSubmit:_,disalbed:f}),e.mintAddress)}))}):"erc20"===C?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J.a,{label:"ERC20 Contract Address",fullWidth:!0,variant:"outlined",margin:"normal",value:U,onChange:function(e){return q(e.target.value.trim())},autoFocus:!0,disabled:f}),U&&Y?Object(r.jsx)(Ne.a,{href:"https://etherscan.io/token/".concat(U),target:"_blank",rel:"noopener",children:"View on Etherscan"}):null]}):null:Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(J.a,{label:"Token Mint Address",fullWidth:!0,variant:"outlined",margin:"normal",value:I,onChange:function(e){return N(e.target.value)},autoFocus:!0,disabled:f}),Object(r.jsx)(J.a,{label:"Token Name",fullWidth:!0,variant:"outlined",margin:"normal",value:K,onChange:function(e){return W(e.target.value)},disabled:f}),Object(r.jsx)(J.a,{label:"Token Symbol",fullWidth:!0,variant:"outlined",margin:"normal",value:F,onChange:function(e){return R(e.target.value)},disabled:f})]})]}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:n,children:"Cancel"}),"popular"!==C&&Object(r.jsx)(y.a,{type:"submit",color:"primary",disabled:f||!Y,onClick:function(){return _({tokenName:K,tokenSymbol:F,mintAddress:I})},children:"Add"})]})]})}function Tt(e){var t=e.tokenName,n=e.icon,o=e.tokenSymbol,s=e.mintAddress,i=e.onSubmit,u=e.disabled,l=e.existingAccount,d=Object(a.useState)(!1),b=Object(j.a)(d,2),p=b[0],f=b[1],m=Object(x.i)(),h=!!l;return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsxs)(ke.a,{button:!0,onClick:function(){return f((function(e){return!e}))},children:[Object(r.jsx)(C.a,{children:Object(r.jsx)(kt,{url:n,tokenName:t,size:20})}),Object(r.jsx)(Se.a,{primary:Object(r.jsxs)(Ne.a,{target:"_blank",rel:"noopener",href:"https://explorer.solana.com/account/".concat(s)+m,children:[null!==t&&void 0!==t?t:Object(Ae.a)(s),o?" (".concat(o,")"):null]})}),p?Object(r.jsx)(Xe.a,{}):Object(r.jsx)(He.a,{})]}),Object(r.jsx)(y.a,{type:"submit",color:"primary",disabled:u||h,onClick:function(){return i({tokenName:t,tokenSymbol:o,mintAddress:s})},children:h?"Added":"Add"})]},t),Object(r.jsx)(Ie.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(r.jsx)(Re,{value:s,label:"".concat(o," Mint Address")})})]})}function Et(e){var t=e.open,n=e.onClose,c=Object(S.d)(),o=Object(a.useState)(!0),s=Object(j.a)(o,2),i=s[0],u=s[1];return Object(r.jsxs)(ae,{open:t,onClose:n,fullWidth:!0,children:[Object(r.jsx)(G.a,{children:"Export account"}),Object(r.jsxs)(H.a,{children:[Object(r.jsx)(J.a,{label:"Private key",fullWidth:!0,type:i&&"password",variant:"outlined",margin:"normal",value:Q.encode(c.provider.account.secretKey)}),Object(r.jsx)(V.a,{control:Object(r.jsx)(Z.a,{checked:!i,onChange:function(){return u(!i)}}),label:"Reveal"})]}),Object(r.jsx)(X.a,{children:Object(r.jsx)(y.a,{onClick:n,children:"Close"})})]})}var It=n(188),Nt=n(800),Pt=n(382),Bt=n.n(Pt),Kt=n(254),Wt=n(203),Mt=new Bt.a(window.ethereum);function Dt(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){if(window.ethereum){var e=function(e){return r(e.length>0?e[0]:null)};return window.ethereum.request({method:"eth_accounts"}).then(e),window.ethereum.on("accountsChanged",e),function(){return window.ethereum.removeListener("accountsChanged",e)}}}),[]),n}function Ft(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(de.a)(le.a.mark((function e(t,n){var r,a,c,o,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=7;break}return e.t0=parseInt,e.next=4,Mt.eth.getBalance(t);case 4:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.abrupt("return",e.t2/1e18);case 7:return r=new Mt.eth.Contract(Kt,n),e.next=10,Promise.all([r.methods.balanceOf(t).call(),r.methods.decimals().call()]);case 10:return a=e.sent,c=Object(j.a)(a,2),o=c[0],s=c[1],e.abrupt("return",parseInt(o,10)/Math.pow(10,parseInt(s,10)));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(de.a)(le.a.mark((function e(t){var n,r,a,c,o,s,i,u,l,d,b,p,f;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ethAccount,r=t.erc20Address,a=t.swapAddress,c=t.destination,o=t.amount,s=t.onStatusChange,r){e.next=3;break}return e.abrupt("return",Ut({ethAccount:n,swapAddress:a,destination:c,amount:o,onStatusChange:s}));case 3:return i=new Mt.eth.Contract(Kt,r),u=new Mt.eth.Contract(Wt,a),e.t0=parseInt,e.next=8,i.methods.decimals().call();case 8:return e.t1=e.sent,l=(0,e.t0)(e.t1,10),d=_t(o,l),b=i.methods.approve(a,d).send({from:n}),e.next=14,Ht(b);case 14:return s({step:1}),p=u.methods.swapErc20(r,c,d).send({from:n,gasLimit:1e5}),e.next=18,Ht(p);case 18:return f=e.sent,s({step:2,txid:f,confirms:0}),e.next=22,Promise.all([b,p,Jt(p,s)]);case 22:s({step:3});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(de.a)(le.a.mark((function e(t){var n,r,a,c,o,s,i,u,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethAccount,r=t.swapAddress,a=t.destination,c=t.amount,o=t.onStatusChange,s=new Mt.eth.Contract(Wt,r),i=_t(c,18),u=s.methods.swapEth(a).send({from:n,value:i}),e.next=6,Ht(u);case 6:return l=e.sent,o({step:2,txid:l,confirms:0}),e.next=10,Promise.all([u,Jt(u,o)]);case 10:o({step:3});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){if(!/^\d*\.?\d*$/.test(e))throw new Error("Invalid number");e.includes(".")||(e+=".");var n=e.split("."),r=Object(j.a)(n,2),a=r[0],c=r[1];return c.length>t?c=c.slice(0,t):c+="0".repeat(t-c.length),(a+c).replace(/^0+/,"")||"0"}var Xt=new Set;function Gt(){return(Gt=Object(de.a)(le.a.mark((function e(t,n,r){var a,c,o,s,i,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.txData,c=a.params,o=a.signature,s=new Mt.eth.Contract(Wt,c[1]),"withdrawErc20"!==c[0]){e.next=7;break}i=s.methods.withdrawErc20(c[2],c[3],c[4],c[5],o),u=c[5],e.next=13;break;case 7:if("withdrawEth"!==c[0]){e.next=12;break}i=s.methods.withdrawEth(c[2],c[3],c[4],o),u=c[4],e.next=13;break;case 12:return e.abrupt("return");case 13:if(!Xt.has(u)){e.next=15;break}return e.abrupt("return");case 15:return e.prev=15,e.next=18,i.estimateGas();case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(15),e.abrupt("return");case 23:return Xt.add(u),e.next=26,r(i.send({from:t}),{progressMessage:"Completing ".concat(n.coin.ticker," transfer...")});case 26:Xt.delete(u);case 27:case"end":return e.stop()}}),e,null,[[15,20]])})))).apply(this,arguments)}function Ht(e){return new Promise((function(t,n){e.once("transactionHash",t).catch(n)}))}function Jt(e,t){return new Promise((function(n,r){var a=!1;e.on("confirmation",(function(e,c){a||(t({confirms:e+1}),c.status?e>=11&&(n(),a=!0):(r("Transaction failed"),a=!0))}))}))}function Vt(){var e=bt();if(!window.ethereum)return Object(r.jsx)(y.a,{color:"primary",variant:"outlined",component:"a",href:"https://metamask.io/",target:"_blank",rel:"noopener",children:"Connect to MetaMask"});return Object(r.jsx)(y.a,{color:"primary",variant:"outlined",onClick:function(){e(window.ethereum.request({method:"eth_requestAccounts"}),{progressMessage:"Connecting to MetaMask...",successMessage:"Connected to MetaMask"})},children:"Connect to MetaMask"})}var Yt=n(819),Zt=n(799),Qt=n(816),$t=n(44),en=n(56),tn=new k.e("BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW"),nn=new k.e("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");function rn(e){var t=e.open,n=e.onClose,c=e.publicKey,o=e.balanceInfo,s=Object(x.h)(),i=Object(a.useState)("spl"),u=Object(j.a)(i,2),l=u[0],d=u[1],b=Object(a.useRef)(),p=wt(o.mint&&s?"coins/sol/".concat(o.mint.toBase58()):null),f=Object(j.a)(p,1)[0],m=Dt(),h=o.mint,O=o.tokenName,v=o.tokenSymbol;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ae,{open:t,onClose:n,onSubmit:function(){return b.current()},fullWidth:!0,children:[Object(r.jsxs)(G.a,{children:["Send ",null!==O&&void 0!==O?O:Object(Ae.a)(h),v?" (".concat(v,")"):null]}),f?Object(r.jsx)(it.a,{value:l,variant:"fullWidth",onChange:function(e,t){return d(t)},textColor:"primary",indicatorColor:"primary",children:(null===h||void 0===h?void 0:h.equals(tn))?[Object(r.jsx)(ut.a,{label:"SPL WUSDC",value:"spl"},"spl"),Object(r.jsx)(ut.a,{label:"SPL USDC",value:"wusdcToSplUsdc"},"wusdcToSplUsdc"),Object(r.jsx)(ut.a,{label:"ERC20 USDC",value:"swap"},"swap")]:[Object(r.jsx)(ut.a,{label:"SPL ".concat(f.ticker),value:"spl"},"spl"),Object(r.jsx)(ut.a,{label:"".concat(f.erc20Contract?"ERC20":"Native"," ").concat(f.ticker),value:"swap"},"swap")]}):null,"spl"===l?Object(r.jsx)(an,{onClose:n,publicKey:c,balanceInfo:o,onSubmitRef:b}):"wusdcToSplUsdc"===l?Object(r.jsx)(cn,{onClose:n,publicKey:c,balanceInfo:o,swapCoinInfo:f,onSubmitRef:b,wusdcToSplUsdc:!0},l):Object(r.jsx)(cn,{onClose:n,publicKey:c,balanceInfo:o,swapCoinInfo:f,ethAccount:m,onSubmitRef:b},l)]}),m&&("eth"===(null===f||void 0===f?void 0:f.blockchain)||(null===f||void 0===f?void 0:f.erc20Contract))?Object(r.jsx)(un,{ethAccount:m,publicKey:c}):null]})}function an(e){var t=e.onClose,n=e.publicKey,c=e.balanceInfo,o=e.onSubmitRef,s=!c.mint||c.mint.equals($t.b)?"Enter Solana Address":"Enter SPL token or Solana address",i=Object(S.d)(),u=lt(),l=Object(j.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)(s),f=Object(j.a)(p,2),m=f[0],h=f[1],O=Object(a.useState)(),v=Object(j.a)(O,2),x=v[0],g=v[1],w=sn(c,m,x),C=w.fields,A=w.destinationAddress,T=w.transferAmountString,E=w.validAmount,I=c.decimals,N=c.mint,P=N&&N.toBase58();function B(){return K.apply(this,arguments)}function K(){return(K=Object(de.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Math.round(parseFloat(T)*Math.pow(10,I)))&&!(t<=0)){e.next=3;break}throw new Error("Invalid amount");case 3:return e.abrupt("return",i.transferToken(n,new k.e(A),t,c.mint));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(B(),{onSuccess:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){Object(de.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=4;break}return h(s),g(void 0),e.abrupt("return");case 4:return e.prev=4,e.next=7,i.connection.getAccountInfo(new k.e(A));case 7:(t=e.sent).owner.equals($t.a)?Object(en.e)(t.data).mint.toBase58()===P?(g(!0),h("Address is a valid SPL token address")):(g(!1),h("Destination address mint does not match")):(g(!0),h("Destination is a Solana address")),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Received error validating address ".concat(e.t0)),h(s),g(void 0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})))()}),[A,i,P]),o.current=function(){return W.apply(this,arguments)},Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H.a,{children:C}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:t,children:"Cancel"}),Object(r.jsx)(y.a,{type:"submit",color:"primary",disabled:b||!E,children:"Send"})]})]})}function cn(e){var t=e.onClose,n=e.publicKey,c=e.balanceInfo,o=e.swapCoinInfo,s=e.ethAccount,i=e.wusdcToSplUsdc,u=void 0!==i&&i,l=e.onSubmitRef,d=Object(S.d)(),b=lt(),p=Object(j.a)(b,2),f=p[0],m=p[1],h=Object(a.useState)(null),O=Object(j.a)(h,2),v=O[0],x=O[1],g=sn(c),w=g.fields,C=g.destinationAddress,A=g.transferAmountString,T=g.setDestinationAddress,E=g.validAmount,I=c.tokenName,N=c.decimals,P=c.mint,B=u?"sol":"sol"===o.blockchain?"eth":o.blockchain,K="eth"===B;Object(a.useEffect)((function(){"eth"===B&&s&&T(s)}),[B,s,T]);var W=Object(S.e)(u?nn:null);function M(){return D.apply(this,arguments)}function D(){return(D=Object(de.a)(le.a.mark((function e(){var t,r,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Math.round(parseFloat(A)*Math.pow(10,N)))&&!(t<=0)){e.next=3;break}throw new Error("Invalid amount");case 3:return r={blockchain:B,address:C,size:t/Math.pow(10,N)},"sol"===B?r.coin=o.splMint:"eth"===B&&(r.coin=o.erc20Contract),(null===P||void 0===P?void 0:P.equals(tn))&&(r.wusdcToUsdc=!0),e.next=8,vt("POST","swap_to",r);case 8:if("sol"===(a=e.sent).blockchain){e.next=11;break}throw new Error("Unexpected blockchain");case 11:return e.abrupt("return",d.transferToken(n,new k.e(a.address),t,c.mint,a.memo));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(M(),{onSuccess:x}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){u&&W&&T(W)}),[T,u,W]),l.current=function(){return F.apply(this,arguments)},v?Object(r.jsx)(on,{publicKey:n,signature:v,blockchain:B,onClose:t},v):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H.a,{style:{paddingTop:16},children:[Object(r.jsxs)(se.a,{children:["SPL ",I," can be converted to"," ","eth"===B&&o.erc20Contract?"ERC20":"sol"===B&&o.splMint?"SPL":"native"," ",o.ticker,K?" via MetaMask":null,"."]}),K&&!s?Object(r.jsx)(Vt,{}):w]}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:t,children:"Cancel"}),Object(r.jsx)(y.a,{type:"submit",color:"primary",disabled:m||K&&!s||!E,children:"Send"})]})]})}function on(e){var t,n=e.publicKey,a=e.signature,c=e.onClose,o=e.blockchain,s=Object(x.f)(),i=wt("swaps_from/sol/".concat(n.toBase58()),{refreshInterval:1e3}),u=Object(j.a)(i,1)[0],l=Object(st.c)(Object(de.a)(le.a.mark((function e(){var t,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getSignatureStatus(a);case 2:return t=e.sent,n=t.value,e.abrupt("return",null===n||void 0===n?void 0:n.confirmations);case 5:case"end":return e.stop()}}),e)}))),[s.getSignatureStatus,a],{refreshInterval:2e3}),d=Object(j.a)(l,1)[0],b=1,p=null,f=Object(It.a)(u||[]);try{for(f.s();!(t=f.n()).done;){var m,h=t.value,v=h.deposit,g=h.withdrawal;if(v.txid===a)(null===(m=g.txid)||void 0===m?void 0:m.startsWith("0x"))?(b=3,p=g.txid):b=g.txid&&"eth"!==o?3:2}}catch(w){f.e(w)}finally{f.f()}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H.a,{children:[Object(r.jsxs)(Yt.a,{activeStep:b,children:[Object(r.jsx)(Zt.a,{children:Object(r.jsx)(Qt.a,{children:"Send Request"})}),Object(r.jsx)(Zt.a,{children:Object(r.jsx)(Qt.a,{children:"Wait for Confirmations"})}),Object(r.jsx)(Zt.a,{children:Object(r.jsx)(Qt.a,{children:"Withdraw Funds"})})]}),p?Object(r.jsx)(O.a,{variant:"body2",align:"center",children:Object(r.jsx)(Ne.a,{href:"https://etherscan.io/tx/".concat(p),target:"_blank",rel:"noopener",children:"View on Etherscan"})}):b<3?Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(r.jsx)("div",{style:{marginRight:16},children:Object(r.jsx)(pe.a,{})}),d?Object(r.jsxs)(O.a,{children:[d," / 35 Confirmations"]}):Object(r.jsx)(O.a,{children:"Transaction Pending"})]}):null,p||"eth"!==o?null:Object(r.jsx)(se.a,{style:{marginTop:16,marginBottom:0},children:"Please keep this window open. You will need to approve the request on MetaMask to complete the transaction."})]}),Object(r.jsx)(X.a,{children:Object(r.jsx)(y.a,{onClick:c,children:"Close"})})]})}function sn(e,t,n){var c=Object(a.useState)(""),o=Object(j.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(""),l=Object(j.a)(u,2),d=l[0],b=l[1],p=e.amount,f=e.decimals,m=e.tokenSymbol,h=parseFloat(d)*Math.pow(10,f),O=h>0&&h<=p;return{fields:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J.a,{label:"Recipient Address",fullWidth:!0,variant:"outlined",margin:"normal",value:s,onChange:function(e){return i(e.target.value.trim())},helperText:t,id:n||void 0===n?void 0:"outlined-error-helper-text",error:!n&&void 0!==n}),Object(r.jsx)(J.a,{label:"Amount",fullWidth:!0,variant:"outlined",margin:"normal",type:"number",InputProps:{endAdornment:m?Object(r.jsx)(Nt.a,{position:"end",children:m}):null,inputProps:{step:Math.pow(10,-f)}},value:d,onChange:function(e){return b(e.target.value.trim())},helperText:Object(r.jsxs)("span",{onClick:function(){return b((p/Math.pow(10,f)).toFixed(f))},children:["Max: ",p/Math.pow(10,f)]})})]}),destinationAddress:s,transferAmountString:d,setDestinationAddress:i,validAmount:O}}function un(e){var t=e.ethAccount,n=e.publicKey,a=wt("swaps_from/sol/".concat(n.toBase58()),{refreshInterval:1e4}),c=Object(j.a)(a,1)[0];return c?c.map((function(e){return Object(r.jsx)(ln,{ethAccount:t,swap:e},e.deposit.txid)})):null}function ln(e){var t=e.ethAccount,n=e.swap,r=bt(),c=n.withdrawal;return Object(a.useEffect)((function(){"sent"===c.status&&"eth"===c.blockchain&&c.txid&&!c.txid.startsWith("0x")&&c.txData&&function(e,t,n){Gt.apply(this,arguments)}(t,c,r)}),[c.txid,c.status]),null}var dn=n(112);function bn(e){var t,n=e.open,c=e.onClose,o=e.publicKey,s=e.balanceInfo,i=Object(x.h)(),u=Object(x.i)(),l=s.mint,d=s.tokenName,b=s.tokenSymbol,p=s.owner,f=Object(a.useState)(0),m=Object(j.a)(f,2),h=m[0],O=m[1],v=Object(st.c)(Object(de.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,vt("POST","swap_to",{blockchain:"sol",coin:null===(t=s.mint)||void 0===t?void 0:t.toBase58(),address:o.toBase58()},{ignoreUserErrors:!0});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),["swapInfo",i,null===(t=s.mint)||void 0===t?void 0:t.toBase58(),o.toBase58()]),g=Object(j.a)(v,1)[0],w=null;if(g){var k="SPL ".concat(null!==b&&void 0!==b?b:g.coin.ticker),S=g.coin.ticker;l?S="".concat(g.coin.erc20Contract?"ERC20":"Native"," ").concat(S):k="SOL",w=Object(r.jsxs)(it.a,{value:h,variant:"fullWidth",onChange:function(e,t){return O(t)},textColor:"primary",indicatorColor:"primary",children:[Object(r.jsx)(ut.a,{label:k}),Object(r.jsx)(ut.a,{label:S})]})}return Object(r.jsxs)(ae,{open:n,onClose:c,children:[Object(r.jsxs)(G.a,{children:["Deposit ",null!==d&&void 0!==d?d:l.toBase58(),b?" (".concat(b,")"):null]}),w,Object(r.jsx)(H.a,{style:{paddingTop:16},children:0===h?Object(r.jsxs)(r.Fragment,{children:[o.equals(p)?Object(r.jsx)(se.a,{children:"This address can only be used to receive SOL. Do not send other tokens to this address."}):Object(r.jsxs)(se.a,{children:["This address can only be used to receive"," ",null!==b&&void 0!==b?b:Object(Ae.a)(l),". Do not send SOL to this address."]}),Object(r.jsx)(Re,{value:o.toBase58(),label:"Deposit Address",autoFocus:!0,qrCode:!0}),Object(r.jsx)(se.a,{variant:"body2",children:Object(r.jsx)(Ne.a,{href:"https://explorer.solana.com/account/".concat(o.toBase58())+u,target:"_blank",rel:"noopener",children:"View on Solana Explorer"})})]}):Object(r.jsx)(pn,{balanceInfo:s,swapInfo:g})}),Object(r.jsx)(X.a,{children:Object(r.jsx)(y.a,{onClick:c,children:"Close"})})]})}function pn(e){var t=e.balanceInfo,n=e.swapInfo;if(!n)return null;var a=n.blockchain,c=n.address,o=n.memo,s=n.coin,i=t.mint,u=t.tokenName;return"btc"===a&&null===o?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(se.a,{children:["Native BTC can be converted to SPL ",u," by sending it to the following address:"]}),Object(r.jsx)(Re,{value:c,label:"Native BTC Deposit Address",autoFocus:!0,qrCode:"bitcoin:".concat(c)})]}):"eth"===a?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(se.a,{children:[s.erc20Contract?"ERC20":"Native"," ",s.ticker," can be converted to ",i?"SPL":"native"," ",u," via MetaMask."]}),Object(r.jsx)(fn,{swapInfo:n})]}):null}function fn(e){var t=e.swapInfo,n=Dt(),c=Object(a.useState)(""),o=Object(j.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)(null),f=Object(j.a)(p,2),m=f[0],h=f[1],v=bt(),x=t.address,g=t.memo,w=t.coin,k=w.erc20Contract,S=w.ticker,C=Object(st.c)(Object(de.a)(le.a.mark((function e(){var r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.t0=Math,e.next=4,Ft(n,k);case 4:return e.t1=e.sent,e.t2=null!==(r=t.maxSize)&&void 0!==r?r:1/0,e.abrupt("return",e.t0.min.call(e.t0,e.t1,e.t2));case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)}))),Object(dn.a)(Ft,n,k)),A=Object(j.a)(C,2),T=A[0],E=A[1];if(!n)return Object(r.jsx)(Vt,{});function I(){return(I=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),h({step:0}),e.next=4,v(Object(de.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t=parseFloat(s))||t>T||t<=0)){e.next=3;break}throw new Error("Invalid amount");case 3:return e.next=5,Lt({ethAccount:n,erc20Address:k,swapAddress:x,destination:g,amount:s,onStatusChange:function(e){return h((function(t){return Object(ee.a)(Object(ee.a)({},t),e)}))}});case 5:case"end":return e.stop()}}),e)})))(),{onError:function(){return b(!1)}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Yt.a,{activeStep:m.step,children:[Object(r.jsx)(Zt.a,{children:Object(r.jsx)(Qt.a,{children:"Approve Conversion"})}),Object(r.jsx)(Zt.a,{children:Object(r.jsx)(Qt.a,{children:"Send Funds"})}),Object(r.jsx)(Zt.a,{children:Object(r.jsx)(Qt.a,{children:"Wait for Confirmations"})})]}),2===m.step?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(r.jsx)("div",{style:{marginRight:16},children:Object(r.jsx)(pe.a,{})}),Object(r.jsxs)("div",{children:[m.confirms?Object(r.jsxs)(O.a,{children:[m.confirms," / 12 Confirmations"]}):Object(r.jsx)(O.a,{children:"Transaction Pending"}),Object(r.jsx)(O.a,{variant:"body2",children:Object(r.jsx)(Ne.a,{href:"https://etherscan.io/tx/".concat(m.txid),target:"_blank",rel:"noopener",children:"View on Etherscan"})})]})]})}):null]}):Object(r.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(r.jsx)(J.a,{label:"Amount",fullWidth:!0,variant:"outlined",margin:"normal",type:"number",InputProps:{endAdornment:Object(r.jsx)(Nt.a,{position:"end",children:S}),inputProps:{step:"any"}},value:s,onChange:function(e){return i(e.target.value.trim())},helperText:E?Object(r.jsxs)("span",{onClick:function(){return i(T.toFixed(6))},children:["Max: ",T.toFixed(6)]}):null}),Object(r.jsx)(y.a,{color:"primary",style:{marginLeft:8},onClick:function(){return I.apply(this,arguments)},children:"Convert"})]})}function jn(e){var t=e.open,n=e.onClose,a=e.publicKey,c=e.balanceInfo,o=Object(S.d)(),s=lt(),i=Object(j.a)(s,2),u=i[0],l=i[1],d=c.mint,b=c.tokenName;return Object(r.jsxs)(ae,{open:t,onClose:n,onSubmit:function(){u(o.closeTokenAccount(a),{onSuccess:function(){Object(S.b)(o),n()}})},children:[Object(r.jsxs)(G.a,{children:["Delete ",null!==b&&void 0!==b?b:d.toBase58()," Address"," ",Object(Ae.a)(a)]}),Object(r.jsx)(H.a,{children:Object(r.jsxs)(se.a,{children:["Are you sure you want to delete your ",null!==b&&void 0!==b?b:d.toBase58()," ","address ",a.toBase58(),"? This will permanently disable token transfers to this address and remove it from your wallet."]})}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:n,children:"Cancel"}),Object(r.jsx)(y.a,{type:"submit",color:"secondary",disabled:l,children:"Delete"})]})]})}function mn(e){var t=e.open,n=e.oldName,c=e.onClose,o=e.onEdit,s=Object(a.useState)(n),i=Object(j.a)(s,2),u=i[0],l=i[1];return Object(r.jsxs)(ae,{open:t,onEnter:function(){return l(n)},onClose:c,onSubmit:function(){return o(u.trim())},fullWidth:!0,children:[Object(r.jsx)(G.a,{children:"Edit Account"}),Object(r.jsx)(H.a,{children:Object(r.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(r.jsx)(J.a,{label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",value:u,onChange:function(e){return l(e.target.value)}})})}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)(y.a,{onClick:c,children:"Close"}),Object(r.jsx)(y.a,{type:"submit",color:"primary",children:"Save"})]})]})}var hn=new Intl.NumberFormat(void 0,{minimumFractionDigits:4,maximumFractionDigits:4,useGrouping:!0});function On(){var e=Object(S.d)(),t=Object(S.f)(),n=Object(j.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(!1),i=Object(j.a)(s,2),u=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),p=b[0],f=b[1],v=Object(S.g)(),y=v.accounts,g=v.setAccountName,w=y.find((function(e){return e.isSelected}));return Object(r.jsxs)(Ce.a,{children:[Object(r.jsx)(h.a,{position:"static",color:"default",elevation:1,children:Object(r.jsxs)(m.a,{children:[Object(r.jsxs)(O.a,{variant:"h6",style:{flexGrow:1},component:"h2",children:[w&&w.name," Balances"]}),w&&"Main account"!==w.name&&"Hardware wallet"!==w.name&&Object(r.jsx)(_.a,{title:"Edit Account Name",arrow:!0,children:Object(r.jsx)(R.a,{onClick:function(){return f(!0)},children:Object(r.jsx)(ct.a,{})})}),Object(r.jsx)(_.a,{title:"Add Token",arrow:!0,children:Object(r.jsx)(R.a,{onClick:function(){return l(!0)},children:Object(r.jsx)(I.a,{})})}),Object(r.jsx)(_.a,{title:"Refresh",arrow:!0,children:Object(r.jsx)(R.a,{onClick:function(){Object(S.b)(e),c.map((function(t){return Object(x.c)(e.connection,t,!0)}))},style:{marginRight:-12},children:Object(r.jsx)(tt.a,{})})})]})}),Object(r.jsxs)(we.a,{disablePadding:!0,children:[c.map((function(e){return Object(r.jsx)(xn,{publicKey:e},e.toBase58())})),o?null:Object(r.jsx)(Ee,{})]}),Object(r.jsx)(At,{open:u,onClose:function(){return l(!1)}}),Object(r.jsx)(mn,{open:p,onClose:function(){return f(!1)},oldName:w?w.name:"",onEdit:function(e){g(w.selector,e),f(!1)}})]})}var vn=Object(v.a)((function(e){return{address:{textOverflow:"ellipsis",overflowX:"hidden"},itemDetails:{marginLeft:e.spacing(3),marginRight:e.spacing(3),marginBottom:e.spacing(2)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function xn(e){var t=e.publicKey,n=Object(S.c)(t),c=vn(),o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],u=s[1];if(!n)return Object(r.jsx)(Ee,{delay:0});var l=n.amount,d=n.decimals,b=n.mint,p=n.tokenName,f=n.tokenSymbol;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ke.a,{button:!0,onClick:function(){return u((function(e){return!e}))},children:[Object(r.jsx)(C.a,{children:Object(r.jsx)(kt,{mint:b,tokenName:p,size:28})}),Object(r.jsx)(Se.a,{primary:Object(r.jsxs)(r.Fragment,{children:[hn.format(l/Math.pow(10,d))," ",null!==p&&void 0!==p?p:Object(Ae.a)(b),f?" (".concat(f,")"):null]}),secondary:t.toBase58(),secondaryTypographyProps:{className:c.address}}),i?Object(r.jsx)(Xe.a,{}):Object(r.jsx)(He.a,{})]}),Object(r.jsx)(Ie.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(r.jsx)(yn,{publicKey:t,balanceInfo:n})})]})}function yn(e){var t=e.publicKey,n=e.balanceInfo,c=Object(x.i)(),o=vn(),s=Object(a.useState)(!1),i=Object(j.a)(s,2),u=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),p=b[0],f=b[1],m=Object(a.useState)(!1),h=Object(j.a)(m,2),v=h[0],g=h[1],w=Object(a.useState)(!1),k=Object(j.a)(w,2),C=k[0],A=k[1],T=Object(a.useState)(!1),E=Object(j.a)(T,2),I=E[0],N=E[1],P=Object(S.d)();if(!n)return Object(r.jsx)(Ee,{delay:0});var B=n.mint,K=n.tokenName,W=n.tokenSymbol,M=n.owner,D=n.amount,F=null===B&&"SOL"===K&&"SOL"===W;return Object(r.jsxs)(r.Fragment,{children:[P.allowsExport&&Object(r.jsx)(Et,{onClose:function(){return A(!1)},open:C}),Object(r.jsxs)("div",{className:o.itemDetails,children:[Object(r.jsxs)("div",{className:o.buttonContainer,children:[!t.equals(M)&&pt?Object(r.jsx)(y.a,{variant:"outlined",color:"default",startIcon:Object(r.jsx)(rt.a,{}),onClick:function(){return g(!0)},children:"Token Info"}):null,Object(r.jsx)(y.a,{variant:"outlined",color:"primary",startIcon:Object(r.jsx)(Ze.a,{}),onClick:function(){return f(!0)},children:"Receive"}),Object(r.jsx)(y.a,{variant:"outlined",color:"primary",startIcon:Object(r.jsx)(Ve.a,{}),onClick:function(){return l(!0)},children:"Send"}),B&&0===D?Object(r.jsx)(y.a,{variant:"outlined",color:"secondary",size:"small",startIcon:Object(r.jsx)($e.a,{}),onClick:function(){return N(!0)},children:"Delete"}):null]}),Object(r.jsxs)(O.a,{variant:"body2",className:o.address,children:["Deposit Address: ",t.toBase58()]}),Object(r.jsxs)(O.a,{variant:"body2",children:["Token Name: ",null!==K&&void 0!==K?K:"Unknown"]}),Object(r.jsxs)(O.a,{variant:"body2",children:["Token Symbol: ",null!==W&&void 0!==W?W:"Unknown"]}),B?Object(r.jsxs)(O.a,{variant:"body2",className:o.address,children:["Token Address: ",B.toBase58()]}):null,Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{variant:"body2",children:Object(r.jsx)(Ne.a,{href:"https://explorer.solana.com/account/".concat(t.toBase58())+c,target:"_blank",rel:"noopener",children:"View on Solana Explorer"})})}),F&&P.allowsExport&&Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{variant:"body2",children:Object(r.jsx)(Ne.a,{href:"#",onClick:function(e){return A(!0)},children:"Export"})})})]})]}),Object(r.jsx)(rn,{open:u,onClose:function(){return l(!1)},balanceInfo:n,publicKey:t}),Object(r.jsx)(bn,{open:p,onClose:function(){return f(!1)},balanceInfo:n,publicKey:t}),Object(r.jsx)(qe,{open:v,onClose:function(){return g(!1)},balanceInfo:n,publicKey:t}),Object(r.jsx)(jn,{open:I,onClose:function(){return N(!1)},balanceInfo:n,publicKey:t})]})}var gn=n(802),wn=n(114);function kn(){var e=Object(S.d)(),t=Object(ot.c)(),n=Object(x.g)().endpoint,a=Object(S.c)(e.publicKey),c=lt(),o=Object(j.a)(c,2),s=o[0],i=o[1],u=bt();var l=0===(a||{}).amount,d=n===x.b;return Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(_.a,{title:d?"Receive some devnet SOL for free. Only enabled on the devnet":"Receive some devnet SOL for free",children:Object(r.jsx)("span",{children:Object(r.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){u(e.connection.requestAirdrop(e.publicKey,k.c),{onSuccess:function(){var t=Object(de.a)(le.a.mark((function t(){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ae.c)(5e3);case 2:Object(x.c)(e.connection,e.publicKey);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),successMessage:"Success! Please wait up to 30 seconds for the SOL tokens to appear in your wallet."})},disabled:d,children:"Request Airdrop"})})}),Object(r.jsx)(_.a,{title:l?"Generate and receive balances in a new test token. Requires SOL balance":"Generate and receive balances in a new test token",children:Object(r.jsx)("span",{children:Object(r.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){var n=new k.a;t(n.publicKey,"Test Token ".concat(Object(Ae.a)(n.publicKey)),"TEST".concat(n.publicKey.toBase58().slice(0,2))),s(Object(wn.b)({connection:e.connection,owner:e,mint:n,amount:1e3,decimals:2,initialAccount:new k.a}),{onSuccess:function(){return Object(S.b)(e)}})},disabled:i||l,style:{marginLeft:24},children:"Mint Test Token"})})})]})}function Sn(){var e=Object(x.h)();return Object(r.jsx)(ge.a,{fixed:!0,maxWidth:"md",children:Object(r.jsxs)(gn.a,{container:!0,spacing:3,children:[Object(r.jsx)(gn.a,{item:!0,xs:12,children:Object(r.jsx)(On,{})}),e?null:Object(r.jsx)(gn.a,{item:!0,xs:12,children:Object(r.jsx)(kn,{})})]})})}var Cn=n(55),An=n(47),Tn={},En=null,In=function(){var e=Object(de.a)(le.a.mark((function e(t,n,r){var a,c,o,s,i,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=k.d.from(r))||void 0===a?void 0:a.instructions)&&(null===a||void 0===a?void 0:a.accountKeys)){e.next=3;break}return e.abrupt("return");case 3:c=n.publicKey,o=[],s=0;case 6:if(!(s<a.instructions.length)){e.next=15;break}return i=a.instructions[s],e.next=10,Nn(t,c,null===a||void 0===a?void 0:a.accountKeys,i,s);case 10:u=e.sent,o.push(Object(ee.a)(Object(ee.a)({},u),{},{rawData:null===i||void 0===i?void 0:i.data}));case 12:s++,e.next=6;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(de.a)(le.a.mark((function e(t,n,r,a,c){var o,s,i,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===a||void 0===a?void 0:a.data)&&(null===a||void 0===a?void 0:a.accounts)&&(null===a||void 0===a?void 0:a.programIdIndex)){e.next=2;break}return e.abrupt("return");case 2:if(o=$.a.decode(a.data),s=zn([a.programIdIndex],r,0)){e.next=6;break}return e.abrupt("return",null);case 6:if(e.prev=6,!s.equals(k.h.programId)){e.next=12;break}return console.log("["+c+"] Handled as system instruction"),e.abrupt("return",Kn(n,a,r));case 12:if(!s.equals($t.a)){e.next=18;break}return console.log("["+c+"] Handled as token instruction"),i=Bn(o),e.abrupt("return",Wn(n,a.accounts,i,r));case 18:if(!An.MARKETS.some((function(e){return e.programId&&e.programId.equals(s)}))){e.next=24;break}return console.log("["+c+"] Handled as dex instruction"),u=Object(An.decodeInstruction)(o),e.next=23,Pn(t,a,r,u);case 23:return e.abrupt("return",e.sent);case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(6);case 28:return console.log("["+c+"] Failed, data: "+JSON.stringify(o)),e.abrupt("return");case 30:case"end":return e.stop()}}),e,null,[[6,26]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(de.a)(le.a.mark((function e(t,n,r,a){var c,o,s,i,u,l,d,b,p,f,j,m;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(Object.keys(a).length>1)){e.next=2;break}return e.abrupt("return");case 2:if(c=n.accounts,o=n.programIdIndex,s=r&&An.MARKETS.find((function(e){return r.findIndex((function(t){return t.equals(e.address)}))>-1})),e.prev=4,l=(null===s||void 0===s?void 0:s.address)||zn(c,r,0),u=(null===s||void 0===s?void 0:s.programId)||zn([o],r,0),d=l.toBase58(),b=(new Date).getTime(),t===En&&d in Tn&&b-Tn[d].ts<15e3){e.next=17;break}return En=t,console.log("Loading market",d),e.next=14,An.Market.load(t,l,{},u);case 14:e.t0=e.sent,e.t1=b,Tn[d]={market:e.t0,ts:e.t1};case 17:i=Tn[d].market,e.next=23;break;case 20:e.prev=20,e.t2=e.catch(4),console.log("Error loading market: "+e.t2.message);case 23:if(p=Object.keys(a)[0],f=a[p],"settleFunds"!==p){e.next=34;break}if(j=Dn(c,r)){e.next=31;break}return e.abrupt("return");case 31:f=Object(ee.a)(Object(ee.a)({},f),j);case 32:e.next=35;break;case 34:"newOrder"===p&&(m=Mn(c,r),f=Object(ee.a)(Object(ee.a)({},f),m));case 35:return e.abrupt("return",{type:p,data:f,market:i,marketInfo:s});case 36:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Bn=function(e){if(e)return 1!==e.length?Object(An.decodeTokenInstructionData)(e):1===e[0]?{initializeAccount:{}}:9===e[0]?{closeAccount:{}}:void 0},Kn=function(e,t,n){var r=t.programIdIndex,a=t.accounts,c=t.data;if(r&&a&&c){var o,s={programId:n[r],keys:a.map((function(e){return{pubkey:n[e]}})),data:$.a.decode(c)},i=k.g.decodeInstructionType(s);switch(i){case"Create":o=k.g.decodeCreateAccount(s);break;case"CreateWithSeed":o=k.g.decodeCreateWithSeed(s);break;case"Allocate":o=k.g.decodeAllocate(s);break;case"AllocateWithSeed":o=k.g.decodeAllocateWithSeed(s);break;case"Assign":o=k.g.decodeAssign(s);break;case"AssignWithSeed":o=k.g.decodeAssignWithSeed(s);break;case"Transfer":o=k.g.decodeTransfer(s);break;case"AdvanceNonceAccount":o=k.g.decodeNonceAdvance(s);break;case"WithdrawNonceAccount":o=k.g.decodeNonceWithdraw(s);break;case"InitializeNonceAccount":o=k.g.decodeNonceInitialize(s);break;case"AuthorizeNonceAccount":o=k.g.decodeNonceAuthorize(s);break;default:return}if(o&&(!o.fromPubkey||e.equals(o.fromPubkey)))return{type:"system"+i,data:o}}},Wn=function(e,t,n,r){if(n&&!(Object.keys(n).length>1)){var a=Object.keys(n)[0],c=n[a];if("initializeAccount"===a){var o=Rn(e,t,r);c=Object(ee.a)(Object(ee.a)({},c),o)}else if("transfer"===a){var s=Fn(e,t,r);c=Object(ee.a)(Object(ee.a)({},c),s)}else if("closeAccount"===a){var i=Ln(e,t,r);c=Object(ee.a)(Object(ee.a)({},c),i)}return{type:a,data:c}}},Mn=function(e,t){return{openOrdersPubkey:zn(e,t,An.NEW_ORDER_OPEN_ORDERS_INDEX),ownerPubkey:zn(e,t,An.NEW_ORDER_OWNER_INDEX)}},Dn=function(e,t){var n=zn(e,t,An.SETTLE_FUNDS_BASE_WALLET_INDEX),r=zn(e,t,An.SETTLE_FUNDS_QUOTE_WALLET_INDEX);if(n&&r)return{basePubkey:n,quotePubkey:r}},Fn=function(e,t,n){var r=zn(t,n,An.TokenInstructions.TRANSFER_SOURCE_INDEX),a=zn(t,n,An.TokenInstructions.TRANSFER_DESTINATION_INDEX),c=zn(t,n,An.TokenInstructions.TRANSFER_OWNER_INDEX);if(c&&e.equals(c))return{sourcePubkey:r,destinationPubkey:a,ownerPubkey:c}},Rn=function(e,t,n){var r=zn(t,n,An.TokenInstructions.INITIALIZE_ACCOUNT_ACCOUNT_INDEX),a=zn(t,n,An.TokenInstructions.INITIALIZE_ACCOUNT_MINT_INDEX),c=zn(t,n,An.TokenInstructions.INITIALIZE_ACCOUNT_OWNER_INDEX);if(c&&e.equals(c))return{accountPubkey:r,mintPubkey:a,ownerPubkey:c}},Ln=function(e,t,n){var r=zn(t,n,An.TokenInstructions.TRANSFER_SOURCE_INDEX),a=zn(t,n,An.TokenInstructions.TRANSFER_DESTINATION_INDEX),c=zn(t,n,An.TokenInstructions.TRANSFER_OWNER_INDEX);if(c&&e.equals(c))return{sourcePubkey:r,destinationPubkey:a,ownerPubkey:c}},zn=function(e,t,n){var r=e.length>n&&e[n];return(null===t||void 0===t?void 0:t.length)>r&&t[r]},Un=n(805),qn=n(811),_n=n(803),Xn=n(804),Gn=n(806),Hn=n(389),Jn=n.n(Hn),Vn=n(9),Yn=n.n(Vn);function Zn(e){var t=e.label,n=e.value,a=e.link,c=void 0!==a&&a,o=e.onClick;return Object(r.jsxs)(O.a,{children:[t,":"," ",c?Object(r.jsx)(Ne.a,{href:"#",onClick:o,children:n}):Object(r.jsx)("span",{style:{color:"#7B7B7B"},children:n})]})}function Qn(e){var t,n,a,c=e.instruction,o=e.onOpenAddress,s=Object(S.d)(),i=c.data,u=c.market,l=c.marketInfo,d=i.side,b=i.limitPrice,p=i.maxQuantity,f=i.orderType,j=i.ownerPubkey,m=l&&(null===l||void 0===l?void 0:l.name)+((null===l||void 0===l?void 0:l.deprecated)?" (deprecated)":"")||(null===u||void 0===u||null===(t=u._decoded)||void 0===t||null===(n=t.ownAddress)||void 0===n?void 0:n.toBase58())||"Unknown";return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:"Place an order"}),Object(r.jsx)(Zn,{label:"Market",value:m,link:!0,onClick:function(){var e,t;return o(null===(e=(null===l||void 0===l?void 0:l.address)||(null===u||void 0===u||null===(t=u._decoded)||void 0===t?void 0:t.ownAddress))||void 0===e?void 0:e.toBase58())}}),Object(r.jsx)(Zn,{label:"Side",value:d.charAt(0).toUpperCase()+d.slice(1)}),Object(r.jsx)(Zn,{label:"Price",value:(null===u||void 0===u?void 0:u.priceLotsToNumber(b))||""+b}),Object(r.jsx)(Zn,{label:"Quantity",value:(null===u||void 0===u?void 0:u.baseSizeLotsToNumber(p))||""+p}),Object(r.jsx)(Zn,{label:"Type",value:f.charAt(0).toUpperCase()+f.slice(1)}),Object(r.jsx)(Zn,{label:"Owner",link:j,value:j?(a=j,s.publicKey.equals(a)?"This wallet":(null===a||void 0===a?void 0:a.toBase58())||"Unknown"):j,onOpenAddress:function(){return j&&o(null===j||void 0===j?void 0:j.toBase58())}})]})}function $n(e){var t=e.instruction;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:"Unknown instruction:"}),Object(r.jsx)(O.a,{style:{wordBreak:"break-all"},children:null===t||void 0===t?void 0:t.rawData})]})}var er=n(255),tr=n.n(er),nr={systemCreate:"Create account",systemTransfer:"Transfer SOL"},rr={toPubkey:{label:"To",address:!0},accountPubkey:{label:"Account",address:!0},basePubkey:{label:"Base",address:!0},seed:{label:"Seed",address:!1},noncePubkey:{label:"Nonce",address:!0},authorizedPubkey:{label:"Authorized",address:!0},newAuthorizedPubkey:{label:"New authorized",address:!0},newAccountPubkey:{label:"New account",address:!0},amount:{label:"Amount",address:!1},lamports:{label:"Lamports",address:!1}};function ar(e){var t=e.instruction,n=e.onOpenAddress,a=t.type,c=t.data;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:nr[a]}),c&&Object.entries(c).map((function(e){var t=Object(j.a)(e,2),a=t[0],c=t[1],o=rr[a];if(!o)return null;var s=o.label,i=o.address;return Object(r.jsx)(Zn,{label:s+"",value:i?null===c||void 0===c?void 0:c.toBase58():c,link:i,onClick:function(){return i&&n(null===c||void 0===c?void 0:c.toBase58())}},a)}))]})}var cr={cancelOrder:"Cancel order",newOrder:"Place order",settleFunds:"Settle funds",matchOrders:"Match orders"},or={side:{label:"Side",address:!1},orderId:{label:"Order Id",address:!1},limit:{label:"Limit",address:!1},basePubkey:{label:"Base wallet",address:!0},quotePubkey:{label:"Quote wallet",address:!0}};function sr(e){var t,n,a=e.instruction,c=e.onOpenAddress,o=Object(S.d)(),s=Object(S.f)(),i=Object(j.a)(s,1)[0],u=a.type,l=a.data,d=a.market,b=a.marketInfo,p=b&&(null===b||void 0===b?void 0:b.name)+((null===b||void 0===b?void 0:b.deprecated)?" (deprecated)":"")||(null===d||void 0===d||null===(t=d._decoded)||void 0===t||null===(n=t.ownAddress)||void 0===n?void 0:n.toBase58())||"Unknown",f=function(e){var t=i.some((function(t){return t.equals(e)}));return o.publicKey.equals(e)?"This wallet":(t?"(Owned) ":"")+(null===e||void 0===e?void 0:e.toBase58())};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:cr[u]}),Object(r.jsx)(Zn,{label:"Market",value:p,link:!0,onClick:function(){var e,t;return c(null===(e=(null===b||void 0===b?void 0:b.address)||(null===d||void 0===d||null===(t=d._decoded)||void 0===t?void 0:t.ownAddress))||void 0===e?void 0:e.toBase58())}}),l&&Object.entries(l).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1],o=or[n];if(!o)return null;var s=o.label,i=o.address;return Object(r.jsx)(Zn,{label:s+"",value:i?f(a):a+"",link:i,onClick:function(){return i&&c(null===a||void 0===a?void 0:a.toBase58())}},n)}))]})}var ir={initializeMint:"Initialize mint",initializeAccount:"Initialize account",transfer:"Transfer",approve:"Approve",mintTo:"Mint to",closeAccount:"Close account"},ur={amount:{label:"Amount",address:!1},accountPubkey:{label:"Account",address:!0},mintPubkey:{label:"Mint",address:!0},sourcePubkey:{label:"Source",address:!0},destinationPubkey:{label:"Destination",address:!0},ownerPubkey:{label:"Owner",address:!0}};function lr(e){var t=e.instruction,n=e.onOpenAddress,a=Object(S.d)(),c=Object(S.f)(),o=Object(j.a)(c,1)[0],s=t.type,i=t.data,u=function(e){var t=An.TOKEN_MINTS.find((function(t){return t.address.equals(e)})),n=o.some((function(t){return t.equals(e)})),r=a.publicKey.equals(e);return t?t.name:r?"This wallet":(n?"(Owned) ":"")+(null===e||void 0===e?void 0:e.toBase58())};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:ir[s]}),i&&Object.entries(i).map((function(e){var t=Object(j.a)(e,2),a=t[0],c=t[1],o=ur[a];if(!o)return null;var s=o.label,i=o.address;return Object(r.jsx)(Zn,{label:s+"",value:i?u(c):c,link:i,onClick:function(){return i&&n(null===c||void 0===c?void 0:c.toBase58())}},a)}))]})}function dr(e){var t=e.opener,n=Object(S.d)(),c=Object(a.useMemo)((function(){return new URLSearchParams(window.location.hash.slice(1)).get("origin")}),[]),o=Object(a.useCallback)((function(e){t.postMessage(Object(ee.a)({jsonrpc:"2.0"},e),c)}),[t,c]),s=Object(a.useState)(null),i=Object(j.a)(s,2),u=i[0],l=i[1],d=!!u,b=Object(a.useState)([]),p=Object(j.a)(b,2),f=p[0],m=p[1],h=Object(a.useState)(!1),v=Object(j.a)(h,2),x=v[0],y=v[1];if(Object(a.useEffect)((function(){if(d){var e=function(){o({method:"disconnected"})};return window.addEventListener("beforeunload",e),function(){e(),window.removeEventListener("beforeunload",e)}}}),[d,o]),Object(a.useEffect)((function(){u&&!u.equals(n.publicKey)&&l(null)}),[u,n]),Object(a.useEffect)((function(){function e(e){e.origin===c&&e.source===window.opener&&("signTransaction"!==e.data.method&&"signAllTransactions"!==e.data.method&&o({error:"Unsupported method",id:e.data.id}),m((function(t){return[].concat(Object(Cn.a)(t),[e.data])})))}return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[c,o]),!u||!u.equals(n.publicKey)){return Object(r.jsx)(fr,{origin:c,onApprove:function(e){l(n.publicKey),o({method:"connected",params:{publicKey:n.publicKey.toBase58(),autoApprove:e}}),y(e),br()}})}if(f.length>0){var g=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m((function(e){return e.slice(1)})),"signTransaction"===C.method?w(A[0]):k(A),1===f.length&&br();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(de.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,n.createSignature(t);case 3:e.t1=e.sent,e.t2=n.publicKey.toBase58(),e.t3={signature:e.t1,publicKey:e.t2},e.t4=C.id,e.t5={result:e.t3,id:e.t4},(0,e.t0)(e.t5);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(de.a)(le.a.mark((function e(t){var r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return n.createSignature(e)})));case 2:r=e.sent,o({result:{signatures:r,publicKey:n.publicKey.toBase58()},id:C.id});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=f[0];Yn()("signTransaction"===C.method||"signAllTransactions"===C.method);var A="signTransaction"===C.method?[$.a.decode(C.params.message)]:C.params.messages.map((function(e){return $.a.decode(e)}));return Object(r.jsx)(mr,{autoApprove:x,origin:c,messages:A,onApprove:g,onReject:function(){m((function(e){return e.slice(1)})),o({error:"Transaction cancelled",id:C.id}),1===f.length&&br()}},C.id)}return Object(r.jsx)(O.a,{children:"Please keep this window open in the background."})}function br(){window.open("","parent")}var pr=Object(v.a)((function(e){return{connection:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textAlign:"center"},transaction:{wordBreak:"break-all"},approveButton:{backgroundColor:"#43a047",color:"white"},actions:{justifyContent:"space-between"},snackbarRoot:{backgroundColor:e.palette.background.paper},warningMessage:{margin:e.spacing(1),color:e.palette.text.primary},warningIcon:{marginRight:e.spacing(1),fontSize:24},warningTitle:{color:e.palette.warning.light,fontWeight:600,fontSize:16,alignItems:"center",display:"flex"},warningContainer:{marginTop:e.spacing(1)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function fr(e){var t=e.origin,n=e.onApprove,c=Object(S.d)(),o=pr(),s=Object(a.useState)(!1),i=Object(j.a)(s,2),u=i[0],l=i[1],d=Object(Ae.f)("dismissedAutoApproveWarning",!1),b=Object(j.a)(d,2),p=b[0],f=b[1];return Object(r.jsxs)(_n.a,{children:[Object(r.jsxs)(Xn.a,{children:[Object(r.jsx)(O.a,{variant:"h6",component:"h1",gutterBottom:!0,children:"Allow this site to access your Solana account?"}),Object(r.jsxs)("div",{className:o.connection,children:[Object(r.jsx)(O.a,{children:t}),Object(r.jsx)(Jn.a,{fontSize:"large"}),Object(r.jsx)(O.a,{children:c.publicKey.toBase58()})]}),Object(r.jsx)(O.a,{children:"Only connect with sites you trust."}),Object(r.jsx)(D.a,{className:o.divider}),Object(r.jsx)(V.a,{control:Object(r.jsx)(Z.a,{checked:u,onChange:function(){return l(!u)},color:"primary"}),label:"Automatically approve transactions from ".concat(t)}),!p&&u&&Object(r.jsx)(Un.a,{className:o.warningContainer,message:Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{className:o.warningTitle,children:[Object(r.jsx)(tr.a,{className:o.warningIcon}),"Use at your own risk."]}),Object(r.jsx)(O.a,{className:o.warningMessage,children:"This setting allows sending some transactions on your behalf without requesting your permission for the remainder of this session."})]}),action:[Object(r.jsx)(y.a,{onClick:function(){return f("1")},children:"I understand"})],classes:{root:o.snackbarRoot}})]}),Object(r.jsxs)(Gn.a,{className:o.actions,children:[Object(r.jsx)(y.a,{onClick:window.close,children:"Cancel"}),Object(r.jsx)(y.a,{color:"primary",onClick:function(){return n(u)},disabled:!p&&u,children:"Connect"})]})]})}function jr(e,t,n){var r=!1,a={CREATED:0,OWNED:1,CLOSED_TO_OWNED_DESTINATION:2},c={};function o(t){return!!t&&(!!(null===e||void 0===e?void 0:e.some((function(e){return e.equals(t)})))||c[t.toBase58()]===a.OWNED)}return n.forEach((function(e){e.forEach((function(e){if(e)if(["cancelOrder","matchOrders"].includes(e.type));else if("systemCreate"===e.type){var n=e.data.newAccountPubkey;n?c[n.toBase58()]=a.CREATED:r=!0}else if("newOrder"===e.type){var s=e.data,i=s.openOrdersPubkey,u=s.ownerPubkey;u&&t.equals(u)?c[i.toBase58()]=a.OWNED:r=!0}else if("initializeAccount"===e.type){var l=e.data,d=l.ownerPubkey,b=l.accountPubkey;t&&d&&t.equals(d)&&b&&c[b.toBase58()]===a.CREATED?c[b.toBase58()]=a.OWNED:r=!0}else if("settleFunds"===e.type){var p=e.data,f=p.basePubkey,j=p.quotePubkey;o(f)&&o(j)||(r=!0)}else if("closeAccount"===e.type){var m=e.data,h=m.sourcePubkey;o(m.destinationPubkey)?c[h.toBase58()]=a.CLOSED_TO_OWNED_DESTINATION:r=!0}else r=!0;else r=!0}))})),Object.values(c).some((function(e){return![a.CLOSED_TO_OWNED_DESTINATION,a.OWNED].includes(e)}))&&(r=!0),!r}function mr(e){var t=e.origin,n=e.messages,c=e.onApprove,o=e.onReject,s=e.autoApprove,i=pr(),u=Object(x.i)(),l=Object(x.f)(),d=Object(S.d)(),b=Object(S.f)(),p=Object(j.a)(b,1)[0],f=Object(a.useState)(!0),m=Object(j.a)(f,2),h=m[0],v=m[1],g=Object(a.useState)(null),w=Object(j.a)(g,2),k=w[0],C=w[1],A=Object(a.useRef)(),T=n.length>1;Object(a.useEffect)((function(){Promise.all(n.map((function(e){return In(l,d,e)}))).then((function(e){C(e),v(!1)}))}),[n,l,d]);var E=Object(a.useMemo)((function(){return{safe:p&&k&&jr(p,d.publicKey,k)}}),[p,k,d]);Object(a.useEffect)((function(){E.safe&&s?(console.log("Auto approving safe transaction"),c()):(window.focus(),A.current&&(A.current.scrollIntoView({behavior:"smooth"}),setTimeout((function(){return A.current.focus()}),50)))}),[E,s,A]);var I=function(e){e&&window.open("https://explorer.solana.com/address/"+e+u,"_blank")},N=function(e){switch(null===e||void 0===e?void 0:e.type){case"cancelOrder":case"matchOrders":case"settleFunds":return Object(r.jsx)(sr,{instruction:e,onOpenAddress:I});case"closeAccount":case"initializeAccount":case"transfer":case"approve":case"mintTo":return Object(r.jsx)(lr,{instruction:e,onOpenAddress:I});case"systemCreate":case"systemTransfer":return Object(r.jsx)(ar,{instruction:e,onOpenAddress:I});case"newOrder":return Object(r.jsx)(Qn,{instruction:e,onOpenAddress:I});default:return Object(r.jsx)($n,{instruction:e})}};return Object(r.jsxs)(_n.a,{children:[Object(r.jsx)(Xn.a,{children:h?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",marginBottom:20},children:[Object(r.jsx)(pe.a,{style:{marginRight:20}}),Object(r.jsxs)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:["Parsing transaction",T>0?"s":"",":"]})]}),n.map((function(e,t){return Object(r.jsx)(O.a,{style:{wordBreak:"break-all"},children:$.a.encode(e)},t)}))]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:k?"".concat(t," wants to:"):"Unknown transaction data"}),k?k.map((function(e,t){return function(e,t){var n,a=e.map((function(e,t){return Object(r.jsxs)(qn.a,{style:{marginTop:20},children:[N(e),Object(r.jsx)(D.a,{style:{marginTop:20}})]},t)}));return T?Object(r.jsxs)(qn.a,{style:{marginTop:20},children:[(n=t,Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(O.a,{variant:"h6",gutterBottom:!0,children:["Transaction ",n.toString()]}),Object(r.jsx)(D.a,{style:{marginTop:20}})]})),a]},t):a}(e,t)})):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(O.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0,children:["Unknown transaction",T>0?"s":"",":"]}),n.map((function(e){return Object(r.jsx)(O.a,{style:{wordBreak:"break-all"},children:$.a.encode(e)})}))]}),!E.safe&&Object(r.jsx)(Un.a,{className:i.warningContainer,message:Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{className:i.warningTitle,children:[Object(r.jsx)(tr.a,{className:i.warningIcon}),"Nonstandard DEX transaction"]}),Object(r.jsx)(O.a,{className:i.warningMessage,children:"Sollet does not recognize this transaction as a standard Serum DEX transaction"})]}),classes:{root:i.snackbarRoot}})]})}),Object(r.jsxs)(Gn.a,{className:i.actions,children:[Object(r.jsx)(y.a,{onClick:o,children:"Cancel"}),Object(r.jsxs)(y.a,{ref:A,className:i.approveButton,variant:"contained",color:"primary",onClick:c,children:["Approve",T?" All":""]})]})]})}var hr=n(815);function Or(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.jsx)(ge.a,{maxWidth:"sm",children:n?Object(r.jsx)(wr,{goBack:function(){return c(!1)}}):Object(r.jsxs)(r.Fragment,{children:[Object(oe.d)()?Object(r.jsx)(gr,{}):Object(r.jsx)(vr,{}),Object(r.jsx)("br",{}),Object(r.jsx)(Ne.a,{style:{cursor:"pointer"},onClick:function(){return c(!0)},children:"Restore existing wallet"})]})})}function vr(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){Object(oe.b)().then(c)}),[]);var o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],u=s[1],l=bt();return i?Object(r.jsx)(yr,{mnemonicAndSeed:n,goBack:function(){return u(!1)},onSubmit:function(e){var t=n.mnemonic,r=n.seed;l(Object(oe.g)(t,r,e),{progressMessage:"Creating wallet...",successMessage:"Wallet created"})}}):Object(r.jsx)(xr,{mnemonicAndSeed:n,goForward:function(){return u(!0)}})}function xr(e){var t=e.mnemonicAndSeed,n=e.goForward,c=Object(a.useState)(!1),o=Object(j.a)(c,2),s=o[0],i=o[1];return Object(r.jsxs)(_n.a,{children:[Object(r.jsxs)(Xn.a,{children:[Object(r.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Create New Wallet"}),Object(r.jsx)(O.a,{paragraph:!0,children:"Create a new wallet to hold Solana and SPL tokens."}),Object(r.jsx)(O.a,{children:"Please write down the following twelve words and keep them in a safe place:"}),t?Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,multiline:!0,margin:"normal",value:t.mnemonic,label:"Seed Words",onFocus:function(e){return e.currentTarget.select()}}):Object(r.jsx)(Ee,{}),Object(r.jsx)(O.a,{paragraph:!0,children:"Your private keys are only stored on your current computer or device. You will need these words to restore your wallet if your browser's storage is cleared or your device is damaged or lost."}),Object(r.jsx)(V.a,{control:Object(r.jsx)(hr.a,{checked:s,disabled:!t,onChange:function(e){return i(e.target.checked)}}),label:"I have saved these words in a safe place."})]}),Object(r.jsx)(Gn.a,{style:{justifyContent:"flex-end"},children:Object(r.jsx)(y.a,{color:"primary",disabled:!s,onClick:n,children:"Continue"})})]})}function yr(e){var t=e.goBack,n=e.onSubmit,c=Object(a.useState)(""),o=Object(j.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(""),l=Object(j.a)(u,2),d=l[0],b=l[1];return Object(r.jsxs)(_n.a,{children:[Object(r.jsxs)(Xn.a,{children:[Object(r.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Choose a Password (Optional)"}),Object(r.jsx)(O.a,{children:"Optionally pick a password to protect your wallet."}),Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"New Password",type:"password",autoComplete:"new-password",value:s,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Confirm Password",type:"password",autoComplete:"new-password",value:d,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)(O.a,{children:"If you forget your password you will need to restore your wallet using your seed words."})]}),Object(r.jsxs)(Gn.a,{style:{justifyContent:"space-between"},children:[Object(r.jsx)(y.a,{onClick:t,children:"Back"}),Object(r.jsx)(y.a,{color:"primary",disabled:s!==d,onClick:function(){return n(s)},children:"Create Wallet"})]})]})}function gr(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],u=s[1],l=bt();return Object(r.jsxs)(_n.a,{children:[Object(r.jsxs)(Xn.a,{children:[Object(r.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Unlock Wallet"}),Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Password",type:"password",autoComplete:"current-password",value:n,onChange:function(e){return c(e.target.value)}}),Object(r.jsx)(V.a,{control:Object(r.jsx)(hr.a,{checked:i,onChange:function(e){return u(e.target.checked)}}),label:"Keep wallet unlocked"})]}),Object(r.jsx)(Gn.a,{style:{justifyContent:"flex-end"},children:Object(r.jsx)(y.a,{color:"primary",onClick:function(){l(Object(oe.e)(n,i),{progressMessage:"Unlocking wallet...",successMessage:"Wallet unlocked"})},children:"Unlock"})})]})}function wr(e){var t=e.goBack,n=Object(a.useState)(""),c=Object(j.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)(""),u=Object(j.a)(i,2),l=u[0],d=u[1],b=Object(a.useState)(""),p=Object(j.a)(b,2),f=p[0],m=p[1],h=bt();return Object(r.jsxs)(_n.a,{children:[Object(r.jsxs)(Xn.a,{children:[Object(r.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Restore Existing Wallet"}),Object(r.jsx)(O.a,{children:"Restore your wallet using your twelve seed words. Note that this will delete any existing wallet on this device."}),Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:3,margin:"normal",label:"Seed Words",value:o,onChange:function(e){return s(e.target.value)}}),Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"New Password (Optional)",type:"password",autoComplete:"new-password",value:l,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)(J.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Confirm Password",type:"password",autoComplete:"new-password",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(r.jsxs)(Gn.a,{style:{justifyContent:"space-between"},children:[Object(r.jsx)(y.a,{onClick:t,children:"Cancel"}),Object(r.jsx)(y.a,{color:"primary",disabled:l!==f,onClick:function(){h(Object(oe.f)(o).then((function(e){return Object(oe.g)(o,e,l)})))},children:"Restore"})]})]})}function kr(){var e=Object(u.a)("(prefers-color-scheme: dark)"),t=c.a.useMemo((function(){return Object(l.a)({palette:{type:e?"dark":"light",primary:p.a}})}),[e]);return window.self!==window.top?null:Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)(Ee,{}),children:Object(r.jsxs)(d.a,{theme:t,children:[Object(r.jsx)(i.a,{}),Object(r.jsx)(x.a,{children:Object(r.jsx)(fe.a,{maxSnack:5,autoHideDuration:8e3,children:Object(r.jsx)(S.a,{children:Object(r.jsx)(he,{children:Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)(Ee,{}),children:Object(r.jsx)(Sr,{})})})})})})]})})}function Sr(){return Object(S.d)()?window.opener?Object(r.jsx)(dr,{opener:window.opener}):Object(r.jsx)(Sn,{}):Object(r.jsx)(Or,{})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(kr,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));var r,a=n(111),c=n(69),o=n.n(c),s=n(28),i=n(37),u=n(0),l=Object(a.a)({},s.b,[{mintAddress:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",tokenName:"Serum",tokenSymbol:"SRM",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{mintAddress:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",tokenName:"MegaSerum",tokenSymbol:"MSRM",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{tokenSymbol:"BTC",mintAddress:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",tokenName:"Wrapped Bitcoin",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"},{tokenSymbol:"ETH",mintAddress:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",tokenName:"Wrapped Ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{tokenSymbol:"FTT",mintAddress:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",tokenName:"Wrapped FTT",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0x50D1c9771902476076eCFc8B2A83Ad6b9355a4c9/logo.png"},{tokenSymbol:"YFI",mintAddress:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",tokenName:"Wrapped YFI",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e/logo.png"},{tokenSymbol:"LINK",mintAddress:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",tokenName:"Wrapped Chainlink",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{tokenSymbol:"XRP",mintAddress:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",tokenName:"Wrapped XRP",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ripple/info/logo.png"},{tokenSymbol:"USDT",mintAddress:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",tokenName:"Wrapped USDT",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{tokenSymbol:"USDC",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",tokenName:"USD Coin",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{tokenSymbol:"WUSDC",mintAddress:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",tokenName:"Wrapped USDC",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png",deprecated:!0},{tokenSymbol:"SUSHI",mintAddress:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",tokenName:"Wrapped SUSHI",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B3595068778DD592e39A122f4f5a5cF09C90fE2/logo.png"},{tokenSymbol:"ALEPH",mintAddress:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",tokenName:"Wrapped ALEPH",icon:"https://raw.githubusercontent.com/trustwallet/assets/6996a371cd02f516506a8f092eeb29888501447c/blockchains/nuls/assets/NULSd6HgyZkiqLnBzTaeSQfx1TNg2cqbzq51h/logo.png"},{tokenSymbol:"SXP",mintAddress:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",tokenName:"Wrapped SXP",icon:"https://github.com/trustwallet/assets/raw/b0ab88654fe64848da80d982945e4db06e197d4f/blockchains/ethereum/assets/0x8CE9137d39326AD0cD6491fb5CC0CbA0e089b6A9/logo.png"},{tokenSymbol:"HGET",mintAddress:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",tokenName:"Wrapped HGET"},{tokenSymbol:"CREAM",mintAddress:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",tokenName:"Wrapped CREAM",icon:"https://raw.githubusercontent.com/trustwallet/assets/4c82c2a409f18a4dd96a504f967a55a8fe47026d/blockchains/smartchain/assets/0xd4CB328A82bDf5f03eB737f37Fa6B370aef3e888/logo.png"},{tokenSymbol:"UBXT",mintAddress:"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei",tokenName:"Wrapped UBXT"},{tokenSymbol:"HNT",mintAddress:"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e",tokenName:"Wrapped HNT"},{tokenSymbol:"FRONT",mintAddress:"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw",tokenName:"Wrapped FRONT",icon:"https://raw.githubusercontent.com/trustwallet/assets/6e375e4e5fb0ffe09ed001bae1ef8ca1d6c86034/blockchains/ethereum/assets/0xf8C3527CC04340b208C854E985240c02F7B7793f/logo.png"},{tokenSymbol:"AKRO",mintAddress:"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF",tokenName:"Wrapped AKRO",icon:"https://raw.githubusercontent.com/trustwallet/assets/878dcab0fab90e6593bcb9b7d941be4915f287dc/blockchains/ethereum/assets/0xb2734a4Cec32C81FDE26B0024Ad3ceB8C9b34037/logo.png"},{tokenSymbol:"HXRO",mintAddress:"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc",tokenName:"Wrapped HXRO"},{tokenSymbol:"UNI",mintAddress:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",tokenName:"Wrapped UNI",icon:"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{tokenSymbol:"MATH",mintAddress:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",tokenName:"Wrapped MATH"},{tokenSymbol:"TOMO",mintAddress:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",tokenName:"Wrapped TOMO",icon:"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/tomochain/info/logo.png"},{tokenSymbol:"LUA",mintAddress:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",tokenName:"Wrapped LUA",icon:"https://raw.githubusercontent.com/trustwallet/assets/2d2491130e6beda208ba4fc6df028a82a0106ab6/blockchains/ethereum/assets/0xB1f66997A5760428D3a87D68b90BfE0aE64121cC/logo.png"},{tokenSymbol:"FIDA",mintAddress:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",tokenName:"Bonfida Token",icon:"https://raw.githubusercontent.com/dr497/awesome-serum-markets/master/icons/fida.svg"},{tokenSymbol:"LQID",mintAddress:"A6aY2ceogBz1VaXBxm1j2eJuNZMRqrWUAnKecrMH85zj",tokenName:"LQID",icon:"https://raw.githubusercontent.com/dr497/awesome-serum-markets/master/icons/lqid.svg"},{tokenSymbol:"SECO",mintAddress:"7CnFGR9mZWyAtWxPcVuTewpyC3A3MDW4nLsu5NY6PDbd",tokenName:"Serum Ecosystem Pool Token"},{tokenSymbol:"HOLY",mintAddress:"3GECTP7H4Tww3w8jEPJCJtXUtXxiZty31S9szs84CcwQ",tokenName:"Holy Trinity Pool"}]),d=JSON.parse(null!==(r=localStorage.getItem("tokenNames"))&&void 0!==r?r:"{}"),b=new o.a;function p(e){var t,n,r,a,c=Object(s.g)().endpoint;if(Object(i.e)(b,"update"),!e)return{name:null,symbol:null};var o=null===d||void 0===d||null===(t=d[c])||void 0===t?void 0:t[e.toBase58()],u=null===l||void 0===l||null===(n=l[c])||void 0===n?void 0:n.find((function(t){return t.mintAddress===e.toBase58()}));return!u||o&&!u.deprecated||(o={name:u.tokenName,symbol:u.tokenSymbol}),{name:null===(r=o)||void 0===r?void 0:r.name,symbol:null===(a=o)||void 0===a?void 0:a.symbol}}function f(){var e=Object(s.g)().endpoint;return Object(u.useCallback)((function(t,n,r){if(!n||!r)if(n)r=n;else{if(!r)return;n=r}d[e]||(d[e]={}),d[e][t.toBase58()]={name:n,symbol:r},localStorage.setItem("tokenNames",JSON.stringify(d)),b.emit("update")}),[e])}b.setMaxListeners(100)}},[[737,2,3]]]);
//# sourceMappingURL=main.2c5a6b57.chunk.js.map