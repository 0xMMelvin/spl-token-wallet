(this["webpackJsonpspl-token-wallet"]=this["webpackJsonpspl-token-wallet"]||[]).push([[1],{107:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"a",(function(){return T}));var a=n(53),r=n(5),c=n.n(r),o=n(15),i=n(17),u=n(43),l=n(54),s=n(19),d=n.n(s);function m(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.c)(n),e.next=3,t._rpcRequest("getProgramAccounts",[u.a.toBase58(),{commitment:t.commitment,filters:a}]);case 3:if(!(r=e.sent).error){e.next=6;break}throw new Error("failed to get token accounts owned by "+n.toBase58()+": "+r.error.message);case 6:return e.abrupt("return",r.result.map((function(e){var t=e.pubkey,n=e.account,a=n.data,r=n.executable,c=n.owner,o=n.lamports;return{publicKey:new i.e(t),accountInfo:{data:d.a.decode(a),executable:r,owner:new i.e(c),lamports:o}}})).filter((function(e){var t=e.accountInfo;return a.every((function(e){if(e.dataSize)return t.data.length===e.dataSize;if(e.memcmp){var n=d.a.decode(e.memcmp.bytes);return t.data.slice(e.memcmp.offset,e.memcmp.offset+n.length).equals(n)}return!1}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n,a){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(c.a.mark((function e(t,n,r,o){var i,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRecentBlockhash("max");case 2:return n.recentBlockhash=e.sent.blockhash,(i=n).setSigners.apply(i,[r.publicKey].concat(Object(a.a)(o.map((function(e){return e.publicKey}))))),o.length>0&&(u=n).partialSign.apply(u,Object(a.a)(o)),e.next=7,r.signTransaction(n);case 7:return n=e.sent,l=n.serialize(),e.next=11,t.sendRawTransaction(l,{preflightCommitment:"single"});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n,a){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(c.a.mark((function e(t,n,a,r){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(new i.i).add(i.h.transfer({fromPubkey:n.publicKey,toPubkey:a,lamports:r})),e.next=3,f(t,o,n,[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,s,d,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.owner,r=t.mint,o=t.amount,s=t.decimals,d=t.initialAccount,m=new i.i,e.t0=m,e.t1=i.h,e.t2=a.publicKey,e.t3=r.publicKey,e.next=8,n.getMinimumBalanceForRentExemption(l.b.span);case 8:if(e.t4=e.sent,e.t5=l.b.span,e.t6=u.a,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.add.call(e.t0,e.t8),m.add(Object(u.f)({mint:r.publicKey,decimals:s,mintAuthority:a.publicKey})),p=[r],!(o>0)){e.next=32;break}return e.t9=m,e.t10=i.h,e.t11=a.publicKey,e.t12=d.publicKey,e.next=23,n.getMinimumBalanceForRentExemption(l.a.span);case 23:e.t13=e.sent,e.t14=l.a.span,e.t15=u.a,e.t16={fromPubkey:e.t11,newAccountPubkey:e.t12,lamports:e.t13,space:e.t14,programId:e.t15},e.t17=e.t10.createAccount.call(e.t10,e.t16),e.t9.add.call(e.t9,e.t17),p.push(d),m.add(Object(u.e)({account:d.publicKey,mint:r.publicKey,owner:a.publicKey})),m.add(Object(u.h)({mint:r.publicKey,destination:d.publicKey,amount:o,mintAuthority:a.publicKey}));case 32:return e.next=34,f(n,m,a,p);case 34:return e.abrupt("return",e.sent);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.payer,r=t.mintPublicKey,o=t.newAccount,s=new i.i,e.t0=s,e.t1=i.h,e.t2=a.publicKey,e.t3=o.publicKey,e.next=8,n.getMinimumBalanceForRentExemption(l.a.span);case 8:return e.t4=e.sent,e.t5=l.a.span,e.t6=u.a,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.add.call(e.t0,e.t8),s.add(Object(u.e)({account:o.publicKey,mint:r,owner:a.publicKey})),d=[o],e.next=18,f(n,s,a,d);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,i,s,d,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.owner,r=t.sourcePublicKey,o=t.destinationPublicKey,i=t.amount,s=t.memo,d=t.mint,e.next=3,n.getAccountInfo(o);case 3:if(!(p=e.sent)||!p.owner.equals(u.a)){e.next=8;break}return e.next=7,S({connection:n,owner:a,sourcePublicKey:r,destinationPublicKey:o,amount:i,memo:s});case 7:return e.abrupt("return",e.sent);case 8:if(p&&0!==p.lamports){e.next=10;break}throw new Error("Cannot send to address with zero SOL balances");case 10:return e.next=12,m(n,o);case 12:if(!(f=e.sent.map((function(e){var t=e.publicKey,n=e.accountInfo;return{publicKey:t,parsed:Object(l.e)(n.data)}})).filter((function(e){return e.parsed.mint.equals(d)})).sort((function(e,t){return t.parsed.amount-e.parsed.amount}))[0])){e.next=17;break}return e.next=16,S({connection:n,owner:a,sourcePublicKey:r,destinationPublicKey:f.publicKey,amount:i,memo:s});case 16:return e.abrupt("return",e.sent);case 17:return e.next=19,C({connection:n,owner:a,sourcePublicKey:r,destinationPublicKey:o,amount:i,memo:s,mint:d});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t=e.ownerPublicKey,n=e.sourcePublicKey,a=e.destinationPublicKey,r=e.amount,c=e.memo,o=(new i.i).add(Object(u.i)({source:n,destination:a,owner:t,amount:r}));return c&&o.add(Object(u.g)(c)),o}function S(e){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,i,u,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.owner,r=t.sourcePublicKey,o=t.destinationPublicKey,i=t.amount,u=t.memo,l=j({ownerPublicKey:a.publicKey,sourcePublicKey:r,destinationPublicKey:o,amount:i,memo:u}),s=[],e.next=5,f(n,l,a,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,s,d,m,p,b,v,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.owner,r=t.sourcePublicKey,o=t.destinationPublicKey,s=t.amount,d=t.memo,m=t.mint,p=new i.a,(b=new i.i).add(Object(u.c)({account:o,owner:i.h.programId})),e.t0=b,e.t1=i.h,e.t2=a.publicKey,e.t3=p.publicKey,e.next=10,n.getMinimumBalanceForRentExemption(l.a.span);case 10:return e.t4=e.sent,e.t5=l.a.span,e.t6=u.a,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.add.call(e.t0,e.t8),b.add(Object(u.e)({account:p.publicKey,mint:m,owner:o})),v=j({ownerPublicKey:a.publicKey,sourcePublicKey:r,destinationPublicKey:p.publicKey,amount:s,memo:d}),b.add(v),y=[p],e.next=22,f(n,b,a,y);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.owner,r=t.sourcePublicKey,o=(new i.i).add(Object(u.d)({source:r,destination:a.publicKey,owner:a.publicKey})),l=[],e.next=5,f(n,o,a,l);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},141:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return h}));var a=n(5),r=n.n(a),c=n(15),o=n(17),i=n(19);function u(e,t,n,a){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t,n,a,c){var o,i,u,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0,i=0,!(c.length>255)){e.next=15;break}case 3:if(!(c.length-i>255)){e.next=15;break}return u=c.slice(i,i+255),i+=255,console.log("send",(2|o).toString(16),u.length.toString(16),u),e.next=9,t.send(224,n,a,2|o,u);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("solana_send: Received unexpected reply payload","UnexpectedReplyPayload");case 12:o|=1,e.next=3;break;case 15:return l=c.slice(i),console.log("send",o.toString(16),l.length.toString(16),l),e.next=19,t.send(224,n,a,o,l);case 19:return s=e.sent,e.abrupt("return",s.slice(0,s.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return(e|1<<31>>>0)>>>0}function d(t,n){var a;a="number"===typeof t?"number"===typeof n?4:3:2;var r=e.alloc(1+4*a),c=0;return c=r.writeUInt8(a,c),c=r.writeUInt32BE(s(44),c),c=r.writeUInt32BE(s(501),c),a>2&&(c=r.writeUInt32BE(s(t),c),4===a&&(c=r.writeUInt32BE(s(n),c))),r}function m(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(t,5,0,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.serializeMessage(),e.abrupt("return",v(t,n,c));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(r.a.mark((function t(n,a,c){var o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=e.alloc(1)).writeUInt8(1),i=e.concat([o,a,c]),t.abrupt("return",u(n,6,1,i));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d(),e.next=3,m(t,n);case 3:return a=e.sent,c=i.encode(a),e.abrupt("return",new o.e(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(16).Buffer)},158:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var a=n(53),r=n(5),c=n.n(r),o=n(15),i=n(18),u=n(20),l=n(65),s=n(181),d=n(38),m=n.n(d),p=n(17),f=n(19),b=n.n(f);function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=s.fromSeed(e).derivePath("m/501'/".concat(t,"'/0/").concat(n)).privateKey;return new p.a(m.a.sign.keyPair.fromSeed(a).secretKey)}var y=function(){function t(n){var r=this;Object(i.a)(this,t),this.init=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)}))),this.signTransaction=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.partialSign(r.account),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSignature=function(e){return b.a.encode(m.a.sign.detached(e,r.account.secretKey))};var u=Object(l.c)().seed;this.account=n.account,this.listAddresses=function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.from(u,"hex"),t.abrupt("return",Object(a.a)(Array(n).keys()).map((function(e){return{index:e,address:v(r,e).publicKey,name:localStorage.getItem("name".concat(e))}})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}return Object(u.a)(t,[{key:"publicKey",get:function(){return this.account.publicKey}}]),t}()}).call(this,n(16).Buffer)},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(5),r=n.n(a),c=n(15),o=n(18),i=n(20),u=n(363),l=n(141),s=n(19),d=n.n(s),m=(n(38),function(){function e(t){var n=this;Object(o.a)(this,e),this.init=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.create();case 2:return n.transport=e.sent,e.next=5,Object(l.a)(n.transport);case 5:return n.pubKey=e.sent,n.transport.on("disconnect",n.onDisconnect),n.listAddresses=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[n.pubKey]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),this.signTransaction=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.b)(),e.next=3,Object(l.d)(n.transport,a,t);case 3:return c=e.sent,t.addSignature(n.publicKey,c),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSignature=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.b)(),e.next=3,Object(l.c)(n.transport,a,t);case 3:return c=e.sent,e.abrupt("return",d.a.encode(c));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onDisconnect=t&&t.onDisconnect||function(){}}return Object(i.a)(e,[{key:"publicKey",get:function(){return this.pubKey}}]),e}())},200:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"signature","type":"bytes"}],"name":"NonceUsed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"string","name":"recipient","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"string","name":"recipient","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"swapErc20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipient","type":"string"}],"name":"swapEth","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"withdrawErc20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"withdrawEth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerWithdrawErc20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerWithdrawEth","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},248:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return k}));var a=n(5),r=n.n(a),c=n(15),o=n(11),i=n(0),u=n.n(i),l=n(17),s=n(36),d=n(52),m=n(105),p=u.a.createContext(null),f="https://solana-api.projectserum.com";function b(e){var t=e.children,n=Object(s.f)("connectionEndpoint",f),a=Object(o.a)(n,2),r=a[0],c=a[1],d=Object(i.useMemo)((function(){return new l.b(r,"recent")}),[r]);return u.a.createElement(p.Provider,{value:{endpoint:r,setEndpoint:c,connection:d}},t)}function v(){return Object(i.useContext)(p).connection}function y(){var e=Object(i.useContext)(p);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint}}function h(){return Object(i.useContext)(p).endpoint===f}function g(){var e=Object(i.useContext)(p).endpoint;return e===Object(l.k)("devnet")?"?cluster=devnet":e===Object(l.k)("testnet")?"?cluster=testnet":""}function E(e){var t=v(),n=Object(m.a)(t,null===e||void 0===e?void 0:e.toBase58()),a=Object(d.c)(Object(c.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?t.getAccountInfo(e):null);case 1:case"end":return n.stop()}}),n)}))),n),u=Object(o.a)(a,2),l=u[0],s=u[1];return Object(i.useEffect)((function(){if(e){var a=null,r=t.onAccountChange(e,(function(e){a&&a.data.equals(e.data)&&a.lamports===e.lamports||(a=e,Object(d.b)(n,e))}));return function(){return t.removeAccountChangeListener(r)}}}),[t,null===e||void 0===e?void 0:e.toBase58(),n]),[l,s]}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(m.a)(e,t.toBase58());Object(d.a)(a,n)}function k(e,t,n){var a=Object(m.a)(e,t.toBase58());Object(d.b)(a,n,{initializeOnly:!0})}},28:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return N})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return B})),n.d(t,"b",(function(){return K})),n.d(t,"e",(function(){return W})),n.d(t,"c",(function(){return M})),n.d(t,"g",(function(){return D}));var a=n(53),r=n(42),c=n(11),o=n(5),i=n.n(o),u=n(15),l=n(18),s=n(20),d=n(0),m=n.n(d),p=n(19),f=n(17),b=n(38),v=n.n(b),y=n(27),h=n(107),g=n(43),E=n(54),w=n(36),k=n(78),O=n(52),j=n(65),S=n(362),x=n(158),C={walletIndex:0,importedPubkey:void 0,ledger:!1},A=function(){function e(t,n,a){var r=this;Object(l.a)(this,e),this.getTokenAccountInfo=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(r.connection,r.publicKey);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){var t=e.publicKey,n=e.accountInfo;return Object(y.d)(r.connection,t,n),{publicKey:t,parsed:Object(E.e)(n.data)}})));case 4:case"end":return e.stop()}}),e)}))),this.createTokenAccount=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)({connection:r.connection,payer:r,mintPublicKey:t,newAccount:new f.a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.tokenAccountCost=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.connection.getMinimumBalanceForRentExemption(E.a.span));case 1:case"end":return e.stop()}}),e)}))),this.transferToken=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a,c){var o,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.length>4&&void 0!==u[4]?u[4]:null,!t.equals(r.publicKey)){e.next=5;break}if(!o){e.next=4;break}throw new Error("Memo not implemented");case 4:return e.abrupt("return",r.transferSol(n,a));case 5:return e.next=7,Object(h.f)({connection:r.connection,owner:r,sourcePublicKey:t,destinationPublicKey:n,amount:a,memo:o,mint:c});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),this.transferSol=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.e)(r.connection,r,t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.closeTokenAccount=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)({connection:r.connection,owner:r,sourcePublicKey:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.signTransaction=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.provider.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSignature=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.provider.createSignature(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.connection=t,this.type=n,this.provider=S.a.getProvider(n,a)}return Object(s.a)(e,[{key:"publicKey",get:function(){return this.provider.publicKey}},{key:"allowsExport",get:function(){return"local"===this.type}}]),e}();A.create=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new A(t,n,a),e.next=3,r.provider.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();var T=m.a.createContext(null);function I(t){var n=t.children;Object(w.e)(j.h,"change");var o=Object(j.c)(),l=o.mnemonic,s=o.seed,b=o.importsEncryptionKey,h=Object(y.f)(),g=Object(d.useState)(),E=Object(c.a)(g,2),k=E[0],O=E[1],S=Object(w.f)("walletPrivateKeyImports",{}),I=Object(c.a)(S,2),N=I[0],P=I[1],B=Object(w.f)("walletSelector",C),K=Object(c.a)(B,2),W=K[0],M=K[1],D=Object(d.useState)(W.ledger?W.importedPubkey:void 0),F=Object(c.a)(D,2),R=F[0],L=F[1],z=Object(w.f)("walletCount",1),U=Object(c.a)(z,2),q=U[0],_=U[1];Object(d.useEffect)((function(){Object(u.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return",null);case 2:if(!W.ledger){t.next=15;break}return t.prev=3,a=function(){M(C),L(void 0)},t.next=7,A.create(h,"ledger",{onDisconnect:a});case 7:n=t.sent,t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(3),console.log("received error using ledger wallet: ".concat(t.t0)),M(C),t.abrupt("return");case 15:if(n){t.next=20;break}return r=void 0!==W.walletIndex?Object(x.b)(e.from(s,"hex"),W.walletIndex):new f.a(function(){var e=N[W.importedPubkey],t=e.nonce,n=e.ciphertext;return v.a.secretbox.open(p.decode(n),p.decode(t),b)}()),t.next=19,A.create(h,"local",{account:r});case 19:n=t.sent;case 20:O(n);case 21:case"end":return t.stop()}}),t,null,[[3,10]])})))()}),[h,s,W,N,b,M]);var X=function(){return JSON.stringify(Object(a.a)(Array(q).keys()).map((function(e){return localStorage.getItem("name".concat(e))})))},G=Object(d.useState)(X()),H=Object(c.a)(G,2),J=H[0],V=H[1];var Y=Object(d.useMemo)((function(){if(!s)return[];var t=e.from(s,"hex"),n=Object(a.a)(Array(q).keys()).map((function(e){var n=Object(x.b)(t,e).publicKey,a=localStorage.getItem("name".concat(e));return{selector:{walletIndex:e,importedPubkey:void 0,ledger:!1},isSelected:W.walletIndex===e,address:n,name:0===e?"Main account":a||"Account ".concat(e)}})),r=Object.keys(N).map((function(e){var t=N[e].name;return{selector:{walletIndex:void 0,importedPubkey:e,ledger:!1},address:new f.e(p.decode(e)),name:"".concat(t," (imported)"),isSelected:W.importedPubkey===e}}));return R&&n.push({selector:{walletIndex:void 0,importedPubkey:R,ledger:!0},address:new f.e(R),name:"Hardware wallet",isSelected:W.ledger}),n.concat(r)}),[s,q,W,N,J,R]);return m.a.createElement(T.Provider,{value:{wallet:k,seed:s,mnemonic:l,importsEncryptionKey:b,walletSelector:W,setWalletSelector:M,privateKeyImports:N,setPrivateKeyImports:P,accounts:Y,addAccount:function(e){var t=e.name,n=e.importedAccount;if(e.ledger)L(n);else if(void 0===n)t&&localStorage.setItem("name".concat(q),t),_(q+1);else{var a=v.a.randomBytes(v.a.secretbox.nonceLength),c=n.secretKey,o=v.a.secretbox(c,a,b),i=Object(r.a)({},N);i[n.publicKey.toString()]={name:t,ciphertext:p.encode(o),nonce:p.encode(a)},P(i)}},setAccountName:function(e,t){if(e.importedPubkey&&!e.ledger){var n=Object(r.a)({},N);n[e.importedPubkey.toString()].name=t,P(n)}else localStorage.setItem("name".concat(e.walletIndex),t),V(X())}}},n)}function N(){return Object(d.useContext)(T).wallet}function P(){var e=N(),t=Object(O.c)(e.getTokenAccountInfo,e.getTokenAccountInfo),n=Object(c.a)(t,2),r=n[0],o=n[1],i=function(){return[e.publicKey].concat(Object(a.a)(r?r.map((function(e){return e.publicKey})):[]))},u=i().map((function(e){return(null===e||void 0===e?void 0:e.toBase58())||""})).toString();return[Object(d.useMemo)(i,[u]),o]}function B(){var e=N();return Object(O.c)(e.getTokenAccountInfo,e.getTokenAccountInfo)}function K(e){Object(O.a)(e.getTokenAccountInfo)}function W(e){var t=B(),n=Object(c.a)(t,1)[0];return Object(d.useMemo)((function(){var t;return e?null===n||void 0===n||null===(t=n.find((function(t){var n,a;return null===(n=t.parsed)||void 0===n||null===(a=n.mint)||void 0===a?void 0:a.equals(e)})))||void 0===t?void 0:t.publicKey.toBase58():null}),[n,e])}function M(e){var t,n=Object(y.e)(e),a=Object(c.a)(n,2),r=a[0],o=a[1],i=(null===r||void 0===r?void 0:r.owner.equals(g.a))?Object(E.e)(r.data):{},u=i.mint,l=i.owner,s=i.amount,d=Object(y.e)(u),m=Object(c.a)(d,2),p=m[0],f=m[1],b=Object(k.b)(u),v=b.name,h=b.symbol;if(!o)return null;if(u&&u.equals(g.b))return{amount:s,decimals:9,mint:u,owner:l,tokenName:"Wrapped SOL",tokenSymbol:"SOL",valid:!0};if(u&&f)try{return{amount:s,decimals:Object(E.d)(p.data).decimals,mint:u,owner:l,tokenName:v,tokenSymbol:h,valid:!0}}catch(w){return{amount:s,decimals:0,mint:u,owner:l,tokenName:"Invalid",tokenSymbol:"INVALID",valid:!1}}return u?null:{amount:null!==(t=null===r||void 0===r?void 0:r.lamports)&&void 0!==t?t:0,decimals:9,mint:null,owner:e,tokenName:"SOL",tokenSymbol:"SOL",valid:!0}}function D(){var e=Object(d.useContext)(T),t=e.accounts,n=e.addAccount;return{accounts:t,setWalletSelector:e.setWalletSelector,addAccount:n,setAccountName:e.setAccountName}}}).call(this,n(16).Buffer)},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(5),r=n.n(a),c=n(11),o=n(15),i=n(0);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(i.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),a=Object(c.a)(n,2),r=a[0],o=a[1],u=Object(i.useCallback)((function(t){r!==t&&(o(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[r,e]);return[r,u]}function d(e,t){Object(i.useEffect)((function(){var n=setTimeout(e,t);return function(){return clearTimeout(n)}}))}function m(e,t){var n=Object(i.useState)(0),a=Object(c.a)(n,2)[1];Object(i.useEffect)((function(){var n=function(){return a((function(e){return e+1}))};return e.on(t,n),function(){return e.removeListener(t,n)}}),[e,t])}function p(e){var t=e.toBase58();return t.slice(0,4)+"\u2026"+t.slice(t.length-4)}function f(e,t){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,e.next=3,t.confirmTransaction(n,"recent");case 3:if(!(c=e.sent).value.err){e.next=6;break}throw new Error("Error confirming transaction: "+JSON.stringify(c.err));case 6:return console.log("Transaction confirmed after %sms",new Date-a),e.abrupt("return",c.value);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},362:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(18),r=n(20),c=n(158),o=n(182),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getProvider",value:function(e,t){return"local"===e?new c.a(t):"ledger"===e?new o.a(t):void 0}}]),e}()},419:function(e,t,n){e.exports=n(731)},424:function(e,t,n){},427:function(e,t){},428:function(e,t){},43:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return k}));var a=n(53),r=n(3),c=n(17),o=n(113),i=new c.e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),u=new c.e("So11111111111111111111111111111111111111112"),l=new c.e("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),s=r.union(r.u8("instruction"));s.addVariant(0,r.struct([r.u8("decimals"),r.blob(32,"mintAuthority"),r.u8("freezeAuthorityOption"),r.blob(32,"freezeAuthority")]),"initializeMint"),s.addVariant(1,r.struct([]),"initializeAccount"),s.addVariant(3,r.struct([r.nu64("amount")]),"transfer"),s.addVariant(7,r.struct([r.nu64("amount")]),"mintTo"),s.addVariant(8,r.struct([r.nu64("amount")]),"burn"),s.addVariant(9,r.struct([]),"closeAccount");var d=Math.max.apply(Math,Object(a.a)(Object.values(s.registry).map((function(e){return e.span}))));function m(t){var n=e.alloc(d),a=s.encode(t,n);return n.slice(0,a)}function p(e){var t=e.mint,n=e.decimals,a=e.mintAuthority,r=e.freezeAuthority,o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:c.f,isSigner:!1,isWritable:!1}];return new c.j({keys:o,data:m({initializeMint:{decimals:n,mintAuthority:a.toBuffer(),freezeAuthorityOption:!!r,freezeAuthority:(r||new c.e).toBuffer()}}),programId:i})}function f(e){var t=[{pubkey:e.account,isSigner:!1,isWritable:!0},{pubkey:e.mint,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!1,isWritable:!1},{pubkey:c.f,isSigner:!1,isWritable:!1}];return new c.j({keys:t,data:m({initializeAccount:{}}),programId:i})}function b(e){var t=e.source,n=e.destination,a=e.amount,r=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new c.j({keys:r,data:m({transfer:{amount:a}}),programId:i})}function v(e){var t=e.mint,n=e.destination,a=e.amount,r=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.mintAuthority,isSigner:!0,isWritable:!1}];return new c.j({keys:r,data:m({mintTo:{amount:a}}),programId:i})}function y(e){var t=[{pubkey:e.source,isSigner:!1,isWritable:!0},{pubkey:e.destination,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new c.j({keys:t,data:m({closeAccount:{}}),programId:i})}function h(t){return new c.j({keys:[],data:e.from(t,"utf-8"),programId:l})}var g=new c.e("4MNPdKu9wFMvEeZBMt3Eipfs5ovVWTJb31pEXDJAAxX5"),E=r.struct([Object(o.publicKeyLayout)("account")]);function w(t){var n=e.alloc(E.span),a=E.encode(t,n);return n.slice(0,a)}function k(e){var t=e.account,n=e.owner,a=[{pubkey:t,isSigner:!1,isWritable:!1}];return new c.j({keys:a,data:w({account:n}),programId:g})}}).call(this,n(16).Buffer)},452:function(e,t){},454:function(e,t){},467:function(e,t){},468:function(e,t){},496:function(e,t){},498:function(e,t){},52:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return w}));var a=n(11),r=n(5),c=n.n(r),o=n(15),i=n(53),u=n(18),l=n(20),s=n(8),d=n.n(s),m=n(0),p=n(105),f=new Date,b=new Map,v=new(function(){function e(){Object(u.a)(this,e),this.loops=new Map}return Object(l.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new h(e.cacheKey,e.fn)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&this.loops.delete(e.cacheKey)}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(i.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}()),y=function e(t,n,a,r){Object(u.a)(this,e),this.cacheKey=t,this.fn=n,this.refreshInterval=a,this.callback=r},h=function(){function e(t,n){var a=this;Object(u.a)(this,e),this.refresh=Object(o.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.timeoutId&&(clearTimeout(a.timeoutId),a.timeoutId=null),!a.stopped){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.fn();case 6:return t=e.sent,b.set(a.cacheKey,t),a.errors=0,a.notifyListeners(),e.abrupt("return",t);case 13:e.prev=13,e.t0=e.catch(3),++a.errors,console.warn(e.t0);case 17:return e.prev=17,a.timeoutId||a.stopped||(n=a.refreshInterval,a.errors>0&&(n=Math.min(1e3*Math.pow(2,a.errors-1),6e4)),(r=new Date-f)<5e3&&(n+=5e3-r/2),"hidden"===document.visibilityState?n=6e4:document.hasFocus()||(n*=1.5),n*=.8+.4*Math.random(),a.timeoutId=setTimeout(a.refresh,n)),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0}return Object(l.a)(e,[{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){d()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}},{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(i.a)(Object(i.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"stopped",get:function(){return 0===this.listeners.size}}]),e}();function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.refreshInterval,c=void 0===r?6e4:r;t=k(t);var o=Object(m.useReducer)((function(e){return e+1}),0),i=Object(a.a)(o,2),u=i[1];if(Object(m.useEffect)((function(){if(!t)return function(){};var n=new y(t,e,c,u);return v.addListener(n),function(){return v.removeListener(n)}}),[t,c]),!t)return[null,!1];var l=b.has(t),s=l?b.get(t):void 0;return[s,l]}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=k(e),t&&b.delete(e);var n=v.loops.get(e);n&&(n.refresh(),t&&n.notifyListeners())}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.initializeOnly,r=void 0!==a&&a;if(e=k(e),!r||!b.has(e)){b.set(e,t);var c=v.loops.get(e);c&&c.notifyListeners()}}function k(e){return Array.isArray(e)?p.a.apply(void 0,Object(i.a)(e)):e}},526:function(e,t){},528:function(e,t){},533:function(e,t){},535:function(e,t){},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(3),r=n(17),c=a.struct([a.blob(32,"mint"),a.blob(32,"owner"),a.nu64("amount"),a.blob(93)]),o=a.struct([a.blob(44),a.u8("decimals"),a.blob(37)]);function i(e){var t=c.decode(e),n=t.mint,a=t.owner,o=t.amount;return{mint:new r.e(n),owner:new r.e(a),amount:o}}function u(e){return{decimals:o.decode(e).decimals}}function l(e){return[{memcmp:{offset:c.offsetOf("owner"),bytes:e.toBase58()}},{dataSize:c.span}]}},542:function(e,t){},544:function(e,t){},556:function(e,t){},559:function(e,t){},567:function(e,t){},588:function(e,t){},596:function(e,t){},617:function(e,t){},618:function(e,t){},65:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return T}));var a=n(5),r=n.n(a),c=n(42),o=n(15),i=n(129),u=n(38),l=n(181),s=n(19),d=n.n(s),m=n(67);n(0),n(28);function p(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function t(){var a,c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(0).then(n.t.bind(null,391,7));case 2:return a=t.sent,c=a.generateMnemonic(128),t.next=6,a.mnemonicToSeed(c);case 6:return o=t.sent,t.abrupt("return",{mnemonic:c,seed:e.from(o).toString("hex")});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark((function t(a){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(0).then(n.t.bind(null,391,7));case 2:if((c=t.sent).validateMnemonic(a)){t.next=5;break}throw new Error("Invalid seed words");case 5:return t.next=7,c.mnemonicToSeed(a);case 7:return o=t.sent,t.abrupt("return",e.from(o).toString("hex"));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=function(){var e=JSON.parse(sessionStorage.getItem("unlocked")||localStorage.getItem("unlocked")||"null");return null===e?{mnemonic:null,seed:null,importsEncryptionKey:null}:Object(c.a)({importsEncryptionKey:A(e.seed)},e)}(),h=new m.EventEmitter;function g(){return y}function E(){return!!localStorage.getItem("locked")}function w(e,t,n){y={mnemonic:e,seed:t,importsEncryptionKey:n},h.emit("change",y)}function k(e,t,n){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(r.a.mark((function t(n,a,c){var o,i,l,s,m,p,f,b,v;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=JSON.stringify({mnemonic:n,seed:a}),!c){t.next=16;break}return i=Object(u.randomBytes)(16),l="pbkdf2",s=1e5,m="sha256",t.next=8,x(c,i,s,m);case 8:p=t.sent,f=Object(u.randomBytes)(u.secretbox.nonceLength),b=Object(u.secretbox)(e.from(o),f,p),localStorage.setItem("locked",JSON.stringify({encrypted:d.a.encode(b),nonce:d.a.encode(f),kdf:l,salt:d.a.encode(i),iterations:s,digest:m})),localStorage.removeItem("unlocked"),sessionStorage.removeItem("unlocked"),t.next=19;break;case 16:localStorage.setItem("unlocked",o),localStorage.removeItem("locked"),sessionStorage.removeItem("unlocked");case 19:v=A(a),w(n,a,v);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(e,t){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(r.a.mark((function t(n,a){var c,o,i,l,s,m,p,f,b,v,y,h,g,E,k,O;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=JSON.parse(localStorage.getItem("locked")),o=c.encrypted,i=c.nonce,l=c.salt,s=c.iterations,m=c.digest,p=d.a.decode(o),f=d.a.decode(i),b=d.a.decode(l),t.next=6,x(n,b,s,m);case 6:if(v=t.sent,y=u.secretbox.open(p,f,v)){t.next=10;break}throw new Error("Incorrect password");case 10:return h=e.from(y).toString(),g=JSON.parse(h),E=g.mnemonic,k=g.seed,a&&sessionStorage.setItem("unlocked",h),O=A(k),w(E,k,O),t.abrupt("return",{mnemonic:E,seed:k});case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(e,t,n,a){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(r.a.mark((function e(t,n,a,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return Object(i.pbkdf2)(t,n,a,u.secretbox.keyLength,c,(function(t,n){return t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(t){return l.fromSeed(e.from(t,"hex")).derivePath("m/10016'/0").privateKey}function T(){localStorage.clear(),sessionStorage.removeItem("unlocked"),y={mnemonic:null,seed:null,importsEncryptionKey:null},h.emit("change",y),window.location.reload()}}).call(this,n(16).Buffer)},669:function(e,t){},678:function(e,t){},681:function(e,t){},731:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),o=n.n(c),i=(n(424),n(807)),u=n(774),l=n(805),s=n(806),d=n(385),m=n.n(d),p=n(104),f=n(11),b=n(791),v=n(790),y=n(94),h=n(788),g=n(27),E=n(784),w=n(386),k=n(792),O=n(17),j=n(28),S=n(793),x=n(246),C=n.n(x),A=n(194),T=n.n(A),I=n(372),N=n.n(I),P=n(370),B=n.n(P),K=n(371),W=n.n(K),M=n(794),D=n(812),F=n(734),R=n(186);function L(){return r.a.createElement(R.a,{viewBox:"0 0 450 450"},r.a.createElement("path",{d:"m374.393945,136.203008c-2.518,2.519 -5.934,3.934 -9.496,3.934l-336.443,0c-11.891,0 -17.914,-14.315 -9.601,-22.817l55.186,-56.441c2.527,-2.584 5.988,-4.041 9.602,-4.041l337.697,0c11.964,0 17.955,14.465 9.496,22.925l-56.441,56.44z"}),r.a.createElement("path",{d:"m374.393945,392.628008c-2.518,2.518 -5.934,3.933 -9.496,3.933l-336.443,0c-11.891,0 -17.914,-14.315 -9.601,-22.817l55.186,-56.441c2.527,-2.584 5.988,-4.041 9.602,-4.041l337.697,0c11.964,0 17.955,14.465 9.496,22.925l-56.441,56.441z"}),r.a.createElement("path",{d:"m374.393945,188.933008c-2.518,-2.518 -5.934,-3.933 -9.496,-3.933l-336.443,0c-11.891,0 -17.914,14.315 -9.601,22.817l55.186,56.441c2.527,2.584 5.988,4.04 9.602,4.04l337.697,0c11.964,0 17.955,-14.464 9.496,-22.924l-56.441,-56.441z"}))}var z=n(373),U=n.n(z),q=n(815),_=n(783),X=n(776),G=n(777),H=n(808),J=n(781),V=n(780),Y=n(782),Z=n(19),Q=n.n(Z),$=n(198),ee=n(816),te=n(44);function ne(e){var t=e.open,n=e.onClose,a=e.onSubmit,c=e.children,o=Object($.a)(e,["open","onClose","onSubmit","children"]),i=Object(te.a)(),l=Object(u.a)(i.breakpoints.down("xs"));return r.a.createElement(ee.a,Object.assign({open:t,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault(),a&&a()}},onClose:n,fullScreen:l},o),c)}function ae(e){var t=e.open,n=e.onAdd,c=e.onClose,o=Object(a.useState)(""),i=Object(f.a)(o,2),u=i[0],l=i[1],s=Object(a.useState)(!1),d=Object(f.a)(s,2),m=d[0],p=d[1],b=Object(a.useState)(""),v=Object(f.a)(b,2),y=v[0],h=v[1],g=m?function(e){try{return new O.a(Z.decode(e))}catch(t){return}}(y):void 0,w=m?u&&void 0!==g:u;return r.a.createElement(ne,{open:t,onEnter:function(){l(""),p(!1),h("")},onClose:c,onSubmit:function(){return n({name:u,importedAccount:g})},fullWidth:!0},r.a.createElement(X.a,null,"Add account"),r.a.createElement(G.a,{style:{paddingTop:16}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(H.a,{label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",value:u,onChange:function(e){return l(e.target.value.trim())}}),r.a.createElement(V.a,null,r.a.createElement(J.a,{control:r.a.createElement(Y.a,{checked:m,onChange:function(){return p(!m)}}),label:"Import private key"})),m&&r.a.createElement(H.a,{label:"Paste your private key here",fullWidth:!0,type:"password",value:y,variant:"outlined",margin:"normal",onChange:function(e){return h(e.target.value.trim())}}))),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:c},"Close"),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:!w},"Add")))}var re=n(65),ce=n(785);function oe(e){var t=e.open,n=e.onClose,a=e.isDeleteAccountEnabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{open:t,onClose:n,onSubmit:function(){Object(re.a)(),n()},fullWidth:!0},r.a.createElement(X.a,null,"Delete Account"),r.a.createElement(ce.a,{style:{margin:20}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},"You will not be able to recover the current accounts without the seed phrase, and the account private key. This action will delete all current accounts from your browser.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",{style:{textAlign:"center"}},"To prevent loss of funds, please ensure you have the seed phrase and the private key for all current accounts."))),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:n},"Close"),r.a.createElement(E.a,{type:"submit",color:"secondary",disabled:!a},"Delete Account"))))}var ie=n(5),ue=n.n(ie),le=n(15),se=n(182),de=n(789),me=n(92);function pe(e){var t=e.open,n=e.onAdd,c=e.onClose,o=Object(a.useState)(),i=Object(f.a)(o,2),u=i[0],l=i[1],s=Object(me.b)().enqueueSnackbar;return Object(a.useEffect)((function(){Object(le.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return e.prev=1,n=new se.a,e.next=5,n.init();case 5:l(n.publicKey),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("received error when attempting to connect ledger: ".concat(e.t0)),26628===e.t0.statusCode&&s("Unlock ledger device",{variant:"error"}),l(void 0),c();case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[t,c]),r.a.createElement(ne,{open:t,onEnter:function(){},onClose:function(){l(void 0),c()},onSubmit:function(){l(void 0),n(u),c()},fullWidth:!0},r.a.createElement(X.a,null,"Add hardware wallet"),r.a.createElement(G.a,{style:{paddingTop:16}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},u?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Hardware wallet detected:"),r.a.createElement("div",null,u.toString())):r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Connect your ledger and open the Solana application"),r.a.createElement(de.a,null)))),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:function(){l(void 0),c()}},"Close"),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:!u},"Add")))}var fe=Object(h.a)((function(e){return{content:{flexGrow:1,paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},title:{flexGrow:1},button:{marginLeft:e.spacing(1)},menuItemIcon:{minWidth:32}}}));function be(e){var t=e.children,n=fe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(y.a,{variant:"h6",className:n.title,component:"h1"},"Solana SPL Token Wallet"),r.a.createElement(ye,null),r.a.createElement(ve,null))),r.a.createElement("main",{className:n.content},t),r.a.createElement(ge,null))}function ve(){var e,t,n=Object(g.g)(),c=n.endpoint,o=n.setEndpoint,i=Object(a.useState)(null),u=Object(f.a)(i,2),l=u[0],s=u[1],d=fe(),m=[g.b,Object(O.k)("devnet"),Object(O.k)("testnet"),"http://localhost:8899"],b=(e={},Object(p.a)(e,g.b,"Mainnet Beta"),Object(p.a)(e,Object(O.k)("devnet"),"Devnet"),Object(p.a)(e,Object(O.k)("testnet"),"Testnet"),e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{xsDown:!0},r.a.createElement(E.a,{color:"inherit",onClick:function(e){return s(e.target)},className:d.button},null!==(t=b[c])&&void 0!==t?t:"Network")),r.a.createElement(D.a,{smUp:!0},r.a.createElement(q.a,{title:"Select Network",arrow:!0},r.a.createElement(F.a,{color:"inherit",onClick:function(e){return s(e.target)}},r.a.createElement(L,null)))),r.a.createElement(w.a,{anchorEl:l,open:!!l,onClose:function(){return s(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},getContentAnchorEl:null},m.map((function(e){return r.a.createElement(k.a,{key:e,onClick:function(){s(null),o(e)},selected:e===c},r.a.createElement(S.a,{className:d.menuItemIcon},e===c?r.a.createElement(C.a,{fontSize:"small"}):null),e)}))))}function ye(){var e=Object(j.g)(),t=e.accounts,n=e.setWalletSelector,c=e.addAccount,o=Object(a.useState)(null),i=Object(f.a)(o,2),u=i[0],l=i[1],s=Object(a.useState)(!1),d=Object(f.a)(s,2),m=d[0],p=d[1],b=Object(a.useState)(!1),v=Object(f.a)(b,2),h=v[0],g=v[1],O=Object(a.useState)(!1),x=Object(f.a)(O,2),A=x[0],I=x[1],P=Object(a.useState)(!1),K=Object(f.a)(P,2),R=K[0],L=K[1],z=fe();return 0===t.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{open:h,onClose:function(){return g(!1)},onAdd:function(e){c({name:"Hardware wallet",importedAccount:e.toString(),ledger:!0}),n({walletIndex:void 0,importedPubkey:e.toString(),ledger:!0})}}),r.a.createElement(ae,{open:m,onClose:function(){return p(!1)},onAdd:function(e){var a=e.name,r=e.importedAccount;c({name:a,importedAccount:r}),n({walletIndex:r?void 0:t.length,importedPubkey:r?r.publicKey.toString():void 0,ledger:!1}),p(!1)}}),r.a.createElement(oe,{open:A,onClose:function(){return I(!1)},isDeleteAccountEnabled:R}),r.a.createElement(D.a,{xsDown:!0},r.a.createElement(E.a,{color:"inherit",onClick:function(e){return l(e.target)},className:z.button},"Account")),r.a.createElement(D.a,{smUp:!0},r.a.createElement(q.a,{title:"Select Account",arrow:!0},r.a.createElement(F.a,{color:"inherit",onClick:function(e){return l(e.target)}},r.a.createElement(B.a,null)))),r.a.createElement(w.a,{anchorEl:u,open:!!u,onClose:function(){return l(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},getContentAnchorEl:null},t.map((function(e){var t=e.isSelected,a=e.selector,c=e.address,o=e.name;e.label;return r.a.createElement(k.a,{key:c.toBase58(),onClick:function(){l(null),n(a)},selected:t,component:"div"},r.a.createElement(S.a,{className:z.menuItemIcon},t?r.a.createElement(C.a,{fontSize:"small"}):null),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(y.a,null,o),r.a.createElement(y.a,{color:"textSecondary"},c.toBase58())))})),r.a.createElement(M.a,null),r.a.createElement(k.a,{onClick:function(){return g(!0)}},r.a.createElement(S.a,{className:z.menuItemIcon},r.a.createElement(W.a,{fontSize:"small"})),"Import Hardware Wallet"),r.a.createElement(k.a,{onClick:function(){l(null),p(!0)}},r.a.createElement(S.a,{className:z.menuItemIcon},r.a.createElement(T.a,{fontSize:"small"})),"Add Account"),r.a.createElement(k.a,{onClick:function(){l(null),L(!1),I(!0),setTimeout((function(){L(!0)}),3e3)}},r.a.createElement(S.a,{className:z.menuItemIcon},r.a.createElement(N.a,{fontSize:"small"})),"Delete Account")))}var he=Object(h.a)((function(e){return{footer:{display:"flex",justifyContent:"flex-end",margin:e.spacing(2)}}}));function ge(){var e=he();return r.a.createElement("footer",{className:e.footer},r.a.createElement(E.a,{variant:"outlined",color:"primary",component:"a",target:"_blank",rel:"noopener",href:"https://github.com/serum-foundation/spl-token-wallet",startIcon:r.a.createElement(U.a,null)},"View Source"))}var Ee=n(800),we=n(779),ke=n(735),Oe=n(797),je=n(251),Se=n(36),xe=Object(h.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",padding:e.spacing(2)}}}));function Ce(e){var t=e.height,n=void 0===t?null:t,c=e.delay,o=void 0===c?500:c,i=Object($.a)(e,["height","delay"]),u=xe(),l=Object(a.useState)(!1),s=Object(f.a)(l,2),d=s[0],m=s[1];Object(Se.d)((function(){return m(!0)}),o);var p={};return n&&(p.height=n),d?r.a.createElement("div",Object.assign({className:u.root,style:p},i),r.a.createElement(de.a,null)):n?r.a.createElement("div",{style:p}):null}var Ae=n(786),Te=n(795),Ie=n(375),Ne=n.n(Ie),Pe=n(376),Be=n.n(Pe),Ke=n(374),We=n.n(Ke),Me=Object(h.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(1),marginBottom:e.spacing(1),alignItems:"baseline"}}}));function De(e){var t=e.value,n=e.label,c=e.autoFocus,o=e.qrCode,i=e.helperText,u=Object(me.b)().enqueueSnackbar,l=Object(a.useRef)(),s=Me();return r.a.createElement("div",{className:s.root},r.a.createElement(H.a,{inputRef:function(e){return l.current=e},multiline:!0,autoFocus:c,value:t,readOnly:!0,onFocus:function(e){return e.currentTarget.select()},className:s.textArea,fullWidth:!0,helperText:i,label:n,spellCheck:!1}),r.a.createElement(F.a,{onClick:function(){var e=l.current;e&&(e.select(),document.execCommand("copy"),u("Copied ".concat(n),{variant:"info",autoHideDuration:2500}))}},r.a.createElement(Ne.a,null)),o?r.a.createElement(Re,{value:!0===o?t:o}):null)}var Fe=Object(h.a)((function(e){return{qrcodeContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(2)}}}));function Re(e){var t=e.value,n=r.a.useState(!1),a=Object(f.a)(n,2),c=a[0],o=a[1],i=Fe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{onClick:function(){return o(!0)}},r.a.createElement(Be.a,null)),r.a.createElement(ee.a,{open:c,onClose:function(){return o(!1)}},r.a.createElement(G.a,{className:i.qrcodeContainer},r.a.createElement(We.a,{value:t,size:256,includeMargin:!0}))))}var Le=Object(h.a)((function(e){return{explorerLink:{marginBottom:e.spacing(2)},warning:{marginBottom:e.spacing(2)},container:{minWidth:600}}}));function ze(e){var t=e.open,n=e.onClose,a=e.publicKey,c=e.balanceInfo,o=c.mint,i=c.tokenName,u=c.tokenSymbol,l=Object(g.i)(),s=Le();return r.a.createElement(ne,{open:t,onClose:n},r.a.createElement(X.a,null,null!==i&&void 0!==i?i:Object(Se.a)(o),u?" (".concat(u,")"):null),r.a.createElement(G.a,{className:s.container},r.a.createElement(y.a,{className:s.warning},"Information about ",null!==i&&void 0!==i?i:Object(Se.a)(o)),r.a.createElement(y.a,{variant:"body2",className:s.explorerLink},r.a.createElement(Te.a,{href:"https://explorer.solana.com/account/".concat(a.toBase58())+l,target:"_blank",rel:"noopener"},"View on Solana Explorer")),!!o&&r.a.createElement(De,{value:o.toBase58(),label:"Token Mint Address",autoFocus:!0,helperText:r.a.createElement(r.a.Fragment,null,"This is ",r.a.createElement("strong",null,"not")," your deposit address")}),!!i&&r.a.createElement(De,{value:i,label:"Token Name"}),!!u&&r.a.createElement(De,{value:u,label:"Token Symbol"})))}var Ue=n(195),qe=n.n(Ue),_e=n(196),Xe=n.n(_e),Ge=n(382),He=n.n(Ge),Je=n(381),Ve=n.n(Je),Ye=n(383),Ze=n.n(Ye),Qe=n(379),$e=n.n(Qe),et=n(380),tt=n.n(et),nt=n(378),at=n.n(nt),rt=n(78),ct=n(52),ot=n(810),it=n(796);function ut(){var e=Object(g.f)(),t=Object(me.b)(),n=t.enqueueSnackbar,c=t.closeSnackbar,o=Object(a.useState)(!1),i=Object(f.a)(o,2),u=i[0],l=i[1];function s(){return(s=Object(le.a)(ue.a.mark((function t(a){var o,i,u,s,d,m=arguments;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=m.length>1&&void 0!==m[1]?m[1]:{},i=o.onSuccess,u=o.onError,s=n("Sending transaction...",{variant:"info",persist:!0}),l(!0),t.prev=3,t.next=6,a;case 6:return d=t.sent,c(s),s=n("Confirming transaction...",{variant:"info",persist:!0,action:r.a.createElement(lt,{signature:d})}),t.next=11,Object(Se.b)(e,d);case 11:c(s),l(!1),n("Transaction confirmed",{variant:"success",autoHideDuration:15e3,action:r.a.createElement(lt,{signature:d})}),i&&i(d),t.next=24;break;case 17:t.prev=17,t.t0=t.catch(3),c(s),l(!1),console.warn(t.t0.message),n(t.t0.message,{variant:"error"}),u&&u(t.t0);case 24:case"end":return t.stop()}}),t,null,[[3,17]])})))).apply(this,arguments)}return[function(e){return s.apply(this,arguments)},u]}function lt(e){var t=e.signature,n=Object(g.i)();return r.a.createElement(E.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(t)+n},"View on Solana Explorer")}function st(){var e=Object(me.b)(),t=e.enqueueSnackbar,n=e.closeSnackbar;return function(){var e=Object(le.a)(ue.a.mark((function e(a){var r,c,o,i,u,l,s,d,m,p=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},c=r.progressMessage,o=void 0===c?"Submitting...":c,i=r.successMessage,u=void 0===i?"Success":i,l=r.onSuccess,s=r.onError,d=t(o,{variant:"info",persist:!0}),e.prev=2,e.next=5,a;case 5:m=e.sent,n(d),u&&t(u,{variant:"success"}),l&&l(m),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.warn(e.t0),n(d),t(e.t0.message,{variant:"error"}),s&&s(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}var dt=!!localStorage.getItem("showTokenInfoDialog"),mt=n(18),pt=n(33),ft=n(34),bt=n(387),vt=function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e,a){var r;return Object(mt.a)(this,n),(r=t.call(this,e)).name="SwapApiError",r.status=a,r}return n}(Object(bt.a)(Error));function yt(e,t,n){return ht.apply(this,arguments)}function ht(){return(ht=Object(le.a)(ue.a.mark((function e(t,n,a){var r,c,o,i,u,l,s=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>3&&void 0!==s[3]?s[3]:{},c=r.ignoreUserErrors,o=void 0!==c&&c,u={headers:i={},method:t},"GET"===t?u.cache="no-cache":a&&(i["Content-Type"]="application/json",u.body=JSON.stringify(a)),e.next=6,fetch("https://swap.sollet.io/api/".concat(n),u);case 6:return l=e.sent,e.next=9,gt(l,o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(le.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if((a=e.sent).success){e.next=7;break}if(!(n&&t.status>=400&&t.status<500)){e.next=6;break}return e.abrupt("return",null);case 6:throw new vt(a.error,t.status);case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){return Object(ct.c)(Object(le.a)(ue.a.mark((function t(){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,yt("GET",e,void 0,{ignoreUserErrors:!0});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),["swapApiGet",e],t)}function kt(e){var t,n,c=e.mint,o=e.url,i=e.tokenName,u=e.size,l=void 0===u?20:u,s=Object(g.g)().endpoint,d=Object(a.useState)(!1),m=Object(f.a)(d,2),p=m[0],b=m[1];o||(o=null===c?"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png":null===rt.a||void 0===rt.a||null===(t=rt.a[s])||void 0===t||null===(n=t.find((function(e){return e.mintAddress===(null===c||void 0===c?void 0:c.toBase58())})))||void 0===n?void 0:n.icon);return p||!o?null:r.a.createElement("img",{src:o,title:i,alt:i,style:{width:l,height:l,backgroundColor:"white",borderRadius:l/2},onError:function(){return b(!0)}})}var Ot=new Intl.NumberFormat(void 0,{minimumFractionDigits:6,maximumFractionDigits:6}),jt=Object(h.a)((function(e){return{tabs:{marginBottom:e.spacing(1),borderBottom:"1px solid ".concat(e.palette.background.paper)}}}));function St(e){var t=e.open,n=e.onClose,c=Object(j.d)(),o=Object(ct.c)(c.tokenAccountCost,c.tokenAccountCost),i=Object(f.a)(o,1)[0],u=jt(),l=Object(rt.c)(),s=ut(),d=Object(f.a)(s,2),m=d[0],p=d[1],b=Object(g.g)().endpoint,v=rt.a[b],y=Object(j.h)(),h=Object(f.a)(y,1)[0],w=Object(a.useState)(v?"popular":"manual"),k=Object(f.a)(w,2),S=k[0],x=k[1],C=Object(a.useState)(""),A=Object(f.a)(C,2),T=A[0],I=A[1],N=Object(a.useState)(""),P=Object(f.a)(N,2),B=P[0],K=P[1],W=Object(a.useState)(""),M=Object(f.a)(W,2),D=M[0],F=M[1],R=Object(a.useState)(""),L=Object(f.a)(R,2),z=L[0],U=L[1];function q(e){"manual"===S?e={mintAddress:T,tokenName:B,tokenSymbol:D}:"erc20"===S&&(e={erc20Address:z}),m(function(e){return J.apply(this,arguments)}(e),{onSuccess:function(){Object(j.b)(c),n()}})}function J(){return(J=Object(le.a)(ue.a.mark((function e(t){var n,a,r,o,i,u;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mintAddress,a=t.tokenName,r=t.tokenSymbol,!(o=t.erc20Address)){e.next=9;break}return e.next=4,yt("POST","coins/eth/".concat(o));case 4:i=e.sent,n=i.splMint,a=i.name,r=i.ticker,"sol"!==i.blockchain&&(a="Wrapped "+a);case 9:return u=new O.e(n),l(u,a,r),e.next=13,c.createTokenAccount(u);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){v||x("manual")}),[v]);var V=!0;return"erc20"===S&&(V=42===z.length&&z.startsWith("0x")),r.a.createElement(ne,{open:t,onClose:n},r.a.createElement(X.a,null,"Add Token"),r.a.createElement(G.a,null,i?r.a.createElement(ce.a,null,"Add a token to your wallet. This will cost"," ",Ot.format(i/O.c)," SOL."):r.a.createElement(Ce,null),!!v&&r.a.createElement(ot.a,{value:S,textColor:"primary",indicatorColor:"primary",className:u.tabs,onChange:function(e,t){return x(t)}},r.a.createElement(it.a,{label:"Popular Tokens",value:"popular"}),r.a.createElement(it.a,{label:"ERC20 Token",value:"erc20"}),r.a.createElement(it.a,{label:"Manual Input",value:"manual"})),"manual"!==S&&v?"popular"===S?r.a.createElement(we.a,{disablePadding:!0},v.filter((function(e){return!e.deprecated})).map((function(e){return r.a.createElement(xt,Object.assign({key:e.mintAddress},e,{existingAccount:(h||[]).find((function(t){return t.parsed.mint.toBase58()===e.mintAddress})),onSubmit:q,disalbed:p}))}))):"erc20"===S?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{label:"ERC20 Contract Address",fullWidth:!0,variant:"outlined",margin:"normal",value:z,onChange:function(e){return U(e.target.value.trim())},autoFocus:!0,disabled:p}),z&&V?r.a.createElement(Te.a,{href:"https://etherscan.io/token/".concat(z),target:"_blank",rel:"noopener"},"View on Etherscan"):null):null:r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{label:"Token Mint Address",fullWidth:!0,variant:"outlined",margin:"normal",value:T,onChange:function(e){return I(e.target.value)},autoFocus:!0,disabled:p}),r.a.createElement(H.a,{label:"Token Name",fullWidth:!0,variant:"outlined",margin:"normal",value:B,onChange:function(e){return K(e.target.value)},disabled:p}),r.a.createElement(H.a,{label:"Token Symbol",fullWidth:!0,variant:"outlined",margin:"normal",value:D,onChange:function(e){return F(e.target.value)},disabled:p}))),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:n},"Cancel"),"popular"!==S&&r.a.createElement(E.a,{type:"submit",color:"primary",disabled:p||!V,onClick:function(){return q({tokenName:B,tokenSymbol:D,mintAddress:T})}},"Add")))}function xt(e){var t=e.tokenName,n=e.icon,c=e.tokenSymbol,o=e.mintAddress,i=e.onSubmit,u=e.disabled,l=e.existingAccount,s=Object(a.useState)(!1),d=Object(f.a)(s,2),m=d[0],p=d[1],b=Object(g.i)(),v=!!l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"},key:t},r.a.createElement(ke.a,{button:!0,onClick:function(){return p((function(e){return!e}))}},r.a.createElement(S.a,null,r.a.createElement(kt,{url:n,tokenName:t,size:20})),r.a.createElement(Oe.a,{primary:r.a.createElement(Te.a,{target:"_blank",rel:"noopener",href:"https://explorer.solana.com/account/".concat(o)+b},null!==t&&void 0!==t?t:Object(Se.a)(o),c?" (".concat(c,")"):null)}),m?r.a.createElement(qe.a,null):r.a.createElement(Xe.a,null)),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:u||v,onClick:function(){return i({tokenName:t,tokenSymbol:c,mintAddress:o})}},v?"Added":"Add")),r.a.createElement(Ae.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(De,{value:o,label:"".concat(c," Mint Address")})))}function Ct(e){var t=e.open,n=e.onClose,c=Object(j.d)(),o=Object(a.useState)(!0),i=Object(f.a)(o,2),u=i[0],l=i[1];return r.a.createElement(ne,{open:t,onClose:n,fullWidth:!0},r.a.createElement(X.a,null,"Export account"),r.a.createElement(G.a,null,r.a.createElement(H.a,{label:"Private key",fullWidth:!0,type:u&&"password",variant:"outlined",margin:"normal",value:Z.encode(c.provider.account.secretKey)}),r.a.createElement(J.a,{control:r.a.createElement(Y.a,{checked:!u,onChange:function(){return l(!u)}}),label:"Reveal"})),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:n},"Close")))}var At=n(185),Tt=n(799),It=n(377),Nt=n.n(It),Pt=n(248),Bt=n(200),Kt=new Nt.a(window.ethereum);function Wt(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){if(window.ethereum){var e=function(e){return r(e.length>0?e[0]:null)};return window.ethereum.request({method:"eth_accounts"}).then(e),window.ethereum.on("accountsChanged",e),function(){return window.ethereum.removeListener("accountsChanged",e)}}}),[]),n}function Mt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(le.a)(ue.a.mark((function e(t,n){var a,r,c,o,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=7;break}return e.t0=parseInt,e.next=4,Kt.eth.getBalance(t);case 4:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.abrupt("return",e.t2/1e18);case 7:return a=new Kt.eth.Contract(Pt,n),e.next=10,Promise.all([a.methods.balanceOf(t).call(),a.methods.decimals().call()]);case 10:return r=e.sent,c=Object(f.a)(r,2),o=c[0],i=c[1],e.abrupt("return",parseInt(o,10)/Math.pow(10,parseInt(i,10)));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(le.a)(ue.a.mark((function e(t){var n,a,r,c,o,i,u,l,s,d,m,p,f;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ethAccount,a=t.erc20Address,r=t.swapAddress,c=t.destination,o=t.amount,i=t.onStatusChange,a){e.next=3;break}return e.abrupt("return",Lt({ethAccount:n,swapAddress:r,destination:c,amount:o,onStatusChange:i}));case 3:return u=new Kt.eth.Contract(Pt,a),l=new Kt.eth.Contract(Bt,r),e.t0=parseInt,e.next=8,u.methods.decimals().call();case 8:return e.t1=e.sent,s=(0,e.t0)(e.t1,10),d=Ut(o,s),m=u.methods.approve(r,d).send({from:n}),e.next=14,Xt(m);case 14:return i({step:1}),p=l.methods.swapErc20(a,c,d).send({from:n,gasLimit:1e5}),e.next=18,Xt(p);case 18:return f=e.sent,i({step:2,txid:f,confirms:0}),e.next=22,Promise.all([m,p,Gt(p,i)]);case 22:i({step:3});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(le.a)(ue.a.mark((function e(t){var n,a,r,c,o,i,u,l,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethAccount,a=t.swapAddress,r=t.destination,c=t.amount,o=t.onStatusChange,i=new Kt.eth.Contract(Bt,a),u=Ut(c,18),l=i.methods.swapEth(r).send({from:n,value:u}),e.next=6,Xt(l);case 6:return s=e.sent,o({step:2,txid:s,confirms:0}),e.next=10,Promise.all([l,Gt(l,o)]);case 10:o({step:3});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t){if(!/^\d*\.?\d*$/.test(e))throw new Error("Invalid number");e.includes(".")||(e+=".");var n=e.split("."),a=Object(f.a)(n,2),r=a[0],c=a[1];return c.length>t?c=c.slice(0,t):c+="0".repeat(t-c.length),(r+c).replace(/^0+/,"")||"0"}var qt=new Set;function _t(){return(_t=Object(le.a)(ue.a.mark((function e(t,n,a){var r,c,o,i,u,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.txData,c=r.params,o=r.signature,i=new Kt.eth.Contract(Bt,c[1]),"withdrawErc20"!==c[0]){e.next=7;break}u=i.methods.withdrawErc20(c[2],c[3],c[4],c[5],o),l=c[5],e.next=13;break;case 7:if("withdrawEth"!==c[0]){e.next=12;break}u=i.methods.withdrawEth(c[2],c[3],c[4],o),l=c[4],e.next=13;break;case 12:return e.abrupt("return");case 13:if(!qt.has(l)){e.next=15;break}return e.abrupt("return");case 15:return e.prev=15,e.next=18,u.estimateGas();case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(15),e.abrupt("return");case 23:return qt.add(l),e.next=26,a(u.send({from:t}),{progressMessage:"Completing ".concat(n.coin.ticker," transfer...")});case 26:qt.delete(l);case 27:case"end":return e.stop()}}),e,null,[[15,20]])})))).apply(this,arguments)}function Xt(e){return new Promise((function(t,n){e.once("transactionHash",t).catch(n)}))}function Gt(e,t){return new Promise((function(n,a){var r=!1;e.on("confirmation",(function(e,c){r||(t({confirms:e+1}),c.status?e>=11&&(n(),r=!0):(a("Transaction failed"),r=!0))}))}))}function Ht(){var e=st();if(!window.ethereum)return r.a.createElement(E.a,{color:"primary",variant:"outlined",component:"a",href:"https://metamask.io/",target:"_blank",rel:"noopener"},"Connect to MetaMask");return r.a.createElement(E.a,{color:"primary",variant:"outlined",onClick:function(){e(window.ethereum.request({method:"eth_requestAccounts"}),{progressMessage:"Connecting to MetaMask...",successMessage:"Connected to MetaMask"})}},"Connect to MetaMask")}var Jt=n(817),Vt=n(798),Yt=n(814),Zt=n(43),Qt=n(54),$t=new O.e("BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW"),en=new O.e("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");function tn(e){var t=e.open,n=e.onClose,c=e.publicKey,o=e.balanceInfo,i=Object(g.h)(),u=Object(a.useState)("spl"),l=Object(f.a)(u,2),s=l[0],d=l[1],m=Object(a.useRef)(),p=wt(o.mint&&i?"coins/sol/".concat(o.mint.toBase58()):null),b=Object(f.a)(p,1)[0],v=Wt(),y=o.mint,h=o.tokenName,E=o.tokenSymbol;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{open:t,onClose:n,onSubmit:function(){return m.current()},fullWidth:!0},r.a.createElement(X.a,null,"Send ",null!==h&&void 0!==h?h:Object(Se.a)(y),E?" (".concat(E,")"):null),b?r.a.createElement(ot.a,{value:s,variant:"fullWidth",onChange:function(e,t){return d(t)},textColor:"primary",indicatorColor:"primary"},(null===y||void 0===y?void 0:y.equals($t))?[r.a.createElement(it.a,{label:"SPL WUSDC",key:"spl",value:"spl"}),r.a.createElement(it.a,{label:"SPL USDC",key:"wusdcToSplUsdc",value:"wusdcToSplUsdc"}),r.a.createElement(it.a,{label:"ERC20 USDC",key:"swap",value:"swap"})]:[r.a.createElement(it.a,{label:"SPL ".concat(b.ticker),key:"spl",value:"spl"}),r.a.createElement(it.a,{label:"".concat(b.erc20Contract?"ERC20":"Native"," ").concat(b.ticker),key:"swap",value:"swap"})]):null,"spl"===s?r.a.createElement(nn,{onClose:n,publicKey:c,balanceInfo:o,onSubmitRef:m}):"wusdcToSplUsdc"===s?r.a.createElement(an,{key:s,onClose:n,publicKey:c,balanceInfo:o,swapCoinInfo:b,onSubmitRef:m,wusdcToSplUsdc:!0}):r.a.createElement(an,{key:s,onClose:n,publicKey:c,balanceInfo:o,swapCoinInfo:b,ethAccount:v,onSubmitRef:m})),v&&("eth"===(null===b||void 0===b?void 0:b.blockchain)||(null===b||void 0===b?void 0:b.erc20Contract))?r.a.createElement(on,{ethAccount:v,publicKey:c}):null)}function nn(e){var t=e.onClose,n=e.publicKey,c=e.balanceInfo,o=e.onSubmitRef,i=!c.mint||c.mint.equals(Zt.b)?"Enter Solana Address":"Enter SPL token or Solana address",u=Object(j.d)(),l=ut(),s=Object(f.a)(l,2),d=s[0],m=s[1],p=Object(a.useState)(i),b=Object(f.a)(p,2),v=b[0],y=b[1],h=Object(a.useState)(),g=Object(f.a)(h,2),w=g[0],k=g[1],S=cn(c,v,w),x=S.fields,C=S.destinationAddress,A=S.transferAmountString,T=S.validAmount,I=c.decimals,N=c.mint,P=N&&N.toBase58();function B(){return K.apply(this,arguments)}function K(){return(K=Object(le.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Math.round(parseFloat(A)*Math.pow(10,I)))&&!(t<=0)){e.next=3;break}throw new Error("Invalid amount");case 3:return e.abrupt("return",u.transferToken(n,new O.e(C),t,c.mint));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(B(),{onSuccess:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){Object(le.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=4;break}return y(i),k(void 0),e.abrupt("return");case 4:return e.prev=4,e.next=7,u.connection.getAccountInfo(new O.e(C));case 7:(t=e.sent).owner.equals(Zt.a)?Object(Qt.e)(t.data).mint.toBase58()===P?(k(!0),y("Address is a valid SPL token address")):(k(!1),y("Destination address mint does not match")):(k(!0),y("Destination is a Solana address")),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Received error validating address ".concat(e.t0)),y(i),k(void 0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})))()}),[C,u,P]),o.current=function(){return W.apply(this,arguments)},r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,x),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:t},"Cancel"),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:m||!T},"Send")))}function an(e){var t=e.onClose,n=e.publicKey,c=e.balanceInfo,o=e.swapCoinInfo,i=e.ethAccount,u=e.wusdcToSplUsdc,l=void 0!==u&&u,s=e.onSubmitRef,d=Object(j.d)(),m=ut(),p=Object(f.a)(m,2),b=p[0],v=p[1],y=Object(a.useState)(null),h=Object(f.a)(y,2),g=h[0],w=h[1],k=cn(c),S=k.fields,x=k.destinationAddress,C=k.transferAmountString,A=k.setDestinationAddress,T=k.validAmount,I=c.tokenName,N=c.decimals,P=c.mint,B=l?"sol":"sol"===o.blockchain?"eth":o.blockchain,K="eth"===B;Object(a.useEffect)((function(){"eth"===B&&i&&A(i)}),[B,i,A]);var W=Object(j.e)(l?en:null);function M(){return D.apply(this,arguments)}function D(){return(D=Object(le.a)(ue.a.mark((function e(){var t,a,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Math.round(parseFloat(C)*Math.pow(10,N)))&&!(t<=0)){e.next=3;break}throw new Error("Invalid amount");case 3:return a={blockchain:B,address:x,size:t/Math.pow(10,N)},"sol"===B?a.coin=o.splMint:"eth"===B&&(a.coin=o.erc20Contract),(null===P||void 0===P?void 0:P.equals($t))&&(a.wusdcToUsdc=!0),e.next=8,yt("POST","swap_to",a);case 8:if("sol"===(r=e.sent).blockchain){e.next=11;break}throw new Error("Unexpected blockchain");case 11:return e.abrupt("return",d.transferToken(n,new O.e(r.address),t,c.mint,r.memo));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(M(),{onSuccess:w}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){l&&W&&A(W)}),[A,l,W]),s.current=function(){return F.apply(this,arguments)},g?r.a.createElement(rn,{key:g,publicKey:n,signature:g,blockchain:B,onClose:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{style:{paddingTop:16}},r.a.createElement(ce.a,null,"SPL ",I," can be converted to"," ","eth"===B&&o.erc20Contract?"ERC20":"sol"===B&&o.splMint?"SPL":"native"," ",o.ticker,K?" via MetaMask":null,"."),K&&!i?r.a.createElement(Ht,null):S),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:t},"Cancel"),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:v||K&&!i||!T},"Send")))}function rn(e){var t,n=e.publicKey,a=e.signature,c=e.onClose,o=e.blockchain,i=Object(g.f)(),u=wt("swaps_from/sol/".concat(n.toBase58()),{refreshInterval:1e3}),l=Object(f.a)(u,1)[0],s=Object(ct.c)(Object(le.a)(ue.a.mark((function e(){var t,n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getSignatureStatus(a);case 2:return t=e.sent,n=t.value,e.abrupt("return",null===n||void 0===n?void 0:n.confirmations);case 5:case"end":return e.stop()}}),e)}))),[i.getSignatureStatus,a],{refreshInterval:2e3}),d=Object(f.a)(s,1)[0],m=1,p=null,b=Object(At.a)(l||[]);try{for(b.s();!(t=b.n()).done;){var v,h=t.value,w=h.deposit,k=h.withdrawal;if(w.txid===a)(null===(v=k.txid)||void 0===v?void 0:v.startsWith("0x"))?(m=3,p=k.txid):m=k.txid&&"eth"!==o?3:2}}catch(O){b.e(O)}finally{b.f()}return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(Jt.a,{activeStep:m},r.a.createElement(Vt.a,null,r.a.createElement(Yt.a,null,"Send Request")),r.a.createElement(Vt.a,null,r.a.createElement(Yt.a,null,"Wait for Confirmations")),r.a.createElement(Vt.a,null,r.a.createElement(Yt.a,null,"Withdraw Funds"))),p?r.a.createElement(y.a,{variant:"body2",align:"center"},r.a.createElement(Te.a,{href:"https://etherscan.io/tx/".concat(p),target:"_blank",rel:"noopener"},"View on Etherscan")):m<3?r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{style:{marginRight:16}},r.a.createElement(de.a,null)),d?r.a.createElement(y.a,null,d," / 35 Confirmations"):r.a.createElement(y.a,null,"Transaction Pending")):null,p||"eth"!==o?null:r.a.createElement(ce.a,{style:{marginTop:16,marginBottom:0}},"Please keep this window open. You will need to approve the request on MetaMask to complete the transaction.")),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:c},"Close")))}function cn(e,t,n){var c=Object(a.useState)(""),o=Object(f.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(""),s=Object(f.a)(l,2),d=s[0],m=s[1],p=e.amount,b=e.decimals,v=e.tokenSymbol,y=parseFloat(d)*Math.pow(10,b),h=y>0&&y<=p;return{fields:r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{label:"Recipient Address",fullWidth:!0,variant:"outlined",margin:"normal",value:i,onChange:function(e){return u(e.target.value.trim())},helperText:t,id:n||void 0===n?void 0:"outlined-error-helper-text",error:!n&&void 0!==n}),r.a.createElement(H.a,{label:"Amount",fullWidth:!0,variant:"outlined",margin:"normal",type:"number",InputProps:{endAdornment:v?r.a.createElement(Tt.a,{position:"end"},v):null,inputProps:{step:Math.pow(10,-b)}},value:d,onChange:function(e){return m(e.target.value.trim())},helperText:r.a.createElement("span",{onClick:function(){return m((p/Math.pow(10,b)).toFixed(b))}},"Max: ",p/Math.pow(10,b))})),destinationAddress:i,transferAmountString:d,setDestinationAddress:u,validAmount:h}}function on(e){var t=e.ethAccount,n=e.publicKey,a=wt("swaps_from/sol/".concat(n.toBase58()),{refreshInterval:1e4}),c=Object(f.a)(a,1)[0];return c?c.map((function(e){return r.a.createElement(un,{key:e.deposit.txid,ethAccount:t,swap:e})})):null}function un(e){var t=e.ethAccount,n=e.swap,r=st(),c=n.withdrawal;return Object(a.useEffect)((function(){"sent"===c.status&&"eth"===c.blockchain&&c.txid&&!c.txid.startsWith("0x")&&c.txData&&function(e,t,n){_t.apply(this,arguments)}(t,c,r)}),[c.txid,c.status]),null}var ln=n(42),sn=n(105);function dn(e){var t,n=e.open,c=e.onClose,o=e.publicKey,i=e.balanceInfo,u=Object(g.h)(),l=Object(g.i)(),s=i.mint,d=i.tokenName,m=i.tokenSymbol,p=i.owner,b=Object(a.useState)(0),v=Object(f.a)(b,2),y=v[0],h=v[1],w=Object(ct.c)(Object(le.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,yt("POST","swap_to",{blockchain:"sol",coin:null===(t=i.mint)||void 0===t?void 0:t.toBase58(),address:o.toBase58()},{ignoreUserErrors:!0});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),["swapInfo",u,null===(t=i.mint)||void 0===t?void 0:t.toBase58(),o.toBase58()]),k=Object(f.a)(w,1)[0],O=null;if(k){var j="SPL ".concat(null!==m&&void 0!==m?m:k.coin.ticker),S=k.coin.ticker;s?S="".concat(k.coin.erc20Contract?"ERC20":"Native"," ").concat(S):j="SOL",O=r.a.createElement(ot.a,{value:y,variant:"fullWidth",onChange:function(e,t){return h(t)},textColor:"primary",indicatorColor:"primary"},r.a.createElement(it.a,{label:j}),r.a.createElement(it.a,{label:S}))}return r.a.createElement(ne,{open:n,onClose:c},r.a.createElement(X.a,null,"Deposit ",null!==d&&void 0!==d?d:s.toBase58(),m?" (".concat(m,")"):null),O,r.a.createElement(G.a,{style:{paddingTop:16}},0===y?r.a.createElement(r.a.Fragment,null,o.equals(p)?r.a.createElement(ce.a,null,"This address can only be used to receive SOL. Do not send other tokens to this address."):r.a.createElement(ce.a,null,"This address can only be used to receive"," ",null!==m&&void 0!==m?m:Object(Se.a)(s),". Do not send SOL to this address."),r.a.createElement(De,{value:o.toBase58(),label:"Deposit Address",autoFocus:!0,qrCode:!0}),r.a.createElement(ce.a,{variant:"body2"},r.a.createElement(Te.a,{href:"https://explorer.solana.com/account/".concat(o.toBase58())+l,target:"_blank",rel:"noopener"},"View on Solana Explorer"))):r.a.createElement(mn,{balanceInfo:i,swapInfo:k})),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:c},"Close")))}function mn(e){var t=e.balanceInfo,n=e.swapInfo;if(!n)return null;var a=n.blockchain,c=n.address,o=n.memo,i=n.coin,u=t.mint,l=t.tokenName;return"btc"===a&&null===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null,"Native BTC can be converted to SPL ",l," by sending it to the following address:"),r.a.createElement(De,{value:c,label:"Native BTC Deposit Address",autoFocus:!0,qrCode:"bitcoin:".concat(c)})):"eth"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null,i.erc20Contract?"ERC20":"Native"," ",i.ticker," can be converted to ",u?"SPL":"native"," ",l," via MetaMask."),r.a.createElement(pn,{swapInfo:n})):null}function pn(e){var t=e.swapInfo,n=Wt(),c=Object(a.useState)(""),o=Object(f.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(!1),s=Object(f.a)(l,2),d=s[0],m=s[1],p=Object(a.useState)(null),b=Object(f.a)(p,2),v=b[0],h=b[1],g=st(),w=t.address,k=t.memo,O=t.coin,j=O.erc20Contract,S=O.ticker,x=Object(ct.c)(Object(le.a)(ue.a.mark((function e(){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.t0=Math,e.next=4,Mt(n,j);case 4:return e.t1=e.sent,e.t2=null!==(a=t.maxSize)&&void 0!==a?a:1/0,e.abrupt("return",e.t0.min.call(e.t0,e.t1,e.t2));case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)}))),Object(sn.a)(Mt,n,j)),C=Object(f.a)(x,2),A=C[0],T=C[1];if(!n)return r.a.createElement(Ht,null);function I(){return(I=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),h({step:0}),e.next=4,g(Object(le.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t=parseFloat(i))||t>A||t<=0)){e.next=3;break}throw new Error("Invalid amount");case 3:return e.next=5,Ft({ethAccount:n,erc20Address:j,swapAddress:w,destination:k,amount:i,onStatusChange:function(e){return h((function(t){return Object(ln.a)(Object(ln.a)({},t),e)}))}});case 5:case"end":return e.stop()}}),e)})))(),{onError:function(){return m(!1)}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d?r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt.a,{activeStep:v.step},r.a.createElement(Vt.a,null,r.a.createElement(Yt.a,null,"Approve Conversion")),r.a.createElement(Vt.a,null,r.a.createElement(Yt.a,null,"Send Funds")),r.a.createElement(Vt.a,null,r.a.createElement(Yt.a,null,"Wait for Confirmations"))),2===v.step?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{style:{marginRight:16}},r.a.createElement(de.a,null)),r.a.createElement("div",null,v.confirms?r.a.createElement(y.a,null,v.confirms," / 12 Confirmations"):r.a.createElement(y.a,null,"Transaction Pending"),r.a.createElement(y.a,{variant:"body2"},r.a.createElement(Te.a,{href:"https://etherscan.io/tx/".concat(v.txid),target:"_blank",rel:"noopener"},"View on Etherscan"))))):null):r.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},r.a.createElement(H.a,{label:"Amount",fullWidth:!0,variant:"outlined",margin:"normal",type:"number",InputProps:{endAdornment:r.a.createElement(Tt.a,{position:"end"},S),inputProps:{step:"any"}},value:i,onChange:function(e){return u(e.target.value.trim())},helperText:T?r.a.createElement("span",{onClick:function(){return u(A.toFixed(6))}},"Max: ",A.toFixed(6)):null}),r.a.createElement(E.a,{color:"primary",style:{marginLeft:8},onClick:function(){return I.apply(this,arguments)}},"Convert"))}function fn(e){var t=e.open,n=e.onClose,a=e.publicKey,c=e.balanceInfo,o=Object(j.d)(),i=ut(),u=Object(f.a)(i,2),l=u[0],s=u[1],d=c.mint,m=c.tokenName;return r.a.createElement(ne,{open:t,onClose:n,onSubmit:function(){l(o.closeTokenAccount(a),{onSuccess:function(){Object(j.b)(o),n()}})}},r.a.createElement(X.a,null,"Delete ",null!==m&&void 0!==m?m:d.toBase58()," Address"," ",Object(Se.a)(a)),r.a.createElement(G.a,null,r.a.createElement(ce.a,null,"Are you sure you want to delete your ",null!==m&&void 0!==m?m:d.toBase58()," ","address ",a.toBase58(),"? This will permanently disable token transfers to this address and remove it from your wallet.")),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:n},"Cancel"),r.a.createElement(E.a,{type:"submit",color:"secondary",disabled:s},"Delete")))}function bn(e){var t=e.open,n=e.oldName,c=e.onClose,o=e.onEdit,i=Object(a.useState)(n),u=Object(f.a)(i,2),l=u[0],s=u[1];return r.a.createElement(ne,{open:t,onEnter:function(){return s(n)},onClose:c,onSubmit:function(){return o(l.trim())},fullWidth:!0},r.a.createElement(X.a,null,"Edit Account"),r.a.createElement(G.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(H.a,{label:"Name",fullWidth:!0,variant:"outlined",margin:"normal",value:l,onChange:function(e){return s(e.target.value)}}))),r.a.createElement(_.a,null,r.a.createElement(E.a,{onClick:c},"Close"),r.a.createElement(E.a,{type:"submit",color:"primary"},"Save")))}var vn=new Intl.NumberFormat(void 0,{minimumFractionDigits:4,maximumFractionDigits:4,useGrouping:!0});function yn(){var e=Object(j.d)(),t=Object(j.f)(),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),u=Object(f.a)(i,2),l=u[0],s=u[1],d=Object(a.useState)(!1),m=Object(f.a)(d,2),p=m[0],h=m[1],E=Object(j.g)(),w=E.accounts,k=E.setAccountName,O=w.find((function(e){return e.isSelected}));return r.a.createElement(je.a,null,r.a.createElement(v.a,{position:"static",color:"default",elevation:1},r.a.createElement(b.a,null,r.a.createElement(y.a,{variant:"h6",style:{flexGrow:1},component:"h2"},O&&O.name," Balances"),O&&"Main account"!==O.name&&"Hardware wallet"!==O.name&&r.a.createElement(q.a,{title:"Edit Account Name",arrow:!0},r.a.createElement(F.a,{onClick:function(){return h(!0)}},r.a.createElement(at.a,null))),r.a.createElement(q.a,{title:"Add Token",arrow:!0},r.a.createElement(F.a,{onClick:function(){return s(!0)}},r.a.createElement(T.a,null))),r.a.createElement(q.a,{title:"Refresh",arrow:!0},r.a.createElement(F.a,{onClick:function(){Object(j.b)(e),c.map((function(t){return Object(g.c)(e.connection,t,!0)}))},style:{marginRight:-12}},r.a.createElement($e.a,null))))),r.a.createElement(we.a,{disablePadding:!0},c.map((function(e){return r.a.createElement(gn,{key:e.toBase58(),publicKey:e})})),o?null:r.a.createElement(Ce,null)),r.a.createElement(St,{open:l,onClose:function(){return s(!1)}}),r.a.createElement(bn,{open:p,onClose:function(){return h(!1)},oldName:O?O.name:"",onEdit:function(e){k(O.selector,e),h(!1)}}))}var hn=Object(h.a)((function(e){return{address:{textOverflow:"ellipsis",overflowX:"hidden"},itemDetails:{marginLeft:e.spacing(3),marginRight:e.spacing(3),marginBottom:e.spacing(2)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function gn(e){var t=e.publicKey,n=Object(j.c)(t),c=hn(),o=Object(a.useState)(!1),i=Object(f.a)(o,2),u=i[0],l=i[1];if(!n)return r.a.createElement(Ce,{delay:0});var s=n.amount,d=n.decimals,m=n.mint,p=n.tokenName,b=n.tokenSymbol;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{button:!0,onClick:function(){return l((function(e){return!e}))}},r.a.createElement(S.a,null,r.a.createElement(kt,{mint:m,tokenName:p,size:28})),r.a.createElement(Oe.a,{primary:r.a.createElement(r.a.Fragment,null,vn.format(s/Math.pow(10,d))," ",null!==p&&void 0!==p?p:Object(Se.a)(m),b?" (".concat(b,")"):null),secondary:t.toBase58(),secondaryTypographyProps:{className:c.address}}),u?r.a.createElement(qe.a,null):r.a.createElement(Xe.a,null)),r.a.createElement(Ae.a,{in:u,timeout:"auto",unmountOnExit:!0},r.a.createElement(En,{publicKey:t,balanceInfo:n})))}function En(e){var t=e.publicKey,n=e.balanceInfo,c=Object(g.i)(),o=hn(),i=Object(a.useState)(!1),u=Object(f.a)(i,2),l=u[0],s=u[1],d=Object(a.useState)(!1),m=Object(f.a)(d,2),p=m[0],b=m[1],v=Object(a.useState)(!1),h=Object(f.a)(v,2),w=h[0],k=h[1],O=Object(a.useState)(!1),S=Object(f.a)(O,2),x=S[0],C=S[1],A=Object(a.useState)(!1),T=Object(f.a)(A,2),I=T[0],N=T[1],P=Object(j.d)();if(!n)return r.a.createElement(Ce,{delay:0});var B=n.mint,K=n.tokenName,W=n.tokenSymbol,M=n.owner,D=n.amount,F=null===B&&"SOL"===K&&"SOL"===W;return r.a.createElement(r.a.Fragment,null,P.allowsExport&&r.a.createElement(Ct,{onClose:function(){return C(!1)},open:x}),r.a.createElement("div",{className:o.itemDetails},r.a.createElement("div",{className:o.buttonContainer},!t.equals(M)&&dt?r.a.createElement(E.a,{variant:"outlined",color:"default",startIcon:r.a.createElement(tt.a,null),onClick:function(){return k(!0)}},"Token Info"):null,r.a.createElement(E.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(Ve.a,null),onClick:function(){return b(!0)}},"Receive"),r.a.createElement(E.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(He.a,null),onClick:function(){return s(!0)}},"Send"),B&&0===D?r.a.createElement(E.a,{variant:"outlined",color:"secondary",size:"small",startIcon:r.a.createElement(Ze.a,null),onClick:function(){return N(!0)}},"Delete"):null),r.a.createElement(y.a,{variant:"body2",className:o.address},"Deposit Address: ",t.toBase58()),r.a.createElement(y.a,{variant:"body2"},"Token Name: ",null!==K&&void 0!==K?K:"Unknown"),r.a.createElement(y.a,{variant:"body2"},"Token Symbol: ",null!==W&&void 0!==W?W:"Unknown"),B?r.a.createElement(y.a,{variant:"body2",className:o.address},"Token Address: ",B.toBase58()):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body2"},r.a.createElement(Te.a,{href:"https://explorer.solana.com/account/".concat(t.toBase58())+c,target:"_blank",rel:"noopener"},"View on Solana Explorer"))),F&&P.allowsExport&&r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body2"},r.a.createElement(Te.a,{href:"#",onClick:function(e){return C(!0)}},"Export"))))),r.a.createElement(tn,{open:l,onClose:function(){return s(!1)},balanceInfo:n,publicKey:t}),r.a.createElement(dn,{open:p,onClose:function(){return b(!1)},balanceInfo:n,publicKey:t}),r.a.createElement(ze,{open:w,onClose:function(){return k(!1)},balanceInfo:n,publicKey:t}),r.a.createElement(fn,{open:I,onClose:function(){return N(!1)},balanceInfo:n,publicKey:t}))}var wn=n(801),kn=n(107);function On(){var e=Object(j.d)(),t=Object(rt.c)(),n=Object(g.g)().endpoint,a=Object(j.c)(e.publicKey),c=ut(),o=Object(f.a)(c,2),i=o[0],u=o[1],l=st();var s=0===(a||{}).amount,d=n===g.b;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(q.a,{title:d?"Receive some devnet SOL for free. Only enabled on the devnet":"Receive some devnet SOL for free"},r.a.createElement("span",null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){l(e.connection.requestAirdrop(e.publicKey,O.c),{onSuccess:function(){var t=Object(le.a)(ue.a.mark((function t(){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Se.c)(5e3);case 2:Object(g.c)(e.connection,e.publicKey);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),successMessage:"Success! Please wait up to 30 seconds for the SOL tokens to appear in your wallet."})},disabled:d},"Request Airdrop"))),r.a.createElement(q.a,{title:s?"Generate and receive balances in a new test token. Requires SOL balance":"Generate and receive balances in a new test token"},r.a.createElement("span",null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){var n=new O.a;t(n.publicKey,"Test Token ".concat(Object(Se.a)(n.publicKey)),"TEST".concat(n.publicKey.toBase58().slice(0,2))),i(Object(kn.b)({connection:e.connection,owner:e,mint:n,amount:1e3,decimals:2,initialAccount:new O.a}),{onSuccess:function(){return Object(j.b)(e)}})},disabled:u||s,style:{marginLeft:24}},"Mint Test Token"))))}function jn(){var e=Object(g.h)();return r.a.createElement(Ee.a,{fixed:!0,maxWidth:"md"},r.a.createElement(wn.a,{container:!0,spacing:3},r.a.createElement(wn.a,{item:!0,xs:12},r.a.createElement(yn,null)),e?null:r.a.createElement(wn.a,{item:!0,xs:12},r.a.createElement(On,null))))}var Sn=n(53),xn=n(45),Cn={},An=null,Tn=function(){var e=Object(le.a)(ue.a.mark((function e(t,n,a){var r,c,o,i,u,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(r=O.d.from(a))||void 0===r?void 0:r.instructions)&&(null===r||void 0===r?void 0:r.accountKeys)){e.next=3;break}return e.abrupt("return");case 3:c=n.publicKey,o=[],i=0;case 6:if(!(i<r.instructions.length)){e.next=15;break}return u=r.instructions[i],e.next=10,In(t,c,null===r||void 0===r?void 0:r.accountKeys,u,i);case 10:l=e.sent,o.push(Object(ln.a)(Object(ln.a)({},l),{},{rawData:null===u||void 0===u?void 0:u.data}));case 12:i++,e.next=6;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),In=function(){var e=Object(le.a)(ue.a.mark((function e(t,n,a,r,c){var o,i,u,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===r||void 0===r?void 0:r.data)&&(null===r||void 0===r?void 0:r.accounts)&&(null===r||void 0===r?void 0:r.programIdIndex)){e.next=2;break}return e.abrupt("return");case 2:if(o=Q.a.decode(r.data),i=Ln([r.programIdIndex],a,0)){e.next=6;break}return e.abrupt("return",null);case 6:if(e.prev=6,!i.equals(O.h.programId)){e.next=12;break}return console.log("["+c+"] Handled as system instruction"),e.abrupt("return",Bn(n,r,a));case 12:if(!i.equals(Zt.a)){e.next=18;break}return console.log("["+c+"] Handled as token instruction"),u=Pn(o),e.abrupt("return",Kn(n,r.accounts,u,a));case 18:if(!xn.MARKETS.some((function(e){return e.programId&&e.programId.equals(i)}))){e.next=24;break}return console.log("["+c+"] Handled as dex instruction"),l=Object(xn.decodeInstruction)(o),e.next=23,Nn(t,r,a,l);case 23:return e.abrupt("return",e.sent);case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(6);case 28:return console.log("["+c+"] Failed, data: "+JSON.stringify(o)),e.abrupt("return");case 30:case"end":return e.stop()}}),e,null,[[6,26]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(le.a)(ue.a.mark((function e(t,n,a,r){var c,o,i,u,l,s,d,m,p,f,b,v;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!(Object.keys(r).length>1)){e.next=2;break}return e.abrupt("return");case 2:if(c=n.accounts,o=n.programIdIndex,i=a&&xn.MARKETS.find((function(e){return a.findIndex((function(t){return t.equals(e.address)}))>-1})),e.prev=4,s=(null===i||void 0===i?void 0:i.address)||Ln(c,a,0),l=(null===i||void 0===i?void 0:i.programId)||Ln([o],a,0),d=s.toBase58(),m=(new Date).getTime(),t===An&&d in Cn&&m-Cn[d].ts<15e3){e.next=17;break}return An=t,console.log("Loading market",d),e.next=14,xn.Market.load(t,s,{},l);case 14:e.t0=e.sent,e.t1=m,Cn[d]={market:e.t0,ts:e.t1};case 17:u=Cn[d].market,e.next=23;break;case 20:e.prev=20,e.t2=e.catch(4),console.log("Error loading market: "+e.t2.message);case 23:if(p=Object.keys(r)[0],f=r[p],"settleFunds"!==p){e.next=34;break}if(b=Mn(c,a)){e.next=31;break}return e.abrupt("return");case 31:f=Object(ln.a)(Object(ln.a)({},f),b);case 32:e.next=35;break;case 34:"newOrder"===p&&(v=Wn(c,a),f=Object(ln.a)(Object(ln.a)({},f),v));case 35:return e.abrupt("return",{type:p,data:f,market:u,marketInfo:i});case 36:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Pn=function(e){if(e)return 1!==e.length?Object(xn.decodeTokenInstructionData)(e):1===e[0]?{initializeAccount:{}}:9===e[0]?{closeAccount:{}}:void 0},Bn=function(e,t,n){var a=t.programIdIndex,r=t.accounts,c=t.data;if(a&&r&&c){var o,i={programId:n[a],keys:r.map((function(e){return{pubkey:n[e]}})),data:Q.a.decode(c)},u=O.g.decodeInstructionType(i);switch(u){case"Create":o=O.g.decodeCreateAccount(i);break;case"CreateWithSeed":o=O.g.decodeCreateWithSeed(i);break;case"Allocate":o=O.g.decodeAllocate(i);break;case"AllocateWithSeed":o=O.g.decodeAllocateWithSeed(i);break;case"Assign":o=O.g.decodeAssign(i);break;case"AssignWithSeed":o=O.g.decodeAssignWithSeed(i);break;case"Transfer":o=O.g.decodeTransfer(i);break;case"AdvanceNonceAccount":o=O.g.decodeNonceAdvance(i);break;case"WithdrawNonceAccount":o=O.g.decodeNonceWithdraw(i);break;case"InitializeNonceAccount":o=O.g.decodeNonceInitialize(i);break;case"AuthorizeNonceAccount":o=O.g.decodeNonceAuthorize(i);break;default:return}if(o&&(!o.fromPubkey||e.equals(o.fromPubkey)))return{type:"system"+u,data:o}}},Kn=function(e,t,n,a){if(n&&!(Object.keys(n).length>1)){var r=Object.keys(n)[0],c=n[r];if("initializeAccount"===r){var o=Fn(e,t,a);c=Object(ln.a)(Object(ln.a)({},c),o)}else if("transfer"===r){var i=Dn(e,t,a);c=Object(ln.a)(Object(ln.a)({},c),i)}else if("closeAccount"===r){var u=Rn(e,t,a);c=Object(ln.a)(Object(ln.a)({},c),u)}return{type:r,data:c}}},Wn=function(e,t){return{openOrdersPubkey:Ln(e,t,xn.NEW_ORDER_OPEN_ORDERS_INDEX),ownerPubkey:Ln(e,t,xn.NEW_ORDER_OWNER_INDEX)}},Mn=function(e,t){var n=Ln(e,t,xn.SETTLE_FUNDS_BASE_WALLET_INDEX),a=Ln(e,t,xn.SETTLE_FUNDS_QUOTE_WALLET_INDEX);if(n&&a)return{basePubkey:n,quotePubkey:a}},Dn=function(e,t,n){var a=Ln(t,n,xn.TokenInstructions.TRANSFER_SOURCE_INDEX),r=Ln(t,n,xn.TokenInstructions.TRANSFER_DESTINATION_INDEX),c=Ln(t,n,xn.TokenInstructions.TRANSFER_OWNER_INDEX);if(c&&e.equals(c))return{sourcePubkey:a,destinationPubkey:r,ownerPubkey:c}},Fn=function(e,t,n){var a=Ln(t,n,xn.TokenInstructions.INITIALIZE_ACCOUNT_ACCOUNT_INDEX),r=Ln(t,n,xn.TokenInstructions.INITIALIZE_ACCOUNT_MINT_INDEX),c=Ln(t,n,xn.TokenInstructions.INITIALIZE_ACCOUNT_OWNER_INDEX);if(c&&e.equals(c))return{accountPubkey:a,mintPubkey:r,ownerPubkey:c}},Rn=function(e,t,n){var a=Ln(t,n,xn.TokenInstructions.TRANSFER_SOURCE_INDEX),r=Ln(t,n,xn.TokenInstructions.TRANSFER_DESTINATION_INDEX),c=Ln(t,n,xn.TokenInstructions.TRANSFER_OWNER_INDEX);if(c&&e.equals(c))return{sourcePubkey:a,destinationPubkey:r,ownerPubkey:c}},Ln=function(e,t,n){var a=e.length>n&&e[n];return(null===t||void 0===t?void 0:t.length)>a&&t[a]},zn=n(787),Un=n(809),qn=n(802),_n=n(803),Xn=n(804),Gn=n(384),Hn=n.n(Gn),Jn=n(8),Vn=n.n(Jn);n(38);function Yn(e){var t=e.label,n=e.value,a=e.link,c=void 0!==a&&a,o=e.onClick;return r.a.createElement(y.a,null,t,":"," ",c?r.a.createElement(Te.a,{href:"#",onClick:o},n):r.a.createElement("span",{style:{color:"#7B7B7B"}},n))}function Zn(e){var t,n,a,c=e.instruction,o=e.onOpenAddress,i=Object(j.d)(),u=c.data,l=c.market,s=c.marketInfo,d=u.side,m=u.limitPrice,p=u.maxQuantity,f=u.orderType,b=u.ownerPubkey,v=s&&(null===s||void 0===s?void 0:s.name)+((null===s||void 0===s?void 0:s.deprecated)?" (deprecated)":"")||(null===l||void 0===l||null===(t=l._decoded)||void 0===t||null===(n=t.ownAddress)||void 0===n?void 0:n.toBase58())||"Unknown";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Place an order"),r.a.createElement(Yn,{label:"Market",value:v,link:!0,onClick:function(){var e,t;return o(null===(e=(null===s||void 0===s?void 0:s.address)||(null===l||void 0===l||null===(t=l._decoded)||void 0===t?void 0:t.ownAddress))||void 0===e?void 0:e.toBase58())}}),r.a.createElement(Yn,{label:"Side",value:d.charAt(0).toUpperCase()+d.slice(1)}),r.a.createElement(Yn,{label:"Price",value:(null===l||void 0===l?void 0:l.priceLotsToNumber(m))||""+m}),r.a.createElement(Yn,{label:"Quantity",value:(null===l||void 0===l?void 0:l.baseSizeLotsToNumber(p))||""+p}),r.a.createElement(Yn,{label:"Type",value:f.charAt(0).toUpperCase()+f.slice(1)}),r.a.createElement(Yn,{label:"Owner",link:b,value:b?(a=b,i.publicKey.equals(a)?"This wallet":(null===a||void 0===a?void 0:a.toBase58())||"Unknown"):b,onOpenAddress:function(){return b&&o(null===b||void 0===b?void 0:b.toBase58())}}))}function Qn(e){var t=e.instruction;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Unknown instruction:"),r.a.createElement(y.a,{style:{wordBreak:"break-all"}},null===t||void 0===t?void 0:t.rawData))}var $n=n(249),ea=n.n($n),ta={systemCreate:"Create account",systemTransfer:"Transfer SOL"},na={toPubkey:{label:"To",address:!0},accountPubkey:{label:"Account",address:!0},basePubkey:{label:"Base",address:!0},seed:{label:"Seed",address:!1},noncePubkey:{label:"Nonce",address:!0},authorizedPubkey:{label:"Authorized",address:!0},newAuthorizedPubkey:{label:"New authorized",address:!0},newAccountPubkey:{label:"New account",address:!0},amount:{label:"Amount",address:!1},lamports:{label:"Lamports",address:!1}};function aa(e){var t=e.instruction,n=e.onOpenAddress,a=t.type,c=t.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},ta[a]),c&&Object.entries(c).map((function(e){var t=Object(f.a)(e,2),a=t[0],c=t[1],o=na[a];if(!o)return null;var i=o.label,u=o.address;return r.a.createElement(Yn,{key:a,label:i+"",value:u?null===c||void 0===c?void 0:c.toBase58():c,link:u,onClick:function(){return u&&n(null===c||void 0===c?void 0:c.toBase58())}})})))}var ra={cancelOrder:"Cancel order",newOrder:"Place order",settleFunds:"Settle funds",matchOrders:"Match orders"},ca={side:{label:"Side",address:!1},orderId:{label:"Order Id",address:!1},limit:{label:"Limit",address:!1},basePubkey:{label:"Base wallet",address:!0},quotePubkey:{label:"Quote wallet",address:!0}};function oa(e){var t,n,a=e.instruction,c=e.onOpenAddress,o=Object(j.d)(),i=Object(j.f)(),u=Object(f.a)(i,1)[0],l=a.type,s=a.data,d=a.market,m=a.marketInfo,p=m&&(null===m||void 0===m?void 0:m.name)+((null===m||void 0===m?void 0:m.deprecated)?" (deprecated)":"")||(null===d||void 0===d||null===(t=d._decoded)||void 0===t||null===(n=t.ownAddress)||void 0===n?void 0:n.toBase58())||"Unknown",b=function(e){var t=u.some((function(t){return t.equals(e)}));return o.publicKey.equals(e)?"This wallet":(t?"(Owned) ":"")+(null===e||void 0===e?void 0:e.toBase58())};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},ra[l]),r.a.createElement(Yn,{label:"Market",value:p,link:!0,onClick:function(){var e,t;return c(null===(e=(null===m||void 0===m?void 0:m.address)||(null===d||void 0===d||null===(t=d._decoded)||void 0===t?void 0:t.ownAddress))||void 0===e?void 0:e.toBase58())}}),s&&Object.entries(s).map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1],o=ca[n];if(!o)return null;var i=o.label,u=o.address;return r.a.createElement(Yn,{key:n,label:i+"",value:u?b(a):a+"",link:u,onClick:function(){return u&&c(null===a||void 0===a?void 0:a.toBase58())}})})))}var ia={initializeMint:"Initialize mint",initializeAccount:"Initialize account",transfer:"Transfer",approve:"Approve",mintTo:"Mint to",closeAccount:"Close account"},ua={amount:{label:"Amount",address:!1},accountPubkey:{label:"Account",address:!0},mintPubkey:{label:"Mint",address:!0},sourcePubkey:{label:"Source",address:!0},destinationPubkey:{label:"Destination",address:!0},ownerPubkey:{label:"Owner",address:!0}};function la(e){var t=e.instruction,n=e.onOpenAddress,a=Object(j.d)(),c=Object(j.f)(),o=Object(f.a)(c,1)[0],i=t.type,u=t.data,l=function(e){var t=xn.TOKEN_MINTS.find((function(t){return t.address.equals(e)})),n=o.some((function(t){return t.equals(e)})),r=a.publicKey.equals(e);return t?t.name:r?"This wallet":(n?"(Owned) ":"")+(null===e||void 0===e?void 0:e.toBase58())};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},ia[i]),u&&Object.entries(u).map((function(e){var t=Object(f.a)(e,2),a=t[0],c=t[1],o=ua[a];if(!o)return null;var i=o.label,u=o.address;return r.a.createElement(Yn,{key:a,label:i+"",value:u?l(c):c,link:u,onClick:function(){return u&&n(null===c||void 0===c?void 0:c.toBase58())}})})))}function sa(e){var t=e.opener,n=Object(j.d)(),c=Object(a.useMemo)((function(){return new URLSearchParams(window.location.hash.slice(1)).get("origin")}),[]),o=Object(a.useCallback)((function(e){t.postMessage(Object(ln.a)({jsonrpc:"2.0"},e),c)}),[t,c]),i=Object(a.useState)(null),u=Object(f.a)(i,2),l=u[0],s=u[1],d=!!l,m=Object(a.useState)([]),p=Object(f.a)(m,2),b=p[0],v=p[1],h=Object(a.useState)(!1),g=Object(f.a)(h,2),E=g[0],w=g[1];if(Object(a.useEffect)((function(){if(d){var e=function(){o({method:"disconnected"})};return window.addEventListener("beforeunload",e),function(){e(),window.removeEventListener("beforeunload",e)}}}),[d,o]),Object(a.useEffect)((function(){l&&!l.equals(n.publicKey)&&s(null)}),[l,n]),Object(a.useEffect)((function(){function e(e){e.origin===c&&e.source===window.opener&&("signTransaction"!==e.data.method&&o({error:"Unsupported method",id:e.data.id}),v((function(t){return[].concat(Object(Sn.a)(t),[e.data])})))}return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[c,o]),!l||!l.equals(n.publicKey)){return r.a.createElement(pa,{origin:c,onApprove:function(e){s(n.publicKey),o({method:"connected",params:{publicKey:n.publicKey.toBase58(),autoApprove:e}}),w(e),da()}})}if(b.length>0){var k=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v((function(e){return e.slice(1)})),e.t0=o,e.next=4,n.createSignature(S);case 4:e.t1=e.sent,e.t2=n.publicKey.toBase58(),e.t3={signature:e.t1,publicKey:e.t2},e.t4=O.id,e.t5={result:e.t3,id:e.t4},(0,e.t0)(e.t5),1===b.length&&da();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=b[0];Vn()("signTransaction"===O.method);var S=Q.a.decode(O.params.message);return r.a.createElement(ba,{key:O.id,autoApprove:E,origin:c,message:S,onApprove:k,onReject:function(){v((function(e){return e.slice(1)})),o({error:"Transaction cancelled",id:O.id}),1===b.length&&da()}})}return r.a.createElement(y.a,null,"Please keep this window open in the background.")}function da(){window.open("","parent")}var ma=Object(h.a)((function(e){return{connection:{marginTop:e.spacing(3),marginBottom:e.spacing(3),textAlign:"center"},transaction:{wordBreak:"break-all"},approveButton:{backgroundColor:"#43a047",color:"white"},actions:{justifyContent:"space-between"},snackbarRoot:{backgroundColor:e.palette.background.paper},warningMessage:{margin:e.spacing(1),color:e.palette.text.primary},warningIcon:{marginRight:e.spacing(1),fontSize:24},warningTitle:{color:e.palette.warning.light,fontWeight:600,fontSize:16,alignItems:"center",display:"flex"},warningContainer:{marginTop:e.spacing(1)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function pa(e){var t=e.origin,n=e.onApprove,c=Object(j.d)(),o=ma(),i=Object(a.useState)(!1),u=Object(f.a)(i,2),l=u[0],s=u[1],d=Object(Se.f)("dismissedAutoApproveWarning",!1),m=Object(f.a)(d,2),p=m[0],b=m[1];return r.a.createElement(qn.a,null,r.a.createElement(_n.a,null,r.a.createElement(y.a,{variant:"h6",component:"h1",gutterBottom:!0},"Allow this site to access your Solana account?"),r.a.createElement("div",{className:o.connection},r.a.createElement(y.a,null,t),r.a.createElement(Hn.a,{fontSize:"large"}),r.a.createElement(y.a,null,c.publicKey.toBase58())),r.a.createElement(y.a,null,"Only connect with sites you trust."),r.a.createElement(M.a,{className:o.divider}),r.a.createElement(J.a,{control:r.a.createElement(Y.a,{checked:l,onChange:function(){return s(!l)},color:"primary"}),label:"Automatically approve transactions from ".concat(t)}),!p&&l&&r.a.createElement(zn.a,{className:o.warningContainer,message:r.a.createElement("div",null,r.a.createElement("span",{className:o.warningTitle},r.a.createElement(ea.a,{className:o.warningIcon}),"Use at your own risk."),r.a.createElement(y.a,{className:o.warningMessage},"This setting allows sending some transactions on your behalf without requesting your permission for the remainder of this session.")),action:[r.a.createElement(E.a,{onClick:function(){return b("1")}},"I understand")],classes:{root:o.snackbarRoot}})),r.a.createElement(Xn.a,{className:o.actions},r.a.createElement(E.a,{onClick:window.close},"Cancel"),r.a.createElement(E.a,{color:"primary",onClick:function(){return n(l)},disabled:!p&&l},"Connect")))}function fa(e,t,n){var a=!1,r={CREATED:0,OWNED:1,CLOSED_TO_OWNED_DESTINATION:2},c={};function o(t){return!!t&&(!!(null===e||void 0===e?void 0:e.some((function(e){return e.equals(t)})))||c[t.toBase58()]===r.OWNED)}return n.forEach((function(e){if(e)if(["cancelOrder","matchOrders"].includes(e.type));else if("systemCreate"===e.type){var n=e.data.newAccountPubkey;n?c[n.toBase58()]=r.CREATED:a=!0}else if("newOrder"===e.type){var i=e.data,u=i.openOrdersPubkey,l=i.ownerPubkey;l&&t.equals(l)?c[u.toBase58()]=r.OWNED:a=!0}else if("initializeAccount"===e.type){var s=e.data,d=s.ownerPubkey,m=s.accountPubkey;t&&d&&t.equals(d)&&m&&c[m.toBase58()]===r.CREATED?c[m.toBase58()]=r.OWNED:a=!0}else if("settleFunds"===e.type){var p=e.data,f=p.basePubkey,b=p.quotePubkey;o(f)&&o(b)||(a=!0)}else if("closeAccount"===e.type){var v=e.data,y=v.sourcePubkey;o(v.destinationPubkey)?c[y.toBase58()]=r.CLOSED_TO_OWNED_DESTINATION:a=!0}else a=!0;else a=!0})),Object.values(c).some((function(e){return![r.CLOSED_TO_OWNED_DESTINATION,r.OWNED].includes(e)}))&&(a=!0),!a}function ba(e){var t=e.origin,n=e.message,c=e.onApprove,o=e.onReject,i=e.autoApprove,u=ma(),l=Object(g.i)(),s=Object(g.f)(),d=Object(j.d)(),m=Object(j.f)(),p=Object(f.a)(m,1)[0],b=Object(a.useState)(!0),v=Object(f.a)(b,2),h=v[0],w=v[1],k=Object(a.useState)(null),O=Object(f.a)(k,2),S=O[0],x=O[1],C=Object(a.useRef)();Object(a.useEffect)((function(){Tn(s,d,n).then((function(e){x(e),w(!1)}))}),[n,s,d]);var A=Object(a.useMemo)((function(){return{safe:p&&S&&fa(p,d.publicKey,S)}}),[p,S,d]);Object(a.useEffect)((function(){A.safe&&i?(console.log("Auto approving safe transaction"),c()):(window.focus(),C.current&&(C.current.scrollIntoView({behavior:"smooth"}),setTimeout((function(){return C.current.focus()}),50)))}),[A,i,C]);var T=function(e){e&&window.open("https://explorer.solana.com/address/"+e+l,"_blank")};return r.a.createElement(qn.a,null,r.a.createElement(_n.a,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",marginBottom:20}},r.a.createElement(de.a,{style:{marginRight:20}}),r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Parsing transaction:")),r.a.createElement(y.a,{style:{wordBreak:"break-all"}},Q.a.encode(n))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6",gutterBottom:!0},S?"".concat(t," wants to:"):"Unknown transaction data"),S?S.map((function(e,t){return r.a.createElement(Un.a,{style:{marginTop:20},key:t},function(e){switch(null===e||void 0===e?void 0:e.type){case"cancelOrder":case"matchOrders":case"settleFunds":return r.a.createElement(oa,{instruction:e,onOpenAddress:T});case"closeAccount":case"initializeAccount":case"transfer":case"approve":case"mintTo":return r.a.createElement(la,{instruction:e,onOpenAddress:T});case"systemCreate":case"systemTransfer":return r.a.createElement(aa,{instruction:e,onOpenAddress:T});case"newOrder":return r.a.createElement(Zn,{instruction:e,onOpenAddress:T});default:return r.a.createElement(Qn,{instruction:e})}}(e),r.a.createElement(M.a,{style:{marginTop:20}}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",style:{fontWeight:"bold"},gutterBottom:!0},"Unknown transaction:"),r.a.createElement(y.a,{style:{wordBreak:"break-all"}},Q.a.encode(n))),!A.safe&&r.a.createElement(zn.a,{className:u.warningContainer,message:r.a.createElement("div",null,r.a.createElement("span",{className:u.warningTitle},r.a.createElement(ea.a,{className:u.warningIcon}),"Nonstandard DEX transaction"),r.a.createElement(y.a,{className:u.warningMessage},"Sollet does not recognize this transaction as a standard Serum DEX transaction")),classes:{root:u.snackbarRoot}}))),r.a.createElement(Xn.a,{className:u.actions},r.a.createElement(E.a,{onClick:o},"Cancel"),r.a.createElement(E.a,{ref:C,className:u.approveButton,variant:"contained",color:"primary",onClick:c},"Approve")))}var va=n(813);function ya(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1];return r.a.createElement(Ee.a,{maxWidth:"sm"},n?r.a.createElement(ka,{goBack:function(){return c(!1)}}):r.a.createElement(r.a.Fragment,null,Object(re.d)()?r.a.createElement(wa,null):r.a.createElement(ha,null),r.a.createElement("br",null),r.a.createElement(Te.a,{style:{cursor:"pointer"},onClick:function(){return c(!0)}},"Restore existing wallet")))}function ha(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){Object(re.b)().then(c)}),[]);var o=Object(a.useState)(!1),i=Object(f.a)(o,2),u=i[0],l=i[1],s=st();return u?r.a.createElement(Ea,{mnemonicAndSeed:n,goBack:function(){return l(!1)},onSubmit:function(e){var t=n.mnemonic,a=n.seed;s(Object(re.g)(t,a,e),{progressMessage:"Creating wallet...",successMessage:"Wallet created"})}}):r.a.createElement(ga,{mnemonicAndSeed:n,goForward:function(){return l(!0)}})}function ga(e){var t=e.mnemonicAndSeed,n=e.goForward,c=Object(a.useState)(!1),o=Object(f.a)(c,2),i=o[0],u=o[1];return r.a.createElement(qn.a,null,r.a.createElement(_n.a,null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Create New Wallet"),r.a.createElement(y.a,{paragraph:!0},"Create a new wallet to hold Solana and SPL tokens."),r.a.createElement(y.a,null,"Please write down the following twelve words and keep them in a safe place:"),t?r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,multiline:!0,margin:"normal",value:t.mnemonic,label:"Seed Words",onFocus:function(e){return e.currentTarget.select()}}):r.a.createElement(Ce,null),r.a.createElement(y.a,{paragraph:!0},"Your private keys are only stored on your current computer or device. You will need these words to restore your wallet if your browser's storage is cleared or your device is damaged or lost."),r.a.createElement(J.a,{control:r.a.createElement(va.a,{checked:i,disabled:!t,onChange:function(e){return u(e.target.checked)}}),label:"I have saved these words in a safe place."})),r.a.createElement(Xn.a,{style:{justifyContent:"flex-end"}},r.a.createElement(E.a,{color:"primary",disabled:!i,onClick:n},"Continue")))}function Ea(e){var t=e.goBack,n=e.onSubmit,c=Object(a.useState)(""),o=Object(f.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(""),s=Object(f.a)(l,2),d=s[0],m=s[1];return r.a.createElement(qn.a,null,r.a.createElement(_n.a,null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Choose a Password (Optional)"),r.a.createElement(y.a,null,"Optionally pick a password to protect your wallet."),r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"New Password",type:"password",autoComplete:"new-password",value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Confirm Password",type:"password",autoComplete:"new-password",value:d,onChange:function(e){return m(e.target.value)}}),r.a.createElement(y.a,null,"If you forget your password you will need to restore your wallet using your seed words.")),r.a.createElement(Xn.a,{style:{justifyContent:"space-between"}},r.a.createElement(E.a,{onClick:t},"Back"),r.a.createElement(E.a,{color:"primary",disabled:i!==d,onClick:function(){return n(i)}},"Create Wallet")))}function wa(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(f.a)(o,2),u=i[0],l=i[1],s=st();return r.a.createElement(qn.a,null,r.a.createElement(_n.a,null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Unlock Wallet"),r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Password",type:"password",autoComplete:"current-password",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement(J.a,{control:r.a.createElement(va.a,{checked:u,onChange:function(e){return l(e.target.checked)}}),label:"Keep wallet unlocked"})),r.a.createElement(Xn.a,{style:{justifyContent:"flex-end"}},r.a.createElement(E.a,{color:"primary",onClick:function(){s(Object(re.e)(n,u),{progressMessage:"Unlocking wallet...",successMessage:"Wallet unlocked"})}},"Unlock")))}function ka(e){var t=e.goBack,n=Object(a.useState)(""),c=Object(f.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)(""),l=Object(f.a)(u,2),s=l[0],d=l[1],m=Object(a.useState)(""),p=Object(f.a)(m,2),b=p[0],v=p[1],h=st();return r.a.createElement(qn.a,null,r.a.createElement(_n.a,null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Restore Existing Wallet"),r.a.createElement(y.a,null,"Restore your wallet using your twelve seed words. Note that this will delete any existing wallet on this device."),r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:3,margin:"normal",label:"Seed Words",value:o,onChange:function(e){return i(e.target.value)}}),r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"New Password (Optional)",type:"password",autoComplete:"new-password",value:s,onChange:function(e){return d(e.target.value)}}),r.a.createElement(H.a,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Confirm Password",type:"password",autoComplete:"new-password",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement(Xn.a,{style:{justifyContent:"space-between"}},r.a.createElement(E.a,{onClick:t},"Cancel"),r.a.createElement(E.a,{color:"primary",disabled:s!==b,onClick:function(){h(Object(re.f)(o).then((function(e){return Object(re.g)(o,e,s)})))}},"Restore")))}function Oa(){var e=Object(u.a)("(prefers-color-scheme: dark)"),t=r.a.useMemo((function(){return Object(l.a)({palette:{type:e?"dark":"light",primary:m.a}})}),[e]);return window.self!==window.top?null:r.a.createElement(a.Suspense,{fallback:r.a.createElement(Ce,null)},r.a.createElement(s.a,{theme:t},r.a.createElement(i.a,null),r.a.createElement(g.a,null,r.a.createElement(me.a,{maxSnack:5,autoHideDuration:8e3},r.a.createElement(j.a,null,r.a.createElement(be,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(Ce,null)},r.a.createElement(ja,null))))))))}function ja(){return Object(j.d)()?window.opener?r.a.createElement(sa,{opener:window.opener}):r.a.createElement(jn,null):r.a.createElement(ya,null)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Oa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));var a,r=n(104),c=n(67),o=n.n(c),i=n(27),u=n(36),l=n(0),s=Object(r.a)({},i.b,[{mintAddress:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",tokenName:"Serum",tokenSymbol:"SRM",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{mintAddress:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",tokenName:"MegaSerum",tokenSymbol:"MSRM",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{tokenSymbol:"BTC",mintAddress:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",tokenName:"Wrapped Bitcoin",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"},{tokenSymbol:"ETH",mintAddress:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",tokenName:"Wrapped Ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{tokenSymbol:"FTT",mintAddress:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",tokenName:"Wrapped FTT",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0x50D1c9771902476076eCFc8B2A83Ad6b9355a4c9/logo.png"},{tokenSymbol:"YFI",mintAddress:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",tokenName:"Wrapped YFI",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e/logo.png"},{tokenSymbol:"LINK",mintAddress:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",tokenName:"Wrapped Chainlink",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{tokenSymbol:"XRP",mintAddress:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",tokenName:"Wrapped XRP",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ripple/info/logo.png"},{tokenSymbol:"USDT",mintAddress:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",tokenName:"Wrapped USDT",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{tokenSymbol:"USDC",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",tokenName:"USD Coin",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{tokenSymbol:"WUSDC",mintAddress:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",tokenName:"Wrapped USDC",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png",deprecated:!0},{tokenSymbol:"SUSHI",mintAddress:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",tokenName:"Wrapped SUSHI",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B3595068778DD592e39A122f4f5a5cF09C90fE2/logo.png"},{tokenSymbol:"ALEPH",mintAddress:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",tokenName:"Wrapped ALEPH",icon:"https://raw.githubusercontent.com/trustwallet/assets/6996a371cd02f516506a8f092eeb29888501447c/blockchains/nuls/assets/NULSd6HgyZkiqLnBzTaeSQfx1TNg2cqbzq51h/logo.png"},{tokenSymbol:"SXP",mintAddress:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",tokenName:"Wrapped SXP",icon:"https://github.com/trustwallet/assets/raw/b0ab88654fe64848da80d982945e4db06e197d4f/blockchains/ethereum/assets/0x8CE9137d39326AD0cD6491fb5CC0CbA0e089b6A9/logo.png"},{tokenSymbol:"HGET",mintAddress:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",tokenName:"Wrapped HGET"},{tokenSymbol:"CREAM",mintAddress:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",tokenName:"Wrapped CREAM",icon:"https://raw.githubusercontent.com/trustwallet/assets/4c82c2a409f18a4dd96a504f967a55a8fe47026d/blockchains/smartchain/assets/0xd4CB328A82bDf5f03eB737f37Fa6B370aef3e888/logo.png"},{tokenSymbol:"UBXT",mintAddress:"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei",tokenName:"Wrapped UBXT"},{tokenSymbol:"HNT",mintAddress:"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e",tokenName:"Wrapped HNT"},{tokenSymbol:"FRONT",mintAddress:"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw",tokenName:"Wrapped FRONT",icon:"https://raw.githubusercontent.com/trustwallet/assets/6e375e4e5fb0ffe09ed001bae1ef8ca1d6c86034/blockchains/ethereum/assets/0xf8C3527CC04340b208C854E985240c02F7B7793f/logo.png"},{tokenSymbol:"AKRO",mintAddress:"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF",tokenName:"Wrapped AKRO",icon:"https://raw.githubusercontent.com/trustwallet/assets/878dcab0fab90e6593bcb9b7d941be4915f287dc/blockchains/ethereum/assets/0xb2734a4Cec32C81FDE26B0024Ad3ceB8C9b34037/logo.png"},{tokenSymbol:"HXRO",mintAddress:"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc",tokenName:"Wrapped HXRO"},{tokenSymbol:"UNI",mintAddress:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",tokenName:"Wrapped UNI",icon:"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{tokenSymbol:"MATH",mintAddress:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",tokenName:"Wrapped MATH"},{tokenSymbol:"TOMO",mintAddress:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",tokenName:"Wrapped TOMO",icon:"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/tomochain/info/logo.png"},{tokenSymbol:"LUA",mintAddress:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",tokenName:"Wrapped LUA",icon:"https://raw.githubusercontent.com/trustwallet/assets/2d2491130e6beda208ba4fc6df028a82a0106ab6/blockchains/ethereum/assets/0xB1f66997A5760428D3a87D68b90BfE0aE64121cC/logo.png"}]),d=JSON.parse(null!==(a=localStorage.getItem("tokenNames"))&&void 0!==a?a:"{}"),m=new o.a;function p(e){var t,n,a,r,c=Object(i.g)().endpoint;if(Object(u.e)(m,"update"),!e)return{name:null,symbol:null};var o=null===d||void 0===d||null===(t=d[c])||void 0===t?void 0:t[e.toBase58()],l=null===s||void 0===s||null===(n=s[c])||void 0===n?void 0:n.find((function(t){return t.mintAddress===e.toBase58()}));return!l||o&&!l.deprecated||(o={name:l.tokenName,symbol:l.tokenSymbol}),{name:null===(a=o)||void 0===a?void 0:a.name,symbol:null===(r=o)||void 0===r?void 0:r.symbol}}function f(){var e=Object(i.g)().endpoint;return Object(l.useCallback)((function(t,n,a){if(!n||!a)if(n)a=n;else{if(!a)return;n=a}d[e]||(d[e]={}),d[e][t.toBase58()]={name:n,symbol:a},localStorage.setItem("tokenNames",JSON.stringify(d)),m.emit("update")}),[e])}m.setMaxListeners(100)}},[[419,2,3]]]);
//# sourceMappingURL=main.7fb9ed2e.chunk.js.map